<!DOCTYPE html>
<html lang="en-US">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	

	<title>MySQL – Page 36 – code.openark.org</title>
<link rel="dns-prefetch" href="//secure.gravatar.com">
<link rel="dns-prefetch" href="//s.w.org">



<link rel="stylesheet" id="wp-block-library-css" href="https://shlomi-noach.github.io/blog/wp-includes/css/dist/block-library/style.min.css" media="all">
<style id="wp-block-library-inline-css">
.has-text-align-justify{text-align:justify;}
</style>
<link rel="stylesheet" id="wp-polls-css" href="https://shlomi-noach.github.io/blog/wp-content/plugins/wp-polls/polls-css.css" media="all">
<style id="wp-polls-inline-css">
.wp-polls .pollbar {
	margin: 1px;
	font-size: 6px;
	line-height: 8px;
	height: 8px;
	background-image: url('https://shlomi-noach.github.io/blog/wp-content/plugins/wp-polls/images/default/pollbg.gif');
	border: 1px solid #c8c8c8;
}

</style>
<link rel="stylesheet" id="openark-primer-style-css" href="https://shlomi-noach.github.io/blog/wp-content/themes/openark-primer/style.css" media="all">
<link rel="stylesheet" id="jetpack_css-css" href="https://shlomi-noach.github.io/blog/wp-content/plugins/jetpack/css/jetpack.css" media="all">
<script src="https://shlomi-noach.github.io/blog/wp-includes/js/jquery/jquery.js"></script>
<script src="https://shlomi-noach.github.io/blog/wp-includes/js/jquery/jquery-migrate.min.js"></script>



<style data-context="foundation-flickity-css">/*! Flickity v2.0.2
http://flickity.metafizzy.co
---------------------------------------------- */.flickity-enabled{position:relative}.flickity-enabled:focus{outline:0}.flickity-viewport{overflow:hidden;position:relative;height:100%}.flickity-slider{position:absolute;width:100%;height:100%}.flickity-enabled.is-draggable{-webkit-tap-highlight-color:transparent;tap-highlight-color:transparent;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.flickity-enabled.is-draggable .flickity-viewport{cursor:move;cursor:-webkit-grab;cursor:grab}.flickity-enabled.is-draggable .flickity-viewport.is-pointer-down{cursor:-webkit-grabbing;cursor:grabbing}.flickity-prev-next-button{position:absolute;top:50%;width:44px;height:44px;border:none;border-radius:50%;background:#fff;background:hsla(0,0%,100%,.75);cursor:pointer;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.flickity-prev-next-button:hover{background:#fff}.flickity-prev-next-button:focus{outline:0;box-shadow:0 0 0 5px #09f}.flickity-prev-next-button:active{opacity:.6}.flickity-prev-next-button.previous{left:10px}.flickity-prev-next-button.next{right:10px}.flickity-rtl .flickity-prev-next-button.previous{left:auto;right:10px}.flickity-rtl .flickity-prev-next-button.next{right:auto;left:10px}.flickity-prev-next-button:disabled{opacity:.3;cursor:auto}.flickity-prev-next-button svg{position:absolute;left:20%;top:20%;width:60%;height:60%}.flickity-prev-next-button .arrow{fill:#333}.flickity-page-dots{position:absolute;width:100%;bottom:-25px;padding:0;margin:0;list-style:none;text-align:center;line-height:1}.flickity-rtl .flickity-page-dots{direction:rtl}.flickity-page-dots .dot{display:inline-block;width:10px;height:10px;margin:0 8px;background:#333;border-radius:50%;opacity:.25;cursor:pointer}.flickity-page-dots .dot.is-selected{opacity:1}</style><style data-context="foundation-slideout-css">.slideout-menu{position:fixed;left:0;top:0;bottom:0;right:auto;z-index:0;width:256px;overflow-y:auto;-webkit-overflow-scrolling:touch;display:none}.slideout-menu.pushit-right{left:auto;right:0}.slideout-panel{position:relative;z-index:1;will-change:transform}.slideout-open,.slideout-open .slideout-panel,.slideout-open body{overflow:hidden}.slideout-open .slideout-menu{display:block}.pushit{display:none}</style>
<link rel="dns-prefetch" href="//v0.wordpress.com">


<meta property="og:type" content="website">
<meta property="og:title" content="MySQL – Page 36 – code.openark.org">
<meta property="og:url" content="https://shlomi-noach.github.io/blog/category/mysql">
<meta property="og:description" content="MySQL related posts">
<meta property="og:site_name" content="code.openark.org">
<meta property="og:image" content="https://s0.wp.com/i/blank.jpg">
<meta property="og:locale" content="en_US">


<style>.ios7.web-app-mode.has-fixed header{ background-color: rgba(242,101,34,.88);}</style></head>

<body class="archive paged category category-mysql category-5 paged-36 category-paged-36 hfeed no-sidebar">
<div id="page" class="site">
	<a class="skip-link screen-reader-text" href="#primary">Skip to content</a>

	<header id="masthead" class="site-header">
		<div class="site-branding">
							<p class="site-title"><a href="https://shlomi-noach.github.io/blog/" rel="home">code.openark.org</a></p>
								<p class="site-description">Blog by Shlomi Noach</p>
			
			<nav id="site-navigation" class="main-navigation">
				<button class="menu-toggle" aria-controls="primary-menu" aria-expanded="false">primary-menu</button>
				<div class="menu-primary-menu-container"><ul id="menu-primary-menu" class="menu"><li id="menu-item-8109" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-8109"><a href="https://shlomi-noach.github.io/blog/archives">archives</a></li>
<li id="menu-item-8050" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-8050"><a href="https://shlomi-noach.github.io/blog/presentations">presentations</a></li>
<li id="menu-item-8055" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-8055"><a href="https://shlomi-noach.github.io/blog/about">about</a></li>
<li id="menu-item-8071" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-8071"><a href="https://github.com/shlomi-noach"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewbox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg></a></li>
<li id="menu-item-8074" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-8074"><a href="https://www.linkedin.com/in/shlominoach"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewbox="0 0 24 24"><path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"></path></svg></a></li>
<li id="menu-item-8072" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-8072"><a href="https://twitter.com/ShlomiNoach"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewbox="0 0 24 24"><path d="M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm6.066 9.645c.183 4.04-2.83 8.544-8.164 8.544-1.622 0-3.131-.476-4.402-1.291 1.524.18 3.045-.244 4.252-1.189-1.256-.023-2.317-.854-2.684-1.995.451.086.895.061 1.298-.049-1.381-.278-2.335-1.522-2.304-2.853.388.215.83.344 1.301.359-1.279-.855-1.641-2.544-.889-3.835 1.416 1.738 3.533 2.881 5.92 3.001-.419-1.796.944-3.527 2.799-3.527.825 0 1.572.349 2.096.907.654-.128 1.27-.368 1.824-.697-.215.671-.67 1.233-1.263 1.589.581-.07 1.135-.224 1.649-.453-.384.578-.87 1.084-1.433 1.489z"></path></svg></a></li>
<li id="menu-item-8073" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-8073"><a href="https://shlomi-noach.github.io/blog/feed"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewbox="0 0 24 24"><path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-12.832 20c-1.197 0-2.168-.969-2.168-2.165s.971-2.165 2.168-2.165 2.167.969 2.167 2.165-.97 2.165-2.167 2.165zm5.18 0c-.041-4.029-3.314-7.298-7.348-7.339v-3.207c5.814.041 10.518 4.739 10.561 10.546h-3.213zm5.441 0c-.021-7.063-5.736-12.761-12.789-12.792v-3.208c8.83.031 15.98 7.179 16 16h-3.211z"></path></svg></a></li>
</ul></div>			</nav>
		</div>
	</header>

	<main id="primary" class="site-main">

		
			<header class="page-header">
				<h1 class="page-title">Category: MySQL</h1><div class="archive-description"><p>MySQL related posts</p>
</div>			</header>

			
<article id="post-1050" class="post-1050 post type-post status-publish format-standard hentry category-mysql tag-graphs tag-sql">
	<header class="entry-header">
		<h2 class="entry-title"><a href="https://shlomi-noach.github.io/blog/mysql/auto-scaling-scaled-sql-graphs-concluded" rel="bookmark">Auto scaling, scaled SQL graphs concluded</a></h2>			<div class="entry-meta">
				<span class="cat-links"><a href="https://shlomi-noach.github.io/blog/category/mysql" rel="category tag">MySQL</a></span><span class="tags-links"><a href="https://shlomi-noach.github.io/blog/tag/graphs" rel="tag">Graphs</a><a href="https://shlomi-noach.github.io/blog/tag/sql" rel="tag">SQL</a></span><span class="posted-on alignright"><a href="https://shlomi-noach.github.io/blog/mysql/auto-scaling-scaled-sql-graphs-concluded" rel="bookmark"><time class="entry-date published updated" datetime="2009-07-28T14:38:08+02:00">July 28, 2009</time></a></span>			</div>
			</header>

	
	<div class="entry-content">
		<p>I wasn’t sure I was to go this far. After catching breath the following have been added to <a href="https://shlomi-noach.github.io/blog/mysql/generic-auto-scaling-scaled-sql-graphs">Generic, auto scaling, scaled SQL graphs</a>, and these will conclude my current hacks:</p>
<ul>
<li>Displaying X-axis min/max values.</li>
<li>Support for Y-axis values precision.</li>
<li>Support for pre-defined scale range.</li>
</ul>
<p>The addition of the above makes for presentable, usable graphs. See also sample graphs at the end of this post.</p>
<h4>Step 8: adding X-axis values</h4>
<p>I add minimum/maximum X-scale values to the graph. What was just <strong>ordering_column</strong> before, now turns to be the <strong>x</strong> in the <strong>y = f(x)</strong> function. <a href="https://shlomi-noach.github.io/blog/mysql/auto-scaling-scaled-sql-graphs-concluded#more-1050" class="more-link">Continue reading »<span class="screen-reader-text"> “Auto scaling, scaled SQL graphs concluded”</span></a></p>
	</div>

	<footer class="entry-footer">
		<span class="comments-link"><a href="https://shlomi-noach.github.io/blog/mysql/auto-scaling-scaled-sql-graphs-concluded#comments">8 Comments<span class="screen-reader-text"> on Auto scaling, scaled SQL graphs concluded</span></a></span>	</footer>
</article>

<article id="post-1009" class="post-1009 post type-post status-publish format-standard hentry category-mysql tag-graphs tag-sql">
	<header class="entry-header">
		<h2 class="entry-title"><a href="https://shlomi-noach.github.io/blog/mysql/generic-auto-scaling-scaled-sql-graphs" rel="bookmark">Generic, auto scaling, scaled SQL graphs</a></h2>			<div class="entry-meta">
				<span class="cat-links"><a href="https://shlomi-noach.github.io/blog/category/mysql" rel="category tag">MySQL</a></span><span class="tags-links"><a href="https://shlomi-noach.github.io/blog/tag/graphs" rel="tag">Graphs</a><a href="https://shlomi-noach.github.io/blog/tag/sql" rel="tag">SQL</a></span><span class="posted-on alignright"><a href="https://shlomi-noach.github.io/blog/mysql/generic-auto-scaling-scaled-sql-graphs" rel="bookmark"><time class="entry-date published" datetime="2009-07-27T12:17:16+02:00">July 27, 2009</time><time class="updated" datetime="2009-07-28T15:08:13+02:00">July 28, 2009</time></a></span>			</div>
			</header>

	
	<div class="entry-content">
		<p>In <a href="https://shlomi-noach.github.io/blog/mysql/rotating-sql-graphs-horizontally">Rotating SQL graphs horizontally</a>, I have shown how to rotate an ASCII SQL graph into horizontal position.</p>
<p>I was dissatisfied with some parts of the solution, which I will show now how to fix:</p>
<ul>
<li>I had to manually scale the graph values so as to fit nicely into screen.</li>
<li>I had to rely on hard coded scaling schemes.</li>
<li>I had to rely on hard coded column names.</li>
<li>I had no y-axis legend.</li>
</ul>
<p>I will now present an SQL query which allows for <em>pluggable queries</em>, which creates self, <em>auto scaling graphs</em>, along with <em>y-axis scales</em>.</p>
<p>Using deeply nested subqueries, we will evolve a simple SELECT query into an elaborate graph. I will present the many steps required, followed by explanations and sample results. But in the end – the steps are unimportant. I’ll present a <em>generic query</em>, into which your own SELECT can be embedded, and which will provide you with the graph.</p>
<p>We’ll use the same example, found in <a href="https://shlomi-noach.github.io/blog/wp-content/uploads/2009/07/graph2.sql">graph.sql</a>.</p>
<h4> <a href="https://shlomi-noach.github.io/blog/mysql/generic-auto-scaling-scaled-sql-graphs#more-1009" class="more-link">Continue reading »<span class="screen-reader-text"> “Generic, auto scaling, scaled SQL graphs”</span></a></h4>
	</div>

	<footer class="entry-footer">
		<span class="comments-link"><a href="https://shlomi-noach.github.io/blog/mysql/generic-auto-scaling-scaled-sql-graphs#comments">9 Comments<span class="screen-reader-text"> on Generic, auto scaling, scaled SQL graphs</span></a></span>	</footer>
</article>

<article id="post-984" class="post-984 post type-post status-publish format-standard hentry category-mysql tag-graphs tag-sql">
	<header class="entry-header">
		<h2 class="entry-title"><a href="https://shlomi-noach.github.io/blog/mysql/rotating-sql-graphs-horizontally" rel="bookmark">Rotating SQL graphs horizontally</a></h2>			<div class="entry-meta">
				<span class="cat-links"><a href="https://shlomi-noach.github.io/blog/category/mysql" rel="category tag">MySQL</a></span><span class="tags-links"><a href="https://shlomi-noach.github.io/blog/tag/graphs" rel="tag">Graphs</a><a href="https://shlomi-noach.github.io/blog/tag/sql" rel="tag">SQL</a></span><span class="posted-on alignright"><a href="https://shlomi-noach.github.io/blog/mysql/rotating-sql-graphs-horizontally" rel="bookmark"><time class="entry-date published" datetime="2009-07-24T06:00:12+02:00">July 24, 2009</time><time class="updated" datetime="2009-07-27T12:53:50+02:00">July 27, 2009</time></a></span>			</div>
			</header>

	
	<div class="entry-content">
		<p>We all love graphs. We all love SQL hacks. We all know the SQL hack which displays a character-based graph (example follows for those unfamiliar).</p>
<p>But we all love <em>horizontal</em> graphs, not vertical ones. We are used to the X axis being horizontal, Y being vertical. Not vice versa.</p>
<p>In this post I’ll present a SQL hack which rotates a vertical graph to horizontal. In fact, the technique shown will rotate any ‘textual image’; but graphs are a nice example.</p>
<h4>A vertical graph example</h4>
<p>What’s prettier than a sinus curve? I have prepared a simple table that will serve nicely, and can be found in <a href="https://shlomi-noach.github.io/blog/wp-content/uploads/2009/07/graph.sql">graph_tables.sql</a>.</p>
<p> <a href="https://shlomi-noach.github.io/blog/mysql/rotating-sql-graphs-horizontally#more-984" class="more-link">Continue reading »<span class="screen-reader-text"> “Rotating SQL graphs horizontally”</span></a></p>
	</div>

	<footer class="entry-footer">
		<span class="comments-link"><a href="https://shlomi-noach.github.io/blog/mysql/rotating-sql-graphs-horizontally#comments">10 Comments<span class="screen-reader-text"> on Rotating SQL graphs horizontally</span></a></span>	</footer>
</article>

<article id="post-955" class="post-955 post type-post status-publish format-standard hentry category-mysql tag-java tag-web">
	<header class="entry-header">
		<h2 class="entry-title"><a href="https://shlomi-noach.github.io/blog/mysql/the-db-problem-inherent-to-dynamic-web-pages" rel="bookmark">The DB problem inherent to dynamic web pages</a></h2>			<div class="entry-meta">
				<span class="cat-links"><a href="https://shlomi-noach.github.io/blog/category/mysql" rel="category tag">MySQL</a></span><span class="tags-links"><a href="https://shlomi-noach.github.io/blog/tag/java" rel="tag">Java</a><a href="https://shlomi-noach.github.io/blog/tag/web" rel="tag">Web</a></span><span class="posted-on alignright"><a href="https://shlomi-noach.github.io/blog/mysql/the-db-problem-inherent-to-dynamic-web-pages" rel="bookmark"><time class="entry-date published updated" datetime="2009-07-20T13:48:56+02:00">July 20, 2009</time></a></span>			</div>
			</header>

	
	<div class="entry-content">
		<p>When building web sites, a popular demand is a maximum page load time.</p>
<p>For example, many would require < 0.5 seconds (or even less) for major pages loading time. Of course, there are numerous factors for page load time: network, caching, web servers, scripting language/code, database access and more.</p>
<p>Naturally I want to discuss the use of database access when creating web pages. I’ll be referring to dynamic web pages, such that are created by common languages as PHP, Java/J2EE, Ruby, ASP(.NET) etc.</p>
<p>A very common programming style is – what’s called in the Java jargon – using “scriptlets” as in the following JSP page:</p>
<blockquote>
<pre><html>
<body>
    Time now is <%= new java.util.Date() %>
</body>
</html></pre>
</blockquote>
<p>The above replaces the “<em><%= new java.util.Date() %></em>” part with a text representation of the current time.</p>
<p>If I were to produce a dynamic content site, say, a WordPress blog, like the one you’re reading, I would need to generate several dynamic contents: the latest posts, the popular tags, the comments for this post, etc. These are generated by calling upon the database and running some queries. I suppose there’s nothing new in what I’ve explained so far.</p>
<h4>The problem</h4>
<p>When generating a “heavyweight” page, like some online newspaper or bookstore, there may be many queries involved. Are you logged in? Do we have recommendations for you? What are the latest topics? What have you been interested in before? Do you have friends online? What content have you produced on the website?</p>
<p> <a href="https://shlomi-noach.github.io/blog/mysql/the-db-problem-inherent-to-dynamic-web-pages#more-955" class="more-link">Continue reading »<span class="screen-reader-text"> “The DB problem inherent to dynamic web pages”</span></a></p>
	</div>

	<footer class="entry-footer">
		<span class="comments-link"><a href="https://shlomi-noach.github.io/blog/mysql/the-db-problem-inherent-to-dynamic-web-pages#comments">6 Comments<span class="screen-reader-text"> on The DB problem inherent to dynamic web pages</span></a></span>	</footer>
</article>

<article id="post-828" class="post-828 post type-post status-publish format-standard hentry category-mysql tag-configuration tag-data-types">
	<header class="entry-header">
		<h2 class="entry-title"><a href="https://shlomi-noach.github.io/blog/mysql/character-sets-latin1-vs-ascii" rel="bookmark">Character sets: latin1 vs. ascii</a></h2>			<div class="entry-meta">
				<span class="cat-links"><a href="https://shlomi-noach.github.io/blog/category/mysql" rel="category tag">MySQL</a></span><span class="tags-links"><a href="https://shlomi-noach.github.io/blog/tag/configuration" rel="tag">Configuration</a><a href="https://shlomi-noach.github.io/blog/tag/data-types" rel="tag">Data Types</a></span><span class="posted-on alignright"><a href="https://shlomi-noach.github.io/blog/mysql/character-sets-latin1-vs-ascii" rel="bookmark"><time class="entry-date published" datetime="2009-07-08T09:39:02+02:00">July 8, 2009</time><time class="updated" datetime="2009-07-08T10:35:40+02:00">July 8, 2009</time></a></span>			</div>
			</header>

	
	<div class="entry-content">
		<p>Unless specified otherwise, <strong>latin1</strong> is the default character set in MySQL.</p>
<p>What I usually find in schemes are columns which are either <strong>utf8</strong> or <strong>latin1</strong>. The <strong>utf8</strong> columns being those which need to contain multilingual characters (user names, addresses, articles etc.), and <strong>latin1</strong> column being all the rest (passwords, digests, email addresses, hard-coded values etc.)</p>
<p>I find <strong>latin1</strong> to be improper for such purposes and suggest that <strong>ascii</strong> be used instead. The reason being that <strong>latin1</strong> implies a European text (with swedish collation). It is unclear for an outsider, when finding a <strong>latin1</strong> column, whether it should actually contain West European characters, or is it just being used for ascii text, utilizing the fact that a character in <strong>latin1</strong> only requires 1 byte of storage. <a href="https://shlomi-noach.github.io/blog/mysql/character-sets-latin1-vs-ascii#more-828" class="more-link">Continue reading »<span class="screen-reader-text"> “Character sets: latin1 vs. ascii”</span></a></p>
	</div>

	<footer class="entry-footer">
		<span class="comments-link"><a href="https://shlomi-noach.github.io/blog/mysql/character-sets-latin1-vs-ascii#comments">8 Comments<span class="screen-reader-text"> on Character sets: latin1 vs. ascii</span></a></span>	</footer>
</article>

<article id="post-853" class="post-853 post type-post status-publish format-standard hentry category-mysql tag-openark-kit">
	<header class="entry-header">
		<h2 class="entry-title"><a href="https://shlomi-noach.github.io/blog/mysql/new-and-noteworthy-in-openark-kit" rel="bookmark">New and Noteworthy in openark kit</a></h2>			<div class="entry-meta">
				<span class="cat-links"><a href="https://shlomi-noach.github.io/blog/category/mysql" rel="category tag">MySQL</a></span><span class="tags-links"><a href="https://shlomi-noach.github.io/blog/tag/openark-kit" rel="tag">openark kit</a></span><span class="posted-on alignright"><a href="https://shlomi-noach.github.io/blog/mysql/new-and-noteworthy-in-openark-kit" rel="bookmark"><time class="entry-date published" datetime="2009-06-30T08:38:27+02:00">June 30, 2009</time><time class="updated" datetime="2009-06-30T08:38:55+02:00">June 30, 2009</time></a></span>			</div>
			</header>

	
	<div class="entry-content">
		<p>A new release of <a href="http://code.openark.org/forge/openark-kit">openark kit</a> is out. Some interesting additions.changes are:</p>
<ul>
<li><a href="http://code.openark.org/forge/openark-kit/oak-online-alter-table">oak-online-alter-table</a>: now works with multicolumn UNIQUE KEYs</li>
<li>New: <a title="oka-chunk-update" href="http://code.openark.org/forge/openark-kit/oak-chunk-update">oak-chunk-update</a>: break an long running or non indexed UPDATE/DELETE to small chunks</li>
<li><a href="http://code.openark.org/forge/openark-kit/oak-purge-master-logs">oak-purge-master-logs</a>, <a href="http://code.openark.org/forge/openark-kit/oak-show-replication-status">oak-show-replication-status</a>: support for non standard slave ports</li>
</ul>
<p>openark kit is a set of utilities for MySQL, helping in easing out everyday’s work. Let’s look more closely at the changes.</p>
<h4>oak-online-alter-table</h4>
<p>The utility allows for non-blocking ALTER TABLE operations, under certain limitations. One limitation which has been removed in the current release was the single-column UNIQUE KEY limitation. As of now, a requirement for running <strong>oak-online-alter-table</strong> is that the altered table has <em>some</em> UNIQUE KEY. It could be numerical, textual, single column, multi-column (compound), anything. <a href="https://shlomi-noach.github.io/blog/mysql/new-and-noteworthy-in-openark-kit#more-853" class="more-link">Continue reading »<span class="screen-reader-text"> “New and Noteworthy in openark kit”</span></a></p>
	</div>

	<footer class="entry-footer">
		<span class="comments-link"><a href="https://shlomi-noach.github.io/blog/mysql/new-and-noteworthy-in-openark-kit#comments">4 Comments<span class="screen-reader-text"> on New and Noteworthy in openark kit</span></a></span>	</footer>
</article>

<article id="post-840" class="post-840 post type-post status-publish format-standard hentry category-mysql tag-books tag-sql">
	<header class="entry-header">
		<h2 class="entry-title"><a href="https://shlomi-noach.github.io/blog/mysql/unwalking-a-string-with-group_concat" rel="bookmark">Unwalking a string with GROUP_CONCAT</a></h2>			<div class="entry-meta">
				<span class="cat-links"><a href="https://shlomi-noach.github.io/blog/category/mysql" rel="category tag">MySQL</a></span><span class="tags-links"><a href="https://shlomi-noach.github.io/blog/tag/books" rel="tag">Books</a><a href="https://shlomi-noach.github.io/blog/tag/sql" rel="tag">SQL</a></span><span class="posted-on alignright"><a href="https://shlomi-noach.github.io/blog/mysql/unwalking-a-string-with-group_concat" rel="bookmark"><time class="entry-date published" datetime="2009-06-16T07:54:49+02:00">June 16, 2009</time><time class="updated" datetime="2009-09-27T14:08:16+02:00">September 27, 2009</time></a></span>			</div>
			</header>

	
	<div class="entry-content">
		<p>“Walking a string” is an SQL technique to convert a single value into multiple rows result set. For example, walking the string <strong>‘hello’</strong> results with 5 rows, each of which contains a single character from the text.</p>
<p>I’ll present a brief example of walking a string, and then show how to “unwalk” the string: do the reverse operation.</p>
<p>To walk a string, an integers table is required (or this could be a good use for <a href="http://www.mysqlconf.com/mysql2009/public/schedule/detail/6891">SeqEngine</a>): <a href="https://shlomi-noach.github.io/blog/mysql/unwalking-a-string-with-group_concat#more-840" class="more-link">Continue reading »<span class="screen-reader-text"> “Unwalking a string with GROUP_CONCAT”</span></a></p>
	</div>

	<footer class="entry-footer">
		<span class="comments-link"><a href="https://shlomi-noach.github.io/blog/mysql/unwalking-a-string-with-group_concat#comments">13 Comments<span class="screen-reader-text"> on Unwalking a string with GROUP_CONCAT</span></a></span>	</footer>
</article>

<article id="post-878" class="post-878 post type-post status-publish format-standard hentry category-mysql tag-security">
	<header class="entry-header">
		<h2 class="entry-title"><a href="https://shlomi-noach.github.io/blog/mysql/even-more-on-mysql-password-security" rel="bookmark">Even more on MySQL password security</a></h2>			<div class="entry-meta">
				<span class="cat-links"><a href="https://shlomi-noach.github.io/blog/category/mysql" rel="category tag">MySQL</a></span><span class="tags-links"><a href="https://shlomi-noach.github.io/blog/tag/security" rel="tag">Security</a></span><span class="posted-on alignright"><a href="https://shlomi-noach.github.io/blog/mysql/even-more-on-mysql-password-security" rel="bookmark"><time class="entry-date published" datetime="2009-06-08T09:28:47+02:00">June 8, 2009</time><time class="updated" datetime="2009-08-10T20:19:33+02:00">August 10, 2009</time></a></span>			</div>
			</header>

	
	<div class="entry-content">
		<p>This post follows Ronald Bradford’s <a href="http://ronaldbradford.com/blog/more-basic-mysql-security-2009-05-29/">More Basic MySQL Security</a>, and Lenz Grimmer’s <a href="http://www.lenzg.net/archives/256-Basic-MySQL-Security-Providing-passwords-on-the-command-line.html">Basic MySQL Security: Providing passwords on the command line</a> and <a href="http://www.lenzg.net/archives/257-More-on-MySQL-password-security.html">More on MySQL password security</a>.</p>
<p>In Ronald’s post I’ve argued that passwords provided on command line are visible in plaintext on “ps aux”. Lenz has argued that this is incorrect, providing the source code to support that. Giuseppe commenting that this has been fixed since 2002. Later on, Lenz shows that passwords are visible in plaintext on OpenSolaris, Solaris and variants of BSD and SysV.</p>
<p>Mental note: old habits die hard; I must remember to revisit issues from time to time.</p>
<h4>Centralizing</h4>
<p>Back to the question: <em>why use a file to store your password, and not provide it on command line? </em></p>
<p> <a href="https://shlomi-noach.github.io/blog/mysql/even-more-on-mysql-password-security#more-878" class="more-link">Continue reading »<span class="screen-reader-text"> “Even more on MySQL password security”</span></a></p>
	</div>

	<footer class="entry-footer">
		<span class="comments-link"><a href="https://shlomi-noach.github.io/blog/mysql/even-more-on-mysql-password-security#comments">2 Comments<span class="screen-reader-text"> on Even more on MySQL password security</span></a></span>	</footer>
</article>

<article id="post-705" class="post-705 post type-post status-publish format-standard hentry category-mysql tag-indexing tag-performance tag-sql">
	<header class="entry-header">
		<h2 class="entry-title"><a href="https://shlomi-noach.github.io/blog/mysql/sql-finding-a-users-countryregion-based-on-ip" rel="bookmark">SQL: finding a user’s country/region based on IP</a></h2>			<div class="entry-meta">
				<span class="cat-links"><a href="https://shlomi-noach.github.io/blog/category/mysql" rel="category tag">MySQL</a></span><span class="tags-links"><a href="https://shlomi-noach.github.io/blog/tag/indexing" rel="tag">Indexing</a><a href="https://shlomi-noach.github.io/blog/tag/performance" rel="tag">Performance</a><a href="https://shlomi-noach.github.io/blog/tag/sql" rel="tag">SQL</a></span><span class="posted-on alignright"><a href="https://shlomi-noach.github.io/blog/mysql/sql-finding-a-users-countryregion-based-on-ip" rel="bookmark"><time class="entry-date published" datetime="2009-05-26T08:35:17+02:00">May 26, 2009</time><time class="updated" datetime="2009-12-16T09:11:00+02:00">December 16, 2009</time></a></span>			</div>
			</header>

	
	<div class="entry-content">
		<p>I’ve encountered the same problem twice for different customers, so I guess it’s worth a discussion.</p>
<p>A common task for web applications is to find out the country/region of a user, based on her IP address, as can be detected in the HTTP request. Depending on the country of origin, the website can translate dates for different time zones, can change locale settings, and, perhaps most commonly, show advertisements in her native language.</p>
<p>To start with, there’s a table which lists the IP ranges per country/region. Let’s assume we’re only dealing with IPv4:</p>
<blockquote>
<pre>CREATE TABLE regions_ip_range (
  regions_ip_range_id INT UNSIGNED AUTO_INCREMENT,
  country VARCHAR(64) CHARSET utf8,
  region VARCHAR(64) CHARSET utf8,
  start_ip INT UNSIGNED,
  end_ip INT UNSIGNED,
  …
  PRIMARY KEY(regions_ip_range_id),
  ...
);</pre>
</blockquote>
<p>The table is fixed, and is populated. Now the question arises: how do we query this table, and which indexes should be created?</p>
<h4>The wrong way</h4>
<p>The form I’ve encountered is as follows: an index is declared on regions_ip_range:</p>
<blockquote>
<pre>KEY ip_range_idx (start_ip, end_ip)</pre>
</blockquote>
<p>And the query goes like this:</p>
<blockquote>
<pre>SELECT * FROM regions_ip_range
WHERE my_ip BETWEEN start_ip AND end_ip</pre>
</blockquote>
<p> <a href="https://shlomi-noach.github.io/blog/mysql/sql-finding-a-users-countryregion-based-on-ip#more-705" class="more-link">Continue reading »<span class="screen-reader-text"> “SQL: finding a user’s country/region based on IP”</span></a></p>
	</div>

	<footer class="entry-footer">
		<span class="comments-link"><a href="https://shlomi-noach.github.io/blog/mysql/sql-finding-a-users-countryregion-based-on-ip#comments">20 Comments<span class="screen-reader-text"> on SQL: finding a user’s country/region based on IP</span></a></span>	</footer>
</article>

<article id="post-614" class="post-614 post type-post status-publish format-standard hentry category-mysql tag-configuration tag-innodb tag-mysqldump tag-performance">
	<header class="entry-header">
		<h2 class="entry-title"><a href="https://shlomi-noach.github.io/blog/mysql/reasons-to-use-innodb_file_per_table" rel="bookmark">Reasons to use innodb_file_per_table</a></h2>			<div class="entry-meta">
				<span class="cat-links"><a href="https://shlomi-noach.github.io/blog/category/mysql" rel="category tag">MySQL</a></span><span class="tags-links"><a href="https://shlomi-noach.github.io/blog/tag/configuration" rel="tag">Configuration</a><a href="https://shlomi-noach.github.io/blog/tag/innodb" rel="tag">InnoDB</a><a href="https://shlomi-noach.github.io/blog/tag/mysqldump" rel="tag">mysqldump</a><a href="https://shlomi-noach.github.io/blog/tag/performance" rel="tag">Performance</a></span><span class="posted-on alignright"><a href="https://shlomi-noach.github.io/blog/mysql/reasons-to-use-innodb_file_per_table" rel="bookmark"><time class="entry-date published" datetime="2009-05-21T05:40:42+02:00">May 21, 2009</time><time class="updated" datetime="2009-12-16T09:10:58+02:00">December 16, 2009</time></a></span>			</div>
			</header>

	
	<div class="entry-content">
		<p>When working with InnoDB, you have two ways for managing the tablespace storage:</p>
<ol>
<li>Throw everything in one big file (optionally split).</li>
<li>Have one file per table.</li>
</ol>
<p>I will discuss the advantages and disadvantages of the two options, and will strive to convince that <strong>innodb_file_per_table</strong> is preferable.</p>
<h4>A single tablespace</h4>
<p>Having everything in one big file means all tables and indexes, from <em>all schemes</em>, are ‘mixed’ together in that file.</p>
<p>This allows for the following nice property: free space can be shared between different tables and different schemes. Thus, if I purge many rows from my <strong>log</strong> table, the now unused space can be occupied by new rows of any other table.</p>
<p>This same nice property also translates to a not so nice one: data can be greatly fragmented across the tablespace.</p>
<p>An annoying property of InnoDB’s tablespaces is that they never shrink. So after purging those rows from the <strong>log</strong> table, the tablespace file (usually <strong>ibdata1</strong>) still keeps the same storage. It does not release storage to the file system.</p>
<p>I’ve seen more than once how certain tables are left unwatched, growing until disk space reaches 90% and SMS notifications start beeping all around. <a href="https://shlomi-noach.github.io/blog/mysql/reasons-to-use-innodb_file_per_table#more-614" class="more-link">Continue reading »<span class="screen-reader-text"> “Reasons to use innodb_file_per_table”</span></a></p>
	</div>

	<footer class="entry-footer">
		<span class="comments-link"><a href="https://shlomi-noach.github.io/blog/mysql/reasons-to-use-innodb_file_per_table#comments">37 Comments<span class="screen-reader-text"> on Reasons to use innodb_file_per_table</span></a></span>	</footer>
</article>

	<nav class="navigation posts-navigation" role="navigation" aria-label="Posts">
		<h2 class="screen-reader-text">Posts navigation</h2>
		<div class="nav-links"><div class="nav-previous"><a href="https://shlomi-noach.github.io/blog/category/mysql/page/37">Older posts</a></div><div class="nav-next"><a href="https://shlomi-noach.github.io/blog/category/mysql/page/35">Newer posts</a></div></div>
	</nav>
	</main>


	<footer id="colophon" class="site-footer">
		<div class="site-info">
			<a href="https://wordpress.org/">
				Powered by WordPress			</a>
			<span class="sep"> | </span>
				Theme: <a href="http://openark.org">openark-primer</a> by <a href="http://underscores.me/">Underscores.me</a>.		</div>
	</footer>
</div>

	<div style="display:none">
	</div>
<script>
var pollsL10n = {"ajax_url":"https:\/\/shlomi-noach.github.io\/blog\/wp-admin\/admin-ajax.php","text_wait":"Your last request is still being processed. Please wait a while ...","text_valid":"Please choose a valid poll answer.","text_multiple":"Maximum number of choices allowed: ","show_loading":"1","show_fading":"1"};
</script>
<script src="https://shlomi-noach.github.io/blog/wp-content/plugins/wp-polls/polls-js.js"></script>
<script src="https://secure.gravatar.com/js/gprofiles.js?ver=2020Junaa"></script>
<script>
var WPGroHo = {"my_hash":""};
</script>
<script src="https://shlomi-noach.github.io/blog/wp-content/plugins/jetpack/modules/wpgroho.js"></script>
<script src="https://shlomi-noach.github.io/blog/wp-content/themes/openark-primer/js/navigation.js"></script>
<script src="https://shlomi-noach.github.io/blog/wp-content/themes/openark-primer/js/skip-link-focus-fix.js"></script>
<script type="text/javascript" src="https://stats.wp.com/e-202024.js" async="async" defer></script>
<script type="text/javascript">
	_stq = window._stq || [];
	_stq.push([ 'view', {v:'ext',j:'1:8.2.1',blog:'32412571',post:'0',tz:'2',srv:'code.openark.org'} ]);
	_stq.push([ 'clickTrackerInit', '32412571', '0' ]);
</script>

</body>
</html>
