<!DOCTYPE html>
<html lang="en-US">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	

	<title>MySQL – Page 18 – code.openark.org</title>
<link rel="dns-prefetch" href="//secure.gravatar.com">
<link rel="dns-prefetch" href="//s.w.org">



<link rel="stylesheet" id="wp-block-library-css" href="https://shlomi-noach.github.io/blog/wp-includes/css/dist/block-library/style.min.css" media="all">
<style id="wp-block-library-inline-css">
.has-text-align-justify{text-align:justify;}
</style>
<link rel="stylesheet" id="wp-polls-css" href="https://shlomi-noach.github.io/blog/wp-content/plugins/wp-polls/polls-css.css" media="all">
<style id="wp-polls-inline-css">
.wp-polls .pollbar {
	margin: 1px;
	font-size: 6px;
	line-height: 8px;
	height: 8px;
	background-image: url('https://shlomi-noach.github.io/blog/wp-content/plugins/wp-polls/images/default/pollbg.gif');
	border: 1px solid #c8c8c8;
}

</style>
<link rel="stylesheet" id="openark-primer-style-css" href="https://shlomi-noach.github.io/blog/wp-content/themes/openark-primer/style.css" media="all">
<link rel="stylesheet" id="jetpack_css-css" href="https://shlomi-noach.github.io/blog/wp-content/plugins/jetpack/css/jetpack.css" media="all">
<script src="https://shlomi-noach.github.io/blog/wp-includes/js/jquery/jquery.js"></script>
<script src="https://shlomi-noach.github.io/blog/wp-includes/js/jquery/jquery-migrate.min.js"></script>



<style data-context="foundation-flickity-css">/*! Flickity v2.0.2
http://flickity.metafizzy.co
---------------------------------------------- */.flickity-enabled{position:relative}.flickity-enabled:focus{outline:0}.flickity-viewport{overflow:hidden;position:relative;height:100%}.flickity-slider{position:absolute;width:100%;height:100%}.flickity-enabled.is-draggable{-webkit-tap-highlight-color:transparent;tap-highlight-color:transparent;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.flickity-enabled.is-draggable .flickity-viewport{cursor:move;cursor:-webkit-grab;cursor:grab}.flickity-enabled.is-draggable .flickity-viewport.is-pointer-down{cursor:-webkit-grabbing;cursor:grabbing}.flickity-prev-next-button{position:absolute;top:50%;width:44px;height:44px;border:none;border-radius:50%;background:#fff;background:hsla(0,0%,100%,.75);cursor:pointer;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.flickity-prev-next-button:hover{background:#fff}.flickity-prev-next-button:focus{outline:0;box-shadow:0 0 0 5px #09f}.flickity-prev-next-button:active{opacity:.6}.flickity-prev-next-button.previous{left:10px}.flickity-prev-next-button.next{right:10px}.flickity-rtl .flickity-prev-next-button.previous{left:auto;right:10px}.flickity-rtl .flickity-prev-next-button.next{right:auto;left:10px}.flickity-prev-next-button:disabled{opacity:.3;cursor:auto}.flickity-prev-next-button svg{position:absolute;left:20%;top:20%;width:60%;height:60%}.flickity-prev-next-button .arrow{fill:#333}.flickity-page-dots{position:absolute;width:100%;bottom:-25px;padding:0;margin:0;list-style:none;text-align:center;line-height:1}.flickity-rtl .flickity-page-dots{direction:rtl}.flickity-page-dots .dot{display:inline-block;width:10px;height:10px;margin:0 8px;background:#333;border-radius:50%;opacity:.25;cursor:pointer}.flickity-page-dots .dot.is-selected{opacity:1}</style><style data-context="foundation-slideout-css">.slideout-menu{position:fixed;left:0;top:0;bottom:0;right:auto;z-index:0;width:256px;overflow-y:auto;-webkit-overflow-scrolling:touch;display:none}.slideout-menu.pushit-right{left:auto;right:0}.slideout-panel{position:relative;z-index:1;will-change:transform}.slideout-open,.slideout-open .slideout-panel,.slideout-open body{overflow:hidden}.slideout-open .slideout-menu{display:block}.pushit{display:none}</style>
<link rel="dns-prefetch" href="//v0.wordpress.com">


<meta property="og:type" content="website">
<meta property="og:title" content="MySQL – Page 18 – code.openark.org">
<meta property="og:url" content="https://shlomi-noach.github.io/blog/category/mysql">
<meta property="og:description" content="MySQL related posts">
<meta property="og:site_name" content="code.openark.org">
<meta property="og:image" content="https://s0.wp.com/i/blank.jpg">
<meta property="og:locale" content="en_US">


<style>.ios7.web-app-mode.has-fixed header{ background-color: rgba(242,101,34,.88);}</style></head>

<body class="archive paged category category-mysql category-5 paged-18 category-paged-18 hfeed no-sidebar">
<div id="page" class="site">
	<a class="skip-link screen-reader-text" href="#primary">Skip to content</a>

	<header id="masthead" class="site-header">
		<div class="site-branding">
							<p class="site-title"><a href="https://shlomi-noach.github.io/blog/" rel="home">code.openark.org</a></p>
								<p class="site-description">Blog by Shlomi Noach</p>
			
			<nav id="site-navigation" class="main-navigation">
				<button class="menu-toggle" aria-controls="primary-menu" aria-expanded="false">primary-menu</button>
				<div class="menu-primary-menu-container"><ul id="menu-primary-menu" class="menu"><li id="menu-item-8109" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-8109"><a href="https://shlomi-noach.github.io/blog/archives">archives</a></li>
<li id="menu-item-8050" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-8050"><a href="https://shlomi-noach.github.io/blog/presentations">presentations</a></li>
<li id="menu-item-8055" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-8055"><a href="https://shlomi-noach.github.io/blog/about">about</a></li>
<li id="menu-item-8071" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-8071"><a href="https://github.com/shlomi-noach"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewbox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg></a></li>
<li id="menu-item-8074" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-8074"><a href="https://www.linkedin.com/in/shlominoach"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewbox="0 0 24 24"><path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"></path></svg></a></li>
<li id="menu-item-8072" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-8072"><a href="https://twitter.com/ShlomiNoach"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewbox="0 0 24 24"><path d="M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm6.066 9.645c.183 4.04-2.83 8.544-8.164 8.544-1.622 0-3.131-.476-4.402-1.291 1.524.18 3.045-.244 4.252-1.189-1.256-.023-2.317-.854-2.684-1.995.451.086.895.061 1.298-.049-1.381-.278-2.335-1.522-2.304-2.853.388.215.83.344 1.301.359-1.279-.855-1.641-2.544-.889-3.835 1.416 1.738 3.533 2.881 5.92 3.001-.419-1.796.944-3.527 2.799-3.527.825 0 1.572.349 2.096.907.654-.128 1.27-.368 1.824-.697-.215.671-.67 1.233-1.263 1.589.581-.07 1.135-.224 1.649-.453-.384.578-.87 1.084-1.433 1.489z"></path></svg></a></li>
<li id="menu-item-8073" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-8073"><a href="https://shlomi-noach.github.io/blog/feed"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewbox="0 0 24 24"><path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-12.832 20c-1.197 0-2.168-.969-2.168-2.165s.971-2.165 2.168-2.165 2.167.969 2.167 2.165-.97 2.165-2.167 2.165zm5.18 0c-.041-4.029-3.314-7.298-7.348-7.339v-3.207c5.814.041 10.518 4.739 10.561 10.546h-3.213zm5.441 0c-.021-7.063-5.736-12.761-12.789-12.792v-3.208c8.83.031 15.98 7.179 16 16h-3.211z"></path></svg></a></li>
</ul></div>			</nav>
		</div>
	</header>

	<main id="primary" class="site-main">

		
			<header class="page-header">
				<h1 class="page-title">Category: MySQL</h1><div class="archive-description"><p>MySQL related posts</p>
</div>			</header>

			
<article id="post-5573" class="post-5573 post type-post status-publish format-standard hentry category-mysql tag-innodb tag-memcached tag-new-features tag-opinions tag-replication">
	<header class="entry-header">
		<h2 class="entry-title"><a href="https://shlomi-noach.github.io/blog/mysql/mysql-5-6-new-features-the-users-perspective" rel="bookmark">MySQL 5.6 new features: the user’s perspective</a></h2>			<div class="entry-meta">
				<span class="cat-links"><a href="https://shlomi-noach.github.io/blog/category/mysql" rel="category tag">MySQL</a></span><span class="tags-links"><a href="https://shlomi-noach.github.io/blog/tag/innodb" rel="tag">InnoDB</a><a href="https://shlomi-noach.github.io/blog/tag/memcached" rel="tag">memcached</a><a href="https://shlomi-noach.github.io/blog/tag/new-features" rel="tag">New Features</a><a href="https://shlomi-noach.github.io/blog/tag/opinions" rel="tag">Opinions</a><a href="https://shlomi-noach.github.io/blog/tag/replication" rel="tag">Replication</a></span><span class="posted-on alignright"><a href="https://shlomi-noach.github.io/blog/mysql/mysql-5-6-new-features-the-users-perspective" rel="bookmark"><time class="entry-date published updated" datetime="2012-10-05T09:20:20+02:00">October 5, 2012</time></a></span>			</div>
			</header>

	
	<div class="entry-content">
		<p>This is a yet-another compilation of the new MySQL <strong>5.6</strong> feature set. It is not a complete drill down. This list reflects what I believe to be the interesting new features user and usability -wise.</p>
<p>For example, I won’t be listing InnoDB’s split of kernel mutex. I’m assuming it can have a great impact on overall performance due to reducing lock contention; but usability-wise, this is very internal.</p>
<p>The complication is an aggregate of the many announcements and other complications published earlier on. See a reference at the end of this post.</p>
<p>Do note I am not using <strong>5.6</strong> as yet; it is in RC, not GA. I am mostly excited just to write down this list.</p>
<h4>InnoDB</h4>
<ul>
<li>Online <strong>ALTER TABLE</strong>: if there is one major new feature in <strong>5.6</strong> you would want to upgrade for, this would be it. Add columns, drop columns, rename columns, add indexes, drop indexes – now online, while your <strong>SELECT, INSERT, UPDATE</strong> and <strong>DELETE</strong> statements are running.</li>
<li>Transportable tablespace files: copy+paste <strong>your_table.ibd</strong> files with <strong>FLUSH TABLE FOR EXPORT</strong> and <strong>ALTER TABLE … IMPORT TABLESPACE</strong>.</li>
<li><strong>FULLTEXT</strong>: for many, the one thing holding them back from leaving MyISAM behind. Now available in InnoDB with same syntax as with MyISAM.</li>
<li>Memcached API: access InnoDB data via memcahced protocol, and skip the SQL interface.</li>
<li>User defined table location: place your tables in your pre-defined location. Place other tables elsewhere. This is something I’ve been asked about for ages.</li>
</ul>
<h4> <a href="https://shlomi-noach.github.io/blog/mysql/mysql-5-6-new-features-the-users-perspective#more-5573" class="more-link">Continue reading »<span class="screen-reader-text"> “MySQL 5.6 new features: the user’s perspective”</span></a></h4>
	</div>

	<footer class="entry-footer">
		<span class="comments-link"><a href="https://shlomi-noach.github.io/blog/mysql/mysql-5-6-new-features-the-users-perspective#comments">3 Comments<span class="screen-reader-text"> on MySQL 5.6 new features: the user’s perspective</span></a></span>	</footer>
</article>

<article id="post-5398" class="post-5398 post type-post status-publish format-standard hentry category-mysql tag-sql">
	<header class="entry-header">
		<h2 class="entry-title"><a href="https://shlomi-noach.github.io/blog/mysql/three-wishes-for-a-new-year-201" rel="bookmark">Three wishes for a new year</a></h2>			<div class="entry-meta">
				<span class="cat-links"><a href="https://shlomi-noach.github.io/blog/category/mysql" rel="category tag">MySQL</a></span><span class="tags-links"><a href="https://shlomi-noach.github.io/blog/tag/sql" rel="tag">SQL</a></span><span class="posted-on alignright"><a href="https://shlomi-noach.github.io/blog/mysql/three-wishes-for-a-new-year-201" rel="bookmark"><time class="entry-date published updated" datetime="2012-09-16T06:20:59+02:00">September 16, 2012</time></a></span>			</div>
			</header>

	
	<div class="entry-content">
		<div>
<p>Another new year by Jewish calendar. What do I wish for the following year?</p>
<ol>
<li>World peace</li>
<li>Good health to all</li>
<li>Get a decent, long waited for, implementation of <a href="http://en.wikipedia.org/wiki/Window_function_%28SQL%29#Window_function">Window Functions</a> (aka Analytic Functions) for MySQL.</li>
</ol>
<p>I mean, I like <a href="http://dev.mysql.com/doc/refman/5.5/en/group-by-functions.html#function_group-concat"><strong>GROUP_CONCAT</strong></a>, and the many hacks it provides: [<a href="https://shlomi-noach.github.io/blog/mysql/selecting-a-specific-non-aggregated-column-data-in-group-by">1</a>], [<a href="https://shlomi-noach.github.io/blog/mysql/unwalking-a-string-with-group_concat">2</a>], [<a href="https://shlomi-noach.github.io/blog/mysql/rotating-sql-graphs-horizontally">3</a>], [<a href="https://shlomi-noach.github.io/blog/mysql/sql-graphics">4</a>], [<a href="https://shlomi-noach.github.io/blog/mysql/sql-pie-chart">5</a>], [<a href="https://shlomi-noach.github.io/blog/mysql/sql-multi-line-chart">6</a>], [<a href="https://shlomi-noach.github.io/blog/mysql/checking-for-string-permutation">7</a>], [<a href="https://shlomi-noach.github.io/blog/mysql/sql-selecting-top-n-records-per-group">8</a>], [<a href="https://shlomi-noach.github.io/blog/mysql/another-use-for-top-n-records-per-group-query">9</a>], [<a href="https://shlomi-noach.github.io/blog/mysql/sql-selecting-top-n-records-per-group-another-solution">10</a>], [<a href="https://shlomi-noach.github.io/blog/mysql/generating-google-line-charts-with-sql-part-i">11</a>], [<a href="https://shlomi-noach.github.io/blog/mysql/how-common_schema-splits-tables-internals">12</a>]. But it makes for a poor substitution to Window Functions, and only solves a subset of issues.</p>
<p>My wishes in previous two years [<a href="https://shlomi-noach.github.io/blog/mysql/three-wishes-for-a-new-year">2010</a>], [<a href="https://shlomi-noach.github.io/blog/mysql/three-wishes-for-a-new-year-2">2011</a>] have not come true. I’m still willing to settle for two out of three.</p>
</div>
	</div>

	<footer class="entry-footer">
		<span class="comments-link"><a href="https://shlomi-noach.github.io/blog/mysql/three-wishes-for-a-new-year-201#comments">3 Comments<span class="screen-reader-text"> on Three wishes for a new year</span></a></span>	</footer>
</article>

<article id="post-5033" class="post-5033 post type-post status-publish format-standard hentry category-mysql tag-common_schema tag-installation tag-queryscript">
	<header class="entry-header">
		<h2 class="entry-title"><a href="https://shlomi-noach.github.io/blog/mysql/how-common_schema-installs-itself" rel="bookmark">How common_schema installs itself</a></h2>			<div class="entry-meta">
				<span class="cat-links"><a href="https://shlomi-noach.github.io/blog/category/mysql" rel="category tag">MySQL</a></span><span class="tags-links"><a href="https://shlomi-noach.github.io/blog/tag/common_schema" rel="tag">common_schema</a><a href="https://shlomi-noach.github.io/blog/tag/installation" rel="tag">Installation</a><a href="https://shlomi-noach.github.io/blog/tag/queryscript" rel="tag">QueryScript</a></span><span class="posted-on alignright"><a href="https://shlomi-noach.github.io/blog/mysql/how-common_schema-installs-itself" rel="bookmark"><time class="entry-date published" datetime="2012-09-11T08:48:13+02:00">September 11, 2012</time><time class="updated" datetime="2012-09-11T08:49:01+02:00">September 11, 2012</time></a></span>			</div>
			</header>

	
	<div class="entry-content">
		<p>Up till <a href="http://code.google.com/p/common-schema/">common_schema</a> version <strong>1.1</strong>, the user would need to choose from distinct distribution files: an install compatible with MySQL <strong>5.1</strong>, one compatible with InnoDB Plugin enabled servers, and one compatible with Percona Server. The difference between the three is the availability of certain <strong>INFORMATION_SCHEMA</strong> tables.</p>
<p>With <strong>1.1</strong>, this is no longer the case: <em>common_schema</em> auto-detects the server and available feature set, and installs accordingly.</p>
<h4>Wait, isn’t common_schema just a SQL file?</h4>
<p>Yes. It’s not like there’s an installer like <em>InstallShield</em> or anything. Nevertheless, <em>common</em><em>_schema</em> offers a smart way of conditional handling, which is uses in itself. It’s called <a href="http://www.queryscript.com/">QueryScript</a>.</p>
<p><em>common_schema</em> is installed by importing the SQL file (via <strong>SOURCE</strong> command; the <em>mysql</em> client; your favorite GUI). This creates your usual tables, views and routines. But some of these routines make for an interpreter for <em>QueryScript</em>. Somewhere along the installation process (remember – it’s just a SQL import), <em>common_schema</em> switches over to executing scripts to manage the installation. In particular, there are a few views which depend on optional tables, such as InnoDB Plugin’s tables for <strong>INFORMATION_SCHEMA</strong>. <a href="https://shlomi-noach.github.io/blog/mysql/how-common_schema-installs-itself#more-5033" class="more-link">Continue reading »<span class="screen-reader-text"> “How common_schema installs itself”</span></a></p>
	</div>

	<footer class="entry-footer">
		<span class="comments-link"><a href="https://shlomi-noach.github.io/blog/mysql/how-common_schema-installs-itself#comments">3 Comments<span class="screen-reader-text"> on How common_schema installs itself</span></a></span>	</footer>
</article>

<article id="post-5035" class="post-5035 post type-post status-publish format-standard hentry category-mysql tag-common_schema tag-indexing tag-information_schema tag-openark-kit tag-queryscript tag-scripts">
	<header class="entry-header">
		<h2 class="entry-title"><a href="https://shlomi-noach.github.io/blog/mysql/how-common_schema-splits-tables-internals" rel="bookmark">How common_schema split()s tables – internals</a></h2>			<div class="entry-meta">
				<span class="cat-links"><a href="https://shlomi-noach.github.io/blog/category/mysql" rel="category tag">MySQL</a></span><span class="tags-links"><a href="https://shlomi-noach.github.io/blog/tag/common_schema" rel="tag">common_schema</a><a href="https://shlomi-noach.github.io/blog/tag/indexing" rel="tag">Indexing</a><a href="https://shlomi-noach.github.io/blog/tag/information_schema" rel="tag">INFORMATION_SCHEMA</a><a href="https://shlomi-noach.github.io/blog/tag/openark-kit" rel="tag">openark kit</a><a href="https://shlomi-noach.github.io/blog/tag/queryscript" rel="tag">QueryScript</a><a href="https://shlomi-noach.github.io/blog/tag/scripts" rel="tag">scripts</a></span><span class="posted-on alignright"><a href="https://shlomi-noach.github.io/blog/mysql/how-common_schema-splits-tables-internals" rel="bookmark"><time class="entry-date published" datetime="2012-09-06T07:25:07+02:00">September 6, 2012</time><time class="updated" datetime="2012-09-06T08:05:16+02:00">September 6, 2012</time></a></span>			</div>
			</header>

	
	<div class="entry-content">
		<p>This post exposes some of the internals, and the SQL behind QueryScript’s <em>split</em>. <a href="http://common-schema.googlecode.com/svn/trunk/common_schema/doc/html/query_script.html">common_schema/QueryScript</a> <strong>1.1</strong> introduces the <a href="http://common-schema.googlecode.com/svn/trunk/common_schema/doc/html/query_script_split.html"><strong>split</strong></a> statement, which auto-breaks a “large” query (one which operates on large tables as a whole or without keys) into smaller queries, and executes them in sequence.</p>
<p>This makes for easier transactions, less locks held, potentially (depending on the user) more idle time released back to the database. <em>split<strong></strong></em> has similar concepts to <a href="http://openarkkit.googlecode.com/svn/trunk/openarkkit/doc/html/oak-chunk-update.html">oak-chunk-update</a> and <a href="http://www.percona.com/doc/percona-toolkit/2.1/pt-archiver.html">pt-archiver</a>, but works differently, and implemented entirely in SQL on server side.</p>
<p>Take the following statement as example:</p>
<blockquote>
<pre><strong>split</strong> (<strong>UPDATE sakila.inventory SET last_update = last_update + INTERVAL 6 HOUR</strong>)
  pass;</pre>
</blockquote>
<p>It yields with (roughly) the following statements:</p>
<blockquote>
<pre>UPDATE sakila.inventory SET last_update = last_update + INTERVAL 6 HOUR <strong>WHERE</strong> ((((`inventory`.`inventory_id` > '1')) OR ((`inventory`.`inventory_id` = '1'))) AND (((`inventory`.`inventory_id` < '1000')) OR ((`inventory`.`inventory_id` = '1000'))));
UPDATE sakila.inventory SET last_update = last_update + INTERVAL 6 HOUR <strong>WHERE</strong> ((((`inventory`.`inventory_id` > '1000'))) AND (((`inventory`.`inventory_id` < '2000')) OR ((`inventory`.`inventory_id` = '2000'))));
UPDATE sakila.inventory SET last_update = last_update + INTERVAL 6 HOUR <strong>WHERE</strong> ((((`inventory`.`inventory_id` > '2000'))) AND (((`inventory`.`inventory_id` < '3000')) OR ((`inventory`.`inventory_id` = '3000'))));
UPDATE sakila.inventory SET last_update = last_update + INTERVAL 6 HOUR <strong>WHERE</strong> ((((`inventory`.`inventory_id` > '3000'))) AND (((`inventory`.`inventory_id` < '4000')) OR ((`inventory`.`inventory_id` = '4000'))));
UPDATE sakila.inventory SET last_update = last_update + INTERVAL 6 HOUR <strong>WHERE</strong> ((((`inventory`.`inventory_id` > '4000'))) AND (((`inventory`.`inventory_id` < '4581')) OR ((`inventory`.`inventory_id` = '4581'))));</pre>
</blockquote>
<p>(I say “roughly” because internally there are user defined variables at play, but for convenience, I verbose the actual values as constants.)</p>
<h4>How does that work?</h4>
<p><em>common_schema</em> works on server side. There is no Perl script or anything. It must therefore use server-side operations to:</p>
<ul>
<li>Identify table to be split</li>
<li>Analyze the table in the first place, deciding how to split it</li>
<li>Analyze the query, deciding on how to rewrite it</li>
<li>Split the table (logically) into unique and distinct chunks</li>
<li>Work out the query on each such chunk</li>
</ul>
<p>Following is an internal look at how <em>common_schema</em> does all the above. <a href="https://shlomi-noach.github.io/blog/mysql/how-common_schema-splits-tables-internals#more-5035" class="more-link">Continue reading »<span class="screen-reader-text"> “How common_schema split()s tables – internals”</span></a></p>
	</div>

	<footer class="entry-footer">
		<span class="comments-link"><a href="https://shlomi-noach.github.io/blog/mysql/how-common_schema-splits-tables-internals#comments">5 Comments<span class="screen-reader-text"> on How common_schema split()s tables – internals</span></a></span>	</footer>
</article>

<article id="post-5034" class="post-5034 post type-post status-publish format-standard hentry category-mysql tag-common_schema tag-indexing tag-information_schema tag-queryscript tag-scripts">
	<header class="entry-header">
		<h2 class="entry-title"><a href="https://shlomi-noach.github.io/blog/mysql/table-split-for-the-masses" rel="bookmark">Table split(…) for the masses</a></h2>			<div class="entry-meta">
				<span class="cat-links"><a href="https://shlomi-noach.github.io/blog/category/mysql" rel="category tag">MySQL</a></span><span class="tags-links"><a href="https://shlomi-noach.github.io/blog/tag/common_schema" rel="tag">common_schema</a><a href="https://shlomi-noach.github.io/blog/tag/indexing" rel="tag">Indexing</a><a href="https://shlomi-noach.github.io/blog/tag/information_schema" rel="tag">INFORMATION_SCHEMA</a><a href="https://shlomi-noach.github.io/blog/tag/queryscript" rel="tag">QueryScript</a><a href="https://shlomi-noach.github.io/blog/tag/scripts" rel="tag">scripts</a></span><span class="posted-on alignright"><a href="https://shlomi-noach.github.io/blog/mysql/table-split-for-the-masses" rel="bookmark"><time class="entry-date published" datetime="2012-09-05T07:04:05+02:00">September 5, 2012</time><time class="updated" datetime="2012-09-05T07:05:56+02:00">September 5, 2012</time></a></span>			</div>
			</header>

	
	<div class="entry-content">
		<p>(pun intended)</p>
<p><em>common_schema</em>‘s new <a href="http://common-schema.googlecode.com/svn/trunk/common_schema/doc/html/query_script_split.html"><strong>split</strong></a> statement (see <a href="https://shlomi-noach.github.io/blog/mysql/common_schema-1-1-released-split-try-catch-killall-profiling">release announcement</a>) auto-splits complex queries over large tables into smaller ones: instead of issuing one huge query, <em>split</em> breaks one’s query into smaller queries, each working on a different set of rows (a chunk).</p>
<p>Thus, it is possible to avoid holding locks for long times, allowing for smaller transactions. It also makes for breathing space for the RDBMS, at times boosting operation speed, and at times prolonging operation speed at will.</p>
<p>In this post I show how <em>split</em> exposes itself to the user, should the user wish so.</p>
<p><em>split</em> can manage queries of the following forms:</p>
<ul>
<li>DELETE FROM table_name [WHERE]…</li>
<li>DELETE FROM table_name USING <multi table syntax> [WHERE]…</li>
<li>UPDATE table_name SET … [WHERE]…</li>
<li>UPDATE <multiple tables> SET … [WHERE]…</li>
<li>INSERT INTO some_table SELECT … FROM <single or multiple tables> [WHERE]…</li>
<li>REPLACE INTO some_table SELECT … FROM <single or multiple tables> [WHERE]…</li>
<li>SELECT … FROM <multiple tables> [WHERE]…</li>
</ul>
<p>The latter being a non-obvious one at first sight.</p>
<h4>Basically, it’ automatic</h4>
<p>You just say:</p>
<blockquote>
<pre><strong>split</strong> (UPDATE sakila.inventory SET last_update = last_update + INTERVAL 6 HOUR)
  throttle 2;</pre>
</blockquote>
<p>And <em>split</em> identifies <strong>sakila.inventory</strong> as the table which needs to be split, and injects appropriate conditions so as to work on a subset of the rows, in multiple steps.</p>
<p>By the way, here’s <a href="http://common-schema.googlecode.com/svn/trunk/common_schema/doc/html/query_script_execution.html">how to execute a QueryScript code</a> like the above. <a href="https://shlomi-noach.github.io/blog/mysql/table-split-for-the-masses#more-5034" class="more-link">Continue reading »<span class="screen-reader-text"> “Table split(…) for the masses”</span></a></p>
	</div>

	<footer class="entry-footer">
		<span class="comments-link"><a href="https://shlomi-noach.github.io/blog/mysql/table-split-for-the-masses#respond">Leave a Comment<span class="screen-reader-text"> on Table split(…) for the masses</span></a></span>	</footer>
</article>

<article id="post-4999" class="post-4999 post type-post status-publish format-standard hentry category-mysql tag-analysis tag-common_schema tag-development tag-open-source tag-queryscript tag-scripts">
	<header class="entry-header">
		<h2 class="entry-title"><a href="https://shlomi-noach.github.io/blog/mysql/common_schema-1-1-released-split-try-catch-killall-profiling" rel="bookmark">common_schema 1.1 released: split(), try-catch, killall(), profiling</a></h2>			<div class="entry-meta">
				<span class="cat-links"><a href="https://shlomi-noach.github.io/blog/category/mysql" rel="category tag">MySQL</a></span><span class="tags-links"><a href="https://shlomi-noach.github.io/blog/tag/analysis" rel="tag">Analysis</a><a href="https://shlomi-noach.github.io/blog/tag/common_schema" rel="tag">common_schema</a><a href="https://shlomi-noach.github.io/blog/tag/development" rel="tag">Development</a><a href="https://shlomi-noach.github.io/blog/tag/open-source" rel="tag">Open Source</a><a href="https://shlomi-noach.github.io/blog/tag/queryscript" rel="tag">QueryScript</a><a href="https://shlomi-noach.github.io/blog/tag/scripts" rel="tag">scripts</a></span><span class="posted-on alignright"><a href="https://shlomi-noach.github.io/blog/mysql/common_schema-1-1-released-split-try-catch-killall-profiling" rel="bookmark"><time class="entry-date published updated" datetime="2012-09-04T08:15:25+02:00">September 4, 2012</time></a></span>			</div>
			</header>

	
	<div class="entry-content">
		<p>I’m very happy to announce the release of <a href="http://code.google.com/p/common-schema/">common_schema</a>, version <strong>1.1</strong> (revision <strong>300</strong>).</p>
<p>This version boasts with compelling new features: innovative QueryScript syntax, libraries, views which add to your skills as a DBA, making some maintenance and management tasks a breeze.</p>
<ul>
<li>QueryScript, <strong>split</strong> statement: automagically break long queries into smaller chunks, avoid long locks and reduce query/transaction overhead</li>
<li>QueryScript, <strong>try-catch</strong> statement: just <strong>try { something; } catch { act_on_error; }</strong>.</li>
<li><strong>killall()</strong>: quickly kill connections based on grantee/user/host information.</li>
<li><strong>profiling</strong>/<strong>profiling_last</strong>: utility views to assist in query profiling diagnostics</li>
<li><strong>1 size fits all</strong>: a single installer which auto-recognizes available server features and enables respective <em>common_schema</em> features accordingly.</li>
<li>QueryScript performance boost</li>
<li>much much more…</li>
</ul>
<p>Not familiar with <em>common_schema</em>? It allows you to do stuff on server side, by selecting from views, calling upon useful routines or writing <em>easy-to-manage</em> scripts.</p>
<p>I’m suggesting that <em>common_schema</em> should be a <em>really-should-have</em> tool to accompany your MySQL install. Did I say “tool”? It’s merely a <em>schema</em>. But it makes for a great framework:</p>
<p>In <a href="http://www.amazon.com/High-Performance-MySQL-Optimization-Replication/dp/1449314287/ref=dp_ob_title_bk">High Performance MySQL, 3rd edition</a>, Baron Schwartz describes <em>common_schema</em>:</p>
<blockquote><p>The <em>common_schema</em> is to MySQL as jQuery is to javaScript</p></blockquote>
<p>Reviewing highlights for version <strong>1.1</strong>:</p>
<h4>QueryScript</h4>
<p><a href="http://common-schema.googlecode.com/svn/trunk/common_schema/doc/html/query_script.html">QueryScript</a> is a scripting language. It sees some major improvements here. I’ve made some speed boosts by <a href="https://shlomi-noach.github.io/blog/mysql/on-stored-routines-and-dynamic-statements">avoiding using temporary tables</a>, and by using string parsing instead.</p>
<p>Without doubt the two most handy statements added to <em>QueryScript</em> are: <a href="https://shlomi-noach.github.io/blog/mysql/common_schema-1-1-released-split-try-catch-killall-profiling#more-4999" class="more-link">Continue reading »<span class="screen-reader-text"> “common_schema 1.1 released: split(), try-catch, killall(), profiling”</span></a></p>
	</div>

	<footer class="entry-footer">
		<span class="comments-link"><a href="https://shlomi-noach.github.io/blog/mysql/common_schema-1-1-released-split-try-catch-killall-profiling#comments">2 Comments<span class="screen-reader-text"> on common_schema 1.1 released: split(), try-catch, killall(), profiling</span></a></span>	</footer>
</article>

<article id="post-5249" class="post-5249 post type-post status-publish format-standard hentry category-mysql tag-hack tag-sql">
	<header class="entry-header">
		<h2 class="entry-title"><a href="https://shlomi-noach.github.io/blog/mysql/sql-selecting-top-n-records-per-group-another-solution" rel="bookmark">SQL: selecting top N records per group, another solution</a></h2>			<div class="entry-meta">
				<span class="cat-links"><a href="https://shlomi-noach.github.io/blog/category/mysql" rel="category tag">MySQL</a></span><span class="tags-links"><a href="https://shlomi-noach.github.io/blog/tag/hack" rel="tag">Hack</a><a href="https://shlomi-noach.github.io/blog/tag/sql" rel="tag">SQL</a></span><span class="posted-on alignright"><a href="https://shlomi-noach.github.io/blog/mysql/sql-selecting-top-n-records-per-group-another-solution" rel="bookmark"><time class="entry-date published" datetime="2012-08-21T06:49:43+02:00">August 21, 2012</time><time class="updated" datetime="2012-08-21T09:03:00+02:00">August 21, 2012</time></a></span>			</div>
			</header>

	
	<div class="entry-content">
		<p>A while back I presented <a title="Permanent Link to SQL: selecting top N records per group" href="https://shlomi-noach.github.io/blog/mysql/sql-selecting-top-n-records-per-group" rel="bookmark">SQL: selecting top N records per group</a>, a “give me the top <strong>5</strong> countries in each continent” type of query, and which used an external <em>numbers</em> table and a lot of tedious casting.</p>
<p>Here’s another solution I came up with (<a href="#update">*</a>). Still using <strong>GROUP_CONCAT</strong> (how else?), but no external table and no casting. The query outputs the largest <strong>5</strong> countries (by surface area) per continent.</p>
<blockquote>
<pre>SELECT
  Continent,
  Name,
  SurfaceArea,
  Population
FROM
  world.Country,
  (
    SELECT 
      GROUP_CONCAT(top_codes_per_group) AS top_codes
    FROM
      (
        SELECT 
          SUBSTRING_INDEX(GROUP_CONCAT(<strong>Code ORDER BY SurfaceArea DESC</strong>), ',', <strong>5</strong>) AS top_codes_per_group
        FROM
          world.Country
        GROUP BY
          Continent
      ) s_top_codes_per_group
  ) s_top_codes
WHERE
  FIND_IN_SET(Code, top_codes)
ORDER BY
  Continent,
  SurfaceArea DESC
;

+---------------+----------------------------------------------+-------------+------------+
| Continent     | Name                                         | SurfaceArea | Population |
+---------------+----------------------------------------------+-------------+------------+
| Asia          | China                                        |  9572900.00 | 1277558000 |
| Asia          | India                                        |  3287263.00 | 1013662000 |
| Asia          | Kazakstan                                    |  2724900.00 |   16223000 |
| Asia          | Saudi Arabia                                 |  2149690.00 |   21607000 |
| Asia          | Indonesia                                    |  1904569.00 |  212107000 |
| Europe        | Russian Federation                           | 17075400.00 |  146934000 |
| Europe        | Ukraine                                      |   603700.00 |   50456000 |
| Europe        | France                                       |   551500.00 |   59225700 |
| Europe        | Spain                                        |   505992.00 |   39441700 |
| Europe        | Sweden                                       |   449964.00 |    8861400 |
| North America | Canada                                       |  9970610.00 |   31147000 |
| North America | United States                                |  9363520.00 |  278357000 |
| North America | Greenland                                    |  2166090.00 |      56000 |
| North America | Mexico                                       |  1958201.00 |   98881000 |
| North America | Nicaragua                                    |   130000.00 |    5074000 |
| Africa        | Sudan                                        |  2505813.00 |   29490000 |
| Africa        | Algeria                                      |  2381741.00 |   31471000 |
| Africa        | Congo, The Democratic Republic of the        |  2344858.00 |   51654000 |
| Africa        | Libyan Arab Jamahiriya                       |  1759540.00 |    5605000 |
| Africa        | Chad                                         |  1284000.00 |    7651000 |
| Oceania       | Australia                                    |  7741220.00 |   18886000 |
| Oceania       | Papua New Guinea                             |   462840.00 |    4807000 |
| Oceania       | New Zealand                                  |   270534.00 |    3862000 |
| Oceania       | Solomon Islands                              |    28896.00 |     444000 |
| Oceania       | New Caledonia                                |    18575.00 |     214000 |
| Antarctica    | Antarctica                                   | 13120000.00 |          0 |
| Antarctica    | French Southern territories                  |     7780.00 |          0 |
| Antarctica    | South Georgia and the South Sandwich Islands |     3903.00 |          0 |
| Antarctica    | Heard Island and McDonald Islands            |      359.00 |          0 |
| Antarctica    | Bouvet Island                                |       59.00 |          0 |
| South America | Brazil                                       |  8547403.00 |  170115000 |
| South America | Argentina                                    |  2780400.00 |   37032000 |
| South America | Peru                                         |  1285216.00 |   25662000 |
| South America | Colombia                                     |  1138914.00 |   42321000 |
| South America | Bolivia                                      |  1098581.00 |    8329000 |
+---------------+----------------------------------------------+-------------+------------+
</pre>
</blockquote>
<p>In bold are the conditions by which we nominate our selected rows (condition is <strong>SurfaceArea DESC</strong>, number of rows is <strong>5</strong>, so 5 largest countries).</p>
<h4> <a href="https://shlomi-noach.github.io/blog/mysql/sql-selecting-top-n-records-per-group-another-solution#more-5249" class="more-link">Continue reading »<span class="screen-reader-text"> “SQL: selecting top N records per group, another solution”</span></a></h4>
	</div>

	<footer class="entry-footer">
		<span class="comments-link"><a href="https://shlomi-noach.github.io/blog/mysql/sql-selecting-top-n-records-per-group-another-solution#comments">10 Comments<span class="screen-reader-text"> on SQL: selecting top N records per group, another solution</span></a></span>	</footer>
</article>

<article id="post-4081" class="post-4081 post type-post status-publish format-standard hentry category-mysql tag-client tag-export">
	<header class="entry-header">
		<h2 class="entry-title"><a href="https://shlomi-noach.github.io/blog/mysql/ways-to-export-mysql-result-set-to-file-on-client-side" rel="bookmark">Ways to export MySQL result set to file on client side</a></h2>			<div class="entry-meta">
				<span class="cat-links"><a href="https://shlomi-noach.github.io/blog/category/mysql" rel="category tag">MySQL</a></span><span class="tags-links"><a href="https://shlomi-noach.github.io/blog/tag/client" rel="tag">client</a><a href="https://shlomi-noach.github.io/blog/tag/export" rel="tag">export</a></span><span class="posted-on alignright"><a href="https://shlomi-noach.github.io/blog/mysql/ways-to-export-mysql-result-set-to-file-on-client-side" rel="bookmark"><time class="entry-date published updated" datetime="2012-08-15T11:23:23+02:00">August 15, 2012</time></a></span>			</div>
			</header>

	
	<div class="entry-content">
		<p><strong>Problem</strong>: you wish to write table data to file, but you wish to do so on client side.</p>
<p><strong>SELECT … INTO OUTFILE</strong> writes the file on server. What are your options on client?</p>
<h4>1. mysql client</h4>
<p>If you have direct access from your client machine to your DB server machine, and can connect via <strong>mysql</strong> client, you get a very customizable file write:</p>
<blockquote>
<pre>bash$ <strong>mysql</strong> -h db_host --execute "SELECT * FROM my_table" > /tmp/output.txt</pre>
</blockquote>
<p>The above writes fancy tables, so you probably want to:</p>
<blockquote>
<pre>bash$ <strong>mysql</strong> -h db_host --execute "SELECT * FROM my_table" --bat > /tmp/output.txt</pre>
</blockquote>
<p>Also try:</p>
<blockquote>
<pre>bash$ <strong>mysql</strong> -h db_host --execute "SELECT * FROM my_table" --silent --raw > /tmp/output.txt</pre>
</blockquote>
<p>To turn off headers.</p>
<p>More options include the <strong>–xml</strong> or <strong>–html</strong> formats. <a href="https://shlomi-noach.github.io/blog/mysql/ways-to-export-mysql-result-set-to-file-on-client-side#more-4081" class="more-link">Continue reading »<span class="screen-reader-text"> “Ways to export MySQL result set to file on client side”</span></a></p>
	</div>

	<footer class="entry-footer">
		<span class="comments-link"><a href="https://shlomi-noach.github.io/blog/mysql/ways-to-export-mysql-result-set-to-file-on-client-side#comments">8 Comments<span class="screen-reader-text"> on Ways to export MySQL result set to file on client side</span></a></span>	</footer>
</article>

<article id="post-5163" class="post-5163 post type-post status-publish format-standard hentry category-mysql tag-stored-routines">
	<header class="entry-header">
		<h2 class="entry-title"><a href="https://shlomi-noach.github.io/blog/mysql/things-that-cant-and-some-that-can-be-done-from-within-a-mysql-stored-routine" rel="bookmark">Things that can’t (and some that can) be done from within a MySQL stored routine</a></h2>			<div class="entry-meta">
				<span class="cat-links"><a href="https://shlomi-noach.github.io/blog/category/mysql" rel="category tag">MySQL</a></span><span class="tags-links"><a href="https://shlomi-noach.github.io/blog/tag/stored-routines" rel="tag">Stored routines</a></span><span class="posted-on alignright"><a href="https://shlomi-noach.github.io/blog/mysql/things-that-cant-and-some-that-can-be-done-from-within-a-mysql-stored-routine" rel="bookmark"><time class="entry-date published" datetime="2012-08-02T06:32:57+02:00">August 2, 2012</time><time class="updated" datetime="2012-08-02T08:26:41+02:00">August 2, 2012</time></a></span>			</div>
			</header>

	
	<div class="entry-content">
		<p>I’m doing a lot of stored routine programming lately, working on <a href="http://code.google.com/p/common-schema/">common_schema</a>. I’m in particular touching at the extremes of abilities. Some things just can’t be done from within a stored routine. Here’s a list of <strong>can’t be done</strong>:</p>
<ul>
<li>Cursor for <strong>SHOW</strong> statements: can’t be done — this is explicitly blocked from operating (it once used to work).</li>
<li>Get detailed error information on exceptions: apparently <strong>5.6</strong> has support for this. <strong>5.1</strong> and <strong>5.5</strong> <a href="https://shlomi-noach.github.io/blog/mysql/mysql-error-handling-on-server-side-a-no-go">do not</a>.</li>
<li>Change <strong>binlog_format</strong>: this is obvious, if you think about it. <strong>binlog_format</strong> dictates how the routine itself is replicated in the first place.</li>
<li>Set <strong>sql_log_bin</strong>. Again, this makes sense.</li>
<li>Work out different results depending on current machine. For example, you can’t have a routine that returns with <strong>‘master’</strong> on the master and with <strong>‘slave’</strong> on the slave. That is, not under <em>any condition</em>. Consider: if <em>Row Based Replication</em> is used, you don’t actually have a routine <em>executing</em> on the slave. I’m happy to be proven wrong on this.</li>
<li>Know what database was in use by calling code. The routine executes within the context of the database where it is defined. But you can’t tell what database was in use just a couple milliseconds before.</li>
<li>Likewise, know what <strong>sql_mode</strong> was in use by calling code. Stored routines have their own <strong>sql_mode</strong> – the one they were created with. No way to check up on the calling stack.</li>
<li>And you can’t <strong>USE</strong> another database (database as in <em>schema</em>). <strong>USE</strong> is a client command.</li>
<li>Reconnect after failure (kind of obvious, isn’t it?)</li>
<li>Connect to other servers (not so obvious to SQL Server DBAs). You can’t issue queries on other servers. Bummer.</li>
<li>Shutdown the server</li>
<li>Fork (you’re in a connection, you can’t issue a new connection from your own connection)</li>
</ul>
<p> <a href="https://shlomi-noach.github.io/blog/mysql/things-that-cant-and-some-that-can-be-done-from-within-a-mysql-stored-routine#more-5163" class="more-link">Continue reading »<span class="screen-reader-text"> “Things that can’t (and some that can) be done from within a MySQL stored routine”</span></a></p>
	</div>

	<footer class="entry-footer">
		<span class="comments-link"><a href="https://shlomi-noach.github.io/blog/mysql/things-that-cant-and-some-that-can-be-done-from-within-a-mysql-stored-routine#comments">9 Comments<span class="screen-reader-text"> on Things that can’t (and some that can) be done from within a MySQL stored routine</span></a></span>	</footer>
</article>

<article id="post-5082" class="post-5082 post type-post status-publish format-standard hentry category-mysql tag-common_schema tag-errors tag-information tag-stored-routines">
	<header class="entry-header">
		<h2 class="entry-title"><a href="https://shlomi-noach.github.io/blog/mysql/mysql-error-handling-on-server-side-a-no-go" rel="bookmark">MySQL error handling on server side: a NO GO!</a></h2>			<div class="entry-meta">
				<span class="cat-links"><a href="https://shlomi-noach.github.io/blog/category/mysql" rel="category tag">MySQL</a></span><span class="tags-links"><a href="https://shlomi-noach.github.io/blog/tag/common_schema" rel="tag">common_schema</a><a href="https://shlomi-noach.github.io/blog/tag/errors" rel="tag">Errors</a><a href="https://shlomi-noach.github.io/blog/tag/information" rel="tag">information</a><a href="https://shlomi-noach.github.io/blog/tag/stored-routines" rel="tag">Stored routines</a></span><span class="posted-on alignright"><a href="https://shlomi-noach.github.io/blog/mysql/mysql-error-handling-on-server-side-a-no-go" rel="bookmark"><time class="entry-date published updated" datetime="2012-07-18T06:45:15+02:00">July 18, 2012</time></a></span>			</div>
			</header>

	
	<div class="entry-content">
		<p>There is no reasonable way to catch and diagnose errors on server side. It is nearly impossible to know exactly <em>what went wrong</em>.</p>
<p>To illustrate, consider the following query:</p>
<blockquote>
<pre>INSERT INTO my_table (my_column) VALUES (300);</pre>
</blockquote>
<p>What could go wrong with this query?</p>
<ul>
<li>We might hit a <strong>UNIQUE KEY</strong> violation</li>
<li>Or a <strong>FOREIGN KEY</strong> violation</li>
<li>my_column could be <strong>TINYINT UNSIGNED</strong>, and with strict <strong>sql_mode</strong> this makes for out-of-range</li>
<li>Or, similarly, it could be an <strong>ENUM (2,3,5,8)</strong></li>
</ul>
<p>Is that it? Not remotely:</p>
<ul>
<li>This could be a read-only <strong>MyISAM</strong> table</li>
<li>We may have issued a <strong>LOCK TABLES my_table READ</strong> — this violates our lock</li>
<li>Or this could be an <strong>InnoDB</strong> table, and this <strong>INSERT</strong> would make for a deadlock</li>
<li>Or we have <strong>read_only=1</strong> configuration</li>
<li>Or the user is not allowed access to this table</li>
<li>Or the table does not exist</li>
<li>Or the column does not exist</li>
</ul>
<p>Or… I’m pretty sure there could be many other issues.</p>
<p>Now, if I write a Java program, perhaps using Hibernate, I get the error nicely wrapped up in a SQLException object, with easy access to error code and error message.</p>
<p>But can I have the same on server side? <em>No</em>.</p>
<p>Take a look at the following code: <a href="https://shlomi-noach.github.io/blog/mysql/mysql-error-handling-on-server-side-a-no-go#more-5082" class="more-link">Continue reading »<span class="screen-reader-text"> “MySQL error handling on server side: a NO GO!”</span></a></p>
	</div>

	<footer class="entry-footer">
		<span class="comments-link"><a href="https://shlomi-noach.github.io/blog/mysql/mysql-error-handling-on-server-side-a-no-go#comments">6 Comments<span class="screen-reader-text"> on MySQL error handling on server side: a NO GO!</span></a></span>	</footer>
</article>

	<nav class="navigation posts-navigation" role="navigation" aria-label="Posts">
		<h2 class="screen-reader-text">Posts navigation</h2>
		<div class="nav-links"><div class="nav-previous"><a href="https://shlomi-noach.github.io/blog/category/mysql/page/19">Older posts</a></div><div class="nav-next"><a href="https://shlomi-noach.github.io/blog/category/mysql/page/17">Newer posts</a></div></div>
	</nav>
	</main>


	<footer id="colophon" class="site-footer">
		<div class="site-info">
			<a href="https://wordpress.org/">
				Powered by WordPress			</a>
			<span class="sep"> | </span>
				Theme: <a href="http://openark.org">openark-primer</a> by <a href="http://underscores.me/">Underscores.me</a>.		</div>
	</footer>
</div>

	<div style="display:none">
	</div>
<script>
var pollsL10n = {"ajax_url":"https:\/\/shlomi-noach.github.io\/blog\/wp-admin\/admin-ajax.php","text_wait":"Your last request is still being processed. Please wait a while ...","text_valid":"Please choose a valid poll answer.","text_multiple":"Maximum number of choices allowed: ","show_loading":"1","show_fading":"1"};
</script>
<script src="https://shlomi-noach.github.io/blog/wp-content/plugins/wp-polls/polls-js.js"></script>
<script src="https://secure.gravatar.com/js/gprofiles.js?ver=2020Junaa"></script>
<script>
var WPGroHo = {"my_hash":""};
</script>
<script src="https://shlomi-noach.github.io/blog/wp-content/plugins/jetpack/modules/wpgroho.js"></script>
<script src="https://shlomi-noach.github.io/blog/wp-content/themes/openark-primer/js/navigation.js"></script>
<script src="https://shlomi-noach.github.io/blog/wp-content/themes/openark-primer/js/skip-link-focus-fix.js"></script>
<script type="text/javascript" src="https://stats.wp.com/e-202024.js" async="async" defer></script>
<script type="text/javascript">
	_stq = window._stq || [];
	_stq.push([ 'view', {v:'ext',j:'1:8.2.1',blog:'32412571',post:'0',tz:'2',srv:'code.openark.org'} ]);
	_stq.push([ 'clickTrackerInit', '32412571', '0' ]);
</script>

</body>
</html>
