<!DOCTYPE html>
<html lang="en-US">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	

	<title>code.openark.org – Page 36 – Blog by Shlomi Noach</title>
<link rel="dns-prefetch" href="//secure.gravatar.com">
<link rel="dns-prefetch" href="//s.w.org">


<link rel="stylesheet" id="wp-block-library-css" href="https://shlomi-noach.github.io/blog/wp-includes/css/dist/block-library/style.min.css" media="all">
<style id="wp-block-library-inline-css">
.has-text-align-justify{text-align:justify;}
</style>
<link rel="stylesheet" id="wp-polls-css" href="https://shlomi-noach.github.io/blog/wp-content/plugins/wp-polls/polls-css.css" media="all">
<style id="wp-polls-inline-css">
.wp-polls .pollbar {
	margin: 1px;
	font-size: 6px;
	line-height: 8px;
	height: 8px;
	background-image: url('https://shlomi-noach.github.io/blog/wp-content/plugins/wp-polls/images/default/pollbg.gif');
	border: 1px solid #c8c8c8;
}

</style>
<link rel="stylesheet" id="openark-primer-style-css" href="https://shlomi-noach.github.io/blog/wp-content/themes/openark-primer/style.css" media="all">
<link rel="stylesheet" id="jetpack_css-css" href="https://shlomi-noach.github.io/blog/wp-content/plugins/jetpack/css/jetpack.css" media="all">
<script src="https://shlomi-noach.github.io/blog/wp-includes/js/jquery/jquery.js"></script>
<script src="https://shlomi-noach.github.io/blog/wp-includes/js/jquery/jquery-migrate.min.js"></script>




<style data-context="foundation-flickity-css">/*! Flickity v2.0.2
http://flickity.metafizzy.co
---------------------------------------------- */.flickity-enabled{position:relative}.flickity-enabled:focus{outline:0}.flickity-viewport{overflow:hidden;position:relative;height:100%}.flickity-slider{position:absolute;width:100%;height:100%}.flickity-enabled.is-draggable{-webkit-tap-highlight-color:transparent;tap-highlight-color:transparent;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.flickity-enabled.is-draggable .flickity-viewport{cursor:move;cursor:-webkit-grab;cursor:grab}.flickity-enabled.is-draggable .flickity-viewport.is-pointer-down{cursor:-webkit-grabbing;cursor:grabbing}.flickity-prev-next-button{position:absolute;top:50%;width:44px;height:44px;border:none;border-radius:50%;background:#fff;background:hsla(0,0%,100%,.75);cursor:pointer;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.flickity-prev-next-button:hover{background:#fff}.flickity-prev-next-button:focus{outline:0;box-shadow:0 0 0 5px #09f}.flickity-prev-next-button:active{opacity:.6}.flickity-prev-next-button.previous{left:10px}.flickity-prev-next-button.next{right:10px}.flickity-rtl .flickity-prev-next-button.previous{left:auto;right:10px}.flickity-rtl .flickity-prev-next-button.next{right:auto;left:10px}.flickity-prev-next-button:disabled{opacity:.3;cursor:auto}.flickity-prev-next-button svg{position:absolute;left:20%;top:20%;width:60%;height:60%}.flickity-prev-next-button .arrow{fill:#333}.flickity-page-dots{position:absolute;width:100%;bottom:-25px;padding:0;margin:0;list-style:none;text-align:center;line-height:1}.flickity-rtl .flickity-page-dots{direction:rtl}.flickity-page-dots .dot{display:inline-block;width:10px;height:10px;margin:0 8px;background:#333;border-radius:50%;opacity:.25;cursor:pointer}.flickity-page-dots .dot.is-selected{opacity:1}</style><style data-context="foundation-slideout-css">.slideout-menu{position:fixed;left:0;top:0;bottom:0;right:auto;z-index:0;width:256px;overflow-y:auto;-webkit-overflow-scrolling:touch;display:none}.slideout-menu.pushit-right{left:auto;right:0}.slideout-panel{position:relative;z-index:1;will-change:transform}.slideout-open,.slideout-open .slideout-panel,.slideout-open body{overflow:hidden}.slideout-open .slideout-menu{display:block}.pushit{display:none}</style>
<link rel="dns-prefetch" href="//v0.wordpress.com">


<meta property="og:type" content="website">
<meta property="og:title" content="code.openark.org">
<meta property="og:description" content="Blog by Shlomi Noach">
<meta property="og:url" content="https://shlomi-noach.github.io/blog/">
<meta property="og:site_name" content="code.openark.org">
<meta property="og:image" content="https://s0.wp.com/i/blank.jpg">
<meta property="og:locale" content="en_US">


<style>.ios7.web-app-mode.has-fixed header{ background-color: rgba(242,101,34,.88);}</style></head>

<body class="home blog paged paged-36 hfeed no-sidebar">
<div id="page" class="site">
	<a class="skip-link screen-reader-text" href="#primary">Skip to content</a>

	<header id="masthead" class="site-header">
		<div class="site-branding">
							<h1 class="site-title"><a href="https://shlomi-noach.github.io/blog/" rel="home">code.openark.org</a></h1>
								<p class="site-description">Blog by Shlomi Noach</p>
			
			<nav id="site-navigation" class="main-navigation">
				<button class="menu-toggle" aria-controls="primary-menu" aria-expanded="false">primary-menu</button>
				<div class="menu-primary-menu-container"><ul id="menu-primary-menu" class="menu"><li id="menu-item-8109" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-8109"><a href="https://shlomi-noach.github.io/blog/archives">archives</a></li>
<li id="menu-item-8050" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-8050"><a href="https://shlomi-noach.github.io/blog/presentations">presentations</a></li>
<li id="menu-item-8055" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-8055"><a href="https://shlomi-noach.github.io/blog/about">about</a></li>
<li id="menu-item-8071" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-8071"><a href="https://github.com/shlomi-noach"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewbox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg></a></li>
<li id="menu-item-8074" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-8074"><a href="https://www.linkedin.com/in/shlominoach"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewbox="0 0 24 24"><path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"></path></svg></a></li>
<li id="menu-item-8072" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-8072"><a href="https://twitter.com/ShlomiNoach"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewbox="0 0 24 24"><path d="M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm6.066 9.645c.183 4.04-2.83 8.544-8.164 8.544-1.622 0-3.131-.476-4.402-1.291 1.524.18 3.045-.244 4.252-1.189-1.256-.023-2.317-.854-2.684-1.995.451.086.895.061 1.298-.049-1.381-.278-2.335-1.522-2.304-2.853.388.215.83.344 1.301.359-1.279-.855-1.641-2.544-.889-3.835 1.416 1.738 3.533 2.881 5.92 3.001-.419-1.796.944-3.527 2.799-3.527.825 0 1.572.349 2.096.907.654-.128 1.27-.368 1.824-.697-.215.671-.67 1.233-1.263 1.589.581-.07 1.135-.224 1.649-.453-.384.578-.87 1.084-1.433 1.489z"></path></svg></a></li>
<li id="menu-item-8073" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-8073"><a href="https://shlomi-noach.github.io/blog/feed"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewbox="0 0 24 24"><path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-12.832 20c-1.197 0-2.168-.969-2.168-2.165s.971-2.165 2.168-2.165 2.167.969 2.167 2.165-.97 2.165-2.167 2.165zm5.18 0c-.041-4.029-3.314-7.298-7.348-7.339v-3.207c5.814.041 10.518 4.739 10.561 10.546h-3.213zm5.441 0c-.021-7.063-5.736-12.761-12.789-12.792v-3.208c8.83.031 15.98 7.179 16 16h-3.211z"></path></svg></a></li>
</ul></div>			</nav>
		</div>
	</header>

	<main id="primary" class="site-main">

		
<article id="post-1245" class="post-1245 post type-post status-publish format-standard hentry category-mysql tag-installation tag-sphinx">
	<header class="entry-header">
		<h2 class="entry-title"><a href="https://shlomi-noach.github.io/blog/mysql/sphinxse-0-9-9-rc2-bug-workaround" rel="bookmark">SphinxSE 0.9.9-RC2 bug workaround</a></h2>			<div class="entry-meta">
				<span class="cat-links"><a href="https://shlomi-noach.github.io/blog/category/mysql" rel="category tag">MySQL</a></span><span class="tags-links"><a href="https://shlomi-noach.github.io/blog/tag/installation" rel="tag">Installation</a><a href="https://shlomi-noach.github.io/blog/tag/sphinx" rel="tag">Sphinx</a></span><span class="posted-on alignright"><a href="https://shlomi-noach.github.io/blog/mysql/sphinxse-0-9-9-rc2-bug-workaround" rel="bookmark"><time class="entry-date published" datetime="2009-09-07T10:23:21+02:00">September 7, 2009</time><time class="updated" datetime="2009-09-07T13:58:08+02:00">September 7, 2009</time></a></span>			</div>
			</header>

	
	<div class="entry-content">
		<p>There is a serious bug with the sphinx storage engine, introduced in 0.9.9-RC2 (and which has not been fixed in latest revisions, as yet – last checked with rev 2006).</p>
<p>I would usually just revert to an older version (0.9.9-RC1 does not contain this bug), but for the reason that RC2 introduces an important feature: the <strong>sphinx_snippets()</strong> function, which allows for creation of snippets from within MySQL, and which makes the sphinx integration with MySQL complete, as far as the application is concerned.</p>
<h4>The bug</h4>
<p>The bug is described <a href="http://sphinxsearch.com/forum/view.html?id=3589">here</a> and <a href="http://sphinxsearch.com/forum/view.html?id=4081">here</a> (and see further discussions). Though it’s claimed to have been fixed, it’s been re-reported, and I’ve tried quite a few revisions and verified it has not been fixed (tested on Debian/Ubuntu x64).  <span>Essentially, the bug does not allow you to set filters on a query issued from within the SphinxSE. For example, the following queries fail:</span></p>
<blockquote>
<pre>SELECT ... FROM ... WHERE query='python;mode=any;sort=relevance;limit=200;range=myUnixTimestamp,1249506000,1252184400;'
SELECT ... FROM ... WHERE query='python;mode=any;sort=relevance;limit=200;filter=my_field,1;'</pre>
</blockquote>
<p>While the following query succeeds:</p>
<blockquote>
<pre>SELECT ... FROM ... WHERE query='python;mode=any;sort=relevance;limit=200;'</pre>
</blockquote>
<p>The error message is this:</p>
<blockquote>
<pre><span>ERROR 1430 (HY000): There was a problem processing the query on the foreign data source. Data source error: searchd error: invalid or truncated request</span></pre>
</blockquote>
<p><span>I see this as a serious bug in the SphinxSE: it renders it useless; searching without the ability to filter is not something I can live with. <a href="https://shlomi-noach.github.io/blog/mysql/sphinxse-0-9-9-rc2-bug-workaround#more-1245" class="more-link">Continue reading »<span class="screen-reader-text"> “SphinxSE 0.9.9-RC2 bug workaround”</span></a></span></p>
	</div>

	<footer class="entry-footer">
		<span class="comments-link"><a href="https://shlomi-noach.github.io/blog/mysql/sphinxse-0-9-9-rc2-bug-workaround#respond">Leave a Comment<span class="screen-reader-text"> on SphinxSE 0.9.9-RC2 bug workaround</span></a></span>	</footer>
</article>

<article id="post-1148" class="post-1148 post type-post status-publish format-standard hentry category-mysql tag-sql">
	<header class="entry-header">
		<h2 class="entry-title"><a href="https://shlomi-noach.github.io/blog/mysql/generating-numbers-out-of-seemingly-thin-air" rel="bookmark">Generating numbers out of seemingly thin air</a></h2>			<div class="entry-meta">
				<span class="cat-links"><a href="https://shlomi-noach.github.io/blog/category/mysql" rel="category tag">MySQL</a></span><span class="tags-links"><a href="https://shlomi-noach.github.io/blog/tag/sql" rel="tag">SQL</a></span><span class="posted-on alignright"><a href="https://shlomi-noach.github.io/blog/mysql/generating-numbers-out-of-seemingly-thin-air" rel="bookmark"><time class="entry-date published" datetime="2009-09-01T08:40:24+02:00">September 1, 2009</time><time class="updated" datetime="2009-09-01T08:45:06+02:00">September 1, 2009</time></a></span>			</div>
			</header>

	
	<div class="entry-content">
		<p>In some of my previous posts I’ve used a <strong>numbers</strong> table, like one holding values <strong>1, 2, 3, …, 255</strong>. Such table can be used for string walking, joining with other tables, performing iterations.</p>
<p>The existence of number tables has always been a little pain. Yes, they’re very, <em>very</em> simple, but they <em>need to be there</em>. So if you just need to script some SQL query, you may find that you need to create such tables. Ummm… this means you need to have privileges (at least <strong>CREATE TEMPORARY</strong> and <strong>INSERT</strong>, if not <strong>CREATE</strong>).</p>
<p>The other day, Baron Schwartz posted <a href="http://www.xaprb.com/blog/2009/08/09/how-to-round-to-the-nearest-whole-multiple-or-fraction-in-sql/">How to round to the nearest whole multiple or fraction in SQL</a>. In an offhand way, he generated some random numbers using the <strong>mysql.help_topic</strong> table. I then realized that post solved something I’ve been looking for: using a sure-to-exist table on any MySQL installation.</p>
<p> <a href="https://shlomi-noach.github.io/blog/mysql/generating-numbers-out-of-seemingly-thin-air#more-1148" class="more-link">Continue reading »<span class="screen-reader-text"> “Generating numbers out of seemingly thin air”</span></a></p>
	</div>

	<footer class="entry-footer">
		<span class="comments-link"><a href="https://shlomi-noach.github.io/blog/mysql/generating-numbers-out-of-seemingly-thin-air#comments">9 Comments<span class="screen-reader-text"> on Generating numbers out of seemingly thin air</span></a></span>	</footer>
</article>

<article id="post-1093" class="post-1093 post type-post status-publish format-standard hentry category-mysql tag-graphs tag-sql">
	<header class="entry-header">
		<h2 class="entry-title"><a href="https://shlomi-noach.github.io/blog/mysql/sql-pie-chart" rel="bookmark">SQL pie chart</a></h2>			<div class="entry-meta">
				<span class="cat-links"><a href="https://shlomi-noach.github.io/blog/category/mysql" rel="category tag">MySQL</a></span><span class="tags-links"><a href="https://shlomi-noach.github.io/blog/tag/graphs" rel="tag">Graphs</a><a href="https://shlomi-noach.github.io/blog/tag/sql" rel="tag">SQL</a></span><span class="posted-on alignright"><a href="https://shlomi-noach.github.io/blog/mysql/sql-pie-chart" rel="bookmark"><time class="entry-date published updated" datetime="2009-08-12T12:49:41+02:00">August 12, 2009</time></a></span>			</div>
			</header>

	
	<div class="entry-content">
		<p>My other half says I’m losing it. But I think that as an enthusiast kernel developer she doesn’t have the right to criticize people. (“I like user space better!” – she exclaims upon reading this).</p>
<p>Shown below is a (single query) SQL-generated pie chart. I will walk through the steps towards making this happen, and conclude with what, I hope you’ll agree, are real-world, useful usage samples.</p>
<blockquote>
<pre>+----------------------------------------------------------------------+
| pie_chart                                                            |
+----------------------------------------------------------------------+
|                                                                      |
|                         ;;;;;;;;;;;;;;;;;;;;;                        |
|                  oooooooo;;;;;;;;;;;;;;;;;;;;;;;;;;;                 |
|             oooooooooooooo;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;            |
|          ooooooooooooooooo                 ;;;;;;;;;;;;#####         |
|        oooooooooooooo                           ;#############       |
|       oooooooooooo                                 ############      |
|      oooooooooooo                                   ############     |
|      ooooooooooo                                     ###########     |
|      oooooooooooo                                   ::::::::::::     |
|       oooooooooooo                                 ::::::::::::      |
|        ooooooooo:::::                           ::::::::::::::       |
|          o::::::::::::::::                 :::::::::::::::::         |
|             :::::::::::::::::::::::::::::::::::::::::::::            |
|                  :::::::::::::::::::::::::::::::::::                 |
|                         :::::::::::::::::::::                        |
|                                                                      |
| ##  red: 1 (10%)                                                     |
| ;;  blue: 2 (20%)                                                    |
| oo  orange: 3 (30%)                                                  |
| ::  white: 4 (40%)                                                   |
+----------------------------------------------------------------------+</pre>
</blockquote>
<h4>Requirements</h4>
<p>We need a generic query, which returns at least these two columns: <strong>name_column</strong> and <strong>value_column</strong>. For example, the following query will do: <a href="https://shlomi-noach.github.io/blog/mysql/sql-pie-chart#more-1093" class="more-link">Continue reading »<span class="screen-reader-text"> “SQL pie chart”</span></a></p>
	</div>

	<footer class="entry-footer">
		<span class="comments-link"><a href="https://shlomi-noach.github.io/blog/mysql/sql-pie-chart#comments">80 Comments<span class="screen-reader-text"> on SQL pie chart</span></a></span>	</footer>
</article>

<article id="post-1097" class="post-1097 post type-post status-publish format-standard hentry category-mysql tag-sql">
	<header class="entry-header">
		<h2 class="entry-title"><a href="https://shlomi-noach.github.io/blog/mysql/sql-graphics" rel="bookmark">SQL graphics</a></h2>			<div class="entry-meta">
				<span class="cat-links"><a href="https://shlomi-noach.github.io/blog/category/mysql" rel="category tag">MySQL</a></span><span class="tags-links"><a href="https://shlomi-noach.github.io/blog/tag/sql" rel="tag">SQL</a></span><span class="posted-on alignright"><a href="https://shlomi-noach.github.io/blog/mysql/sql-graphics" rel="bookmark"><time class="entry-date published updated" datetime="2009-08-11T14:24:32+02:00">August 11, 2009</time></a></span>			</div>
			</header>

	
	<div class="entry-content">
		<p>SQL is not meant to generate graphics, for sure; but I see some cases where generating non-tabular output can be desirable, as I will show in future posts.</p>
<p>I’d like to explain the basics of working SQL graphics: it is actually possible to do whatever you like. How?</p>
<h4>Coordinates system</h4>
<p>We’ll now develop a coordinates system using SQL. By producing this, I will have proven my point that anything is possible, and will provide an additional proof of concept.</p>
<p>To start with generating coordinates, I’ll need a helper table: a numbers table (<a href="https://shlomi-noach.github.io/blog/wp-content/uploads/2009/08/tinyint_asc.sql">tinyint_asc</a>, example, with numbers ranging 0..255).</p>
<p>We’ll strive to produce a 10×10 coordinate matrix. To do this, we’ll self-join the numbers table against itself, and use a helper variable to set the size of the matrix. <a href="https://shlomi-noach.github.io/blog/mysql/sql-graphics#more-1097" class="more-link">Continue reading »<span class="screen-reader-text"> “SQL graphics”</span></a></p>
	</div>

	<footer class="entry-footer">
		<span class="comments-link"><a href="https://shlomi-noach.github.io/blog/mysql/sql-graphics#comments">6 Comments<span class="screen-reader-text"> on SQL graphics</span></a></span>	</footer>
</article>

<article id="post-1165" class="post-1165 post type-post status-publish format-standard hentry category-mysql tag-planet">
	<header class="entry-header">
		<h2 class="entry-title"><a href="https://shlomi-noach.github.io/blog/mysql/vote-for-me-how-to-embed-in-wordpress" rel="bookmark">“Vote for me…” how to embed in WordPress</a></h2>			<div class="entry-meta">
				<span class="cat-links"><a href="https://shlomi-noach.github.io/blog/category/mysql" rel="category tag">MySQL</a></span><span class="tags-links"><a href="https://shlomi-noach.github.io/blog/tag/planet" rel="tag">Planet</a></span><span class="posted-on alignright"><a href="https://shlomi-noach.github.io/blog/mysql/vote-for-me-how-to-embed-in-wordpress" rel="bookmark"><time class="entry-date published" datetime="2009-08-11T06:55:14+02:00">August 11, 2009</time><time class="updated" datetime="2009-08-11T14:46:08+02:00">August 11, 2009</time></a></span>			</div>
			</header>

	
	<div class="entry-content">
		<p>[<strong>Clarification</strong>: <em>I’m not actually asking you to vote for me :D, the title just follows a previous post</em>]</p>
<p>Diego Medina has <a href="http://fmpwizard.blogspot.com/2009/08/vote-for-me-widget-for-your-blog.html?showComment=1249965433072#c6520785617042085252">published</a> a JavaScript code that can be embedded in your blog posts, and which allows for voting on Planet MySQL from within your blog.</p>
<p>Shared below is how to set this up for WordPress users. This is <em>not</em> a WordPress plugin, mind you. You’ll need to manually edit the WordPress template files (can be done from the <strong>Dashboard</strong>-><strong>Appearance</strong>-><strong>Editor</strong>-><strong>Single post</strong>).</p>
<p>The page you’re likely to edit is <strong>single.php</strong>, but depending on your template this can change. The explanation below assumes a single post page. This can also be worked out for your blog’s home page, which lists several entries.</p>
<p>Since there is no point in presenting the Planet MySQL voting widget for entries which do not relate to MySQL, the code verifies that the post is in the <strong>‘MySQL’</strong> category. You need to change this if your categorization differs. Mind that the category’s name is case sensitive. <a href="https://shlomi-noach.github.io/blog/mysql/vote-for-me-how-to-embed-in-wordpress#more-1165" class="more-link">Continue reading »<span class="screen-reader-text"> ““Vote for me…” how to embed in WordPress”</span></a></p>
	</div>

	<footer class="entry-footer">
		<span class="comments-link"><a href="https://shlomi-noach.github.io/blog/mysql/vote-for-me-how-to-embed-in-wordpress#comments">2 Comments<span class="screen-reader-text"> on “Vote for me…” how to embed in WordPress</span></a></span>	</footer>
</article>

<article id="post-951" class="post-951 post type-post status-publish format-standard hentry category-mysql tag-innodb">
	<header class="entry-header">
		<h2 class="entry-title"><a href="https://shlomi-noach.github.io/blog/mysql/reasons-to-use-innodb-plugin" rel="bookmark">Reasons to use InnoDB Plugin</a></h2>			<div class="entry-meta">
				<span class="cat-links"><a href="https://shlomi-noach.github.io/blog/category/mysql" rel="category tag">MySQL</a></span><span class="tags-links"><a href="https://shlomi-noach.github.io/blog/tag/innodb" rel="tag">InnoDB</a></span><span class="posted-on alignright"><a href="https://shlomi-noach.github.io/blog/mysql/reasons-to-use-innodb-plugin" rel="bookmark"><time class="entry-date published" datetime="2009-08-03T10:32:35+02:00">August 3, 2009</time><time class="updated" datetime="2009-08-10T20:19:01+02:00">August 10, 2009</time></a></span>			</div>
			</header>

	
	<div class="entry-content">
		<p>I wish to present some compelling reasons to use the InnoDB plugin. The plugin is a drop-in replacement for “normal” InnoDB tables; enabling many new features. It is the outcome of a long termed silence from InnoBase (Oracle), which were thought to be neglecting the InnoDB engine.</p>
<p>I’m going to leave out “performance” for the reason that grander forces <a href="http://www.mysqlperformanceblog.com/2008/12/03/mysql-50-51-and-innodb-plugin-cpu-efficiency/">have benchmarked and written</a> about it.</p>
<h4>Compression</h4>
<p>Using the new <strong>Barracuda</strong> table format, table data can be compressed. Compression depends on the type of data you have in your table, and in <strong>KEY_BLOCK_SIZE</strong>. I have found tables with lots of textual data to compress well, to about 25% volume (that is, reduction of 75%), and strictly integer-typed tables (like an a-2-b connecting table) to compress poorly.</p>
<p>I have seen an InnoDB 50GB database shrink into some 12GB only. Wow! That meant a server which only had RAID 1 two 72GB disks, and which was dangerously filled up with disk space, could now accommodate the database, a backup, and then some!</p>
<p> <a href="https://shlomi-noach.github.io/blog/mysql/reasons-to-use-innodb-plugin#more-951" class="more-link">Continue reading »<span class="screen-reader-text"> “Reasons to use InnoDB Plugin”</span></a></p>
	</div>

	<footer class="entry-footer">
		<span class="comments-link"><a href="https://shlomi-noach.github.io/blog/mysql/reasons-to-use-innodb-plugin#comments">4 Comments<span class="screen-reader-text"> on Reasons to use InnoDB Plugin</span></a></span>	</footer>
</article>

<article id="post-1050" class="post-1050 post type-post status-publish format-standard hentry category-mysql tag-graphs tag-sql">
	<header class="entry-header">
		<h2 class="entry-title"><a href="https://shlomi-noach.github.io/blog/mysql/auto-scaling-scaled-sql-graphs-concluded" rel="bookmark">Auto scaling, scaled SQL graphs concluded</a></h2>			<div class="entry-meta">
				<span class="cat-links"><a href="https://shlomi-noach.github.io/blog/category/mysql" rel="category tag">MySQL</a></span><span class="tags-links"><a href="https://shlomi-noach.github.io/blog/tag/graphs" rel="tag">Graphs</a><a href="https://shlomi-noach.github.io/blog/tag/sql" rel="tag">SQL</a></span><span class="posted-on alignright"><a href="https://shlomi-noach.github.io/blog/mysql/auto-scaling-scaled-sql-graphs-concluded" rel="bookmark"><time class="entry-date published updated" datetime="2009-07-28T14:38:08+02:00">July 28, 2009</time></a></span>			</div>
			</header>

	
	<div class="entry-content">
		<p>I wasn’t sure I was to go this far. After catching breath the following have been added to <a href="https://shlomi-noach.github.io/blog/mysql/generic-auto-scaling-scaled-sql-graphs">Generic, auto scaling, scaled SQL graphs</a>, and these will conclude my current hacks:</p>
<ul>
<li>Displaying X-axis min/max values.</li>
<li>Support for Y-axis values precision.</li>
<li>Support for pre-defined scale range.</li>
</ul>
<p>The addition of the above makes for presentable, usable graphs. See also sample graphs at the end of this post.</p>
<h4>Step 8: adding X-axis values</h4>
<p>I add minimum/maximum X-scale values to the graph. What was just <strong>ordering_column</strong> before, now turns to be the <strong>x</strong> in the <strong>y = f(x)</strong> function. <a href="https://shlomi-noach.github.io/blog/mysql/auto-scaling-scaled-sql-graphs-concluded#more-1050" class="more-link">Continue reading »<span class="screen-reader-text"> “Auto scaling, scaled SQL graphs concluded”</span></a></p>
	</div>

	<footer class="entry-footer">
		<span class="comments-link"><a href="https://shlomi-noach.github.io/blog/mysql/auto-scaling-scaled-sql-graphs-concluded#comments">8 Comments<span class="screen-reader-text"> on Auto scaling, scaled SQL graphs concluded</span></a></span>	</footer>
</article>

<article id="post-1009" class="post-1009 post type-post status-publish format-standard hentry category-mysql tag-graphs tag-sql">
	<header class="entry-header">
		<h2 class="entry-title"><a href="https://shlomi-noach.github.io/blog/mysql/generic-auto-scaling-scaled-sql-graphs" rel="bookmark">Generic, auto scaling, scaled SQL graphs</a></h2>			<div class="entry-meta">
				<span class="cat-links"><a href="https://shlomi-noach.github.io/blog/category/mysql" rel="category tag">MySQL</a></span><span class="tags-links"><a href="https://shlomi-noach.github.io/blog/tag/graphs" rel="tag">Graphs</a><a href="https://shlomi-noach.github.io/blog/tag/sql" rel="tag">SQL</a></span><span class="posted-on alignright"><a href="https://shlomi-noach.github.io/blog/mysql/generic-auto-scaling-scaled-sql-graphs" rel="bookmark"><time class="entry-date published" datetime="2009-07-27T12:17:16+02:00">July 27, 2009</time><time class="updated" datetime="2009-07-28T15:08:13+02:00">July 28, 2009</time></a></span>			</div>
			</header>

	
	<div class="entry-content">
		<p>In <a href="https://shlomi-noach.github.io/blog/mysql/rotating-sql-graphs-horizontally">Rotating SQL graphs horizontally</a>, I have shown how to rotate an ASCII SQL graph into horizontal position.</p>
<p>I was dissatisfied with some parts of the solution, which I will show now how to fix:</p>
<ul>
<li>I had to manually scale the graph values so as to fit nicely into screen.</li>
<li>I had to rely on hard coded scaling schemes.</li>
<li>I had to rely on hard coded column names.</li>
<li>I had no y-axis legend.</li>
</ul>
<p>I will now present an SQL query which allows for <em>pluggable queries</em>, which creates self, <em>auto scaling graphs</em>, along with <em>y-axis scales</em>.</p>
<p>Using deeply nested subqueries, we will evolve a simple SELECT query into an elaborate graph. I will present the many steps required, followed by explanations and sample results. But in the end – the steps are unimportant. I’ll present a <em>generic query</em>, into which your own SELECT can be embedded, and which will provide you with the graph.</p>
<p>We’ll use the same example, found in <a href="https://shlomi-noach.github.io/blog/wp-content/uploads/2009/07/graph2.sql">graph.sql</a>.</p>
<h4> <a href="https://shlomi-noach.github.io/blog/mysql/generic-auto-scaling-scaled-sql-graphs#more-1009" class="more-link">Continue reading »<span class="screen-reader-text"> “Generic, auto scaling, scaled SQL graphs”</span></a></h4>
	</div>

	<footer class="entry-footer">
		<span class="comments-link"><a href="https://shlomi-noach.github.io/blog/mysql/generic-auto-scaling-scaled-sql-graphs#comments">9 Comments<span class="screen-reader-text"> on Generic, auto scaling, scaled SQL graphs</span></a></span>	</footer>
</article>

<article id="post-984" class="post-984 post type-post status-publish format-standard hentry category-mysql tag-graphs tag-sql">
	<header class="entry-header">
		<h2 class="entry-title"><a href="https://shlomi-noach.github.io/blog/mysql/rotating-sql-graphs-horizontally" rel="bookmark">Rotating SQL graphs horizontally</a></h2>			<div class="entry-meta">
				<span class="cat-links"><a href="https://shlomi-noach.github.io/blog/category/mysql" rel="category tag">MySQL</a></span><span class="tags-links"><a href="https://shlomi-noach.github.io/blog/tag/graphs" rel="tag">Graphs</a><a href="https://shlomi-noach.github.io/blog/tag/sql" rel="tag">SQL</a></span><span class="posted-on alignright"><a href="https://shlomi-noach.github.io/blog/mysql/rotating-sql-graphs-horizontally" rel="bookmark"><time class="entry-date published" datetime="2009-07-24T06:00:12+02:00">July 24, 2009</time><time class="updated" datetime="2009-07-27T12:53:50+02:00">July 27, 2009</time></a></span>			</div>
			</header>

	
	<div class="entry-content">
		<p>We all love graphs. We all love SQL hacks. We all know the SQL hack which displays a character-based graph (example follows for those unfamiliar).</p>
<p>But we all love <em>horizontal</em> graphs, not vertical ones. We are used to the X axis being horizontal, Y being vertical. Not vice versa.</p>
<p>In this post I’ll present a SQL hack which rotates a vertical graph to horizontal. In fact, the technique shown will rotate any ‘textual image’; but graphs are a nice example.</p>
<h4>A vertical graph example</h4>
<p>What’s prettier than a sinus curve? I have prepared a simple table that will serve nicely, and can be found in <a href="https://shlomi-noach.github.io/blog/wp-content/uploads/2009/07/graph.sql">graph_tables.sql</a>.</p>
<p> <a href="https://shlomi-noach.github.io/blog/mysql/rotating-sql-graphs-horizontally#more-984" class="more-link">Continue reading »<span class="screen-reader-text"> “Rotating SQL graphs horizontally”</span></a></p>
	</div>

	<footer class="entry-footer">
		<span class="comments-link"><a href="https://shlomi-noach.github.io/blog/mysql/rotating-sql-graphs-horizontally#comments">10 Comments<span class="screen-reader-text"> on Rotating SQL graphs horizontally</span></a></span>	</footer>
</article>

<article id="post-955" class="post-955 post type-post status-publish format-standard hentry category-mysql tag-java tag-web">
	<header class="entry-header">
		<h2 class="entry-title"><a href="https://shlomi-noach.github.io/blog/mysql/the-db-problem-inherent-to-dynamic-web-pages" rel="bookmark">The DB problem inherent to dynamic web pages</a></h2>			<div class="entry-meta">
				<span class="cat-links"><a href="https://shlomi-noach.github.io/blog/category/mysql" rel="category tag">MySQL</a></span><span class="tags-links"><a href="https://shlomi-noach.github.io/blog/tag/java" rel="tag">Java</a><a href="https://shlomi-noach.github.io/blog/tag/web" rel="tag">Web</a></span><span class="posted-on alignright"><a href="https://shlomi-noach.github.io/blog/mysql/the-db-problem-inherent-to-dynamic-web-pages" rel="bookmark"><time class="entry-date published updated" datetime="2009-07-20T13:48:56+02:00">July 20, 2009</time></a></span>			</div>
			</header>

	
	<div class="entry-content">
		<p>When building web sites, a popular demand is a maximum page load time.</p>
<p>For example, many would require < 0.5 seconds (or even less) for major pages loading time. Of course, there are numerous factors for page load time: network, caching, web servers, scripting language/code, database access and more.</p>
<p>Naturally I want to discuss the use of database access when creating web pages. I’ll be referring to dynamic web pages, such that are created by common languages as PHP, Java/J2EE, Ruby, ASP(.NET) etc.</p>
<p>A very common programming style is – what’s called in the Java jargon – using “scriptlets” as in the following JSP page:</p>
<blockquote>
<pre><html>
<body>
    Time now is <%= new java.util.Date() %>
</body>
</html></pre>
</blockquote>
<p>The above replaces the “<em><%= new java.util.Date() %></em>” part with a text representation of the current time.</p>
<p>If I were to produce a dynamic content site, say, a WordPress blog, like the one you’re reading, I would need to generate several dynamic contents: the latest posts, the popular tags, the comments for this post, etc. These are generated by calling upon the database and running some queries. I suppose there’s nothing new in what I’ve explained so far.</p>
<h4>The problem</h4>
<p>When generating a “heavyweight” page, like some online newspaper or bookstore, there may be many queries involved. Are you logged in? Do we have recommendations for you? What are the latest topics? What have you been interested in before? Do you have friends online? What content have you produced on the website?</p>
<p> <a href="https://shlomi-noach.github.io/blog/mysql/the-db-problem-inherent-to-dynamic-web-pages#more-955" class="more-link">Continue reading »<span class="screen-reader-text"> “The DB problem inherent to dynamic web pages”</span></a></p>
	</div>

	<footer class="entry-footer">
		<span class="comments-link"><a href="https://shlomi-noach.github.io/blog/mysql/the-db-problem-inherent-to-dynamic-web-pages#comments">6 Comments<span class="screen-reader-text"> on The DB problem inherent to dynamic web pages</span></a></span>	</footer>
</article>

	<nav class="navigation posts-navigation" role="navigation" aria-label="Posts">
		<h2 class="screen-reader-text">Posts navigation</h2>
		<div class="nav-links"><div class="nav-previous"><a href="https://shlomi-noach.github.io/blog/page/37">Older posts</a></div><div class="nav-next"><a href="https://shlomi-noach.github.io/blog/page/35">Newer posts</a></div></div>
	</nav>
	</main>


	<footer id="colophon" class="site-footer">
		<div class="site-info">
			<a href="https://wordpress.org/">
				Powered by WordPress			</a>
			<span class="sep"> | </span>
				Theme: <a href="http://openark.org">openark-primer</a> by <a href="http://underscores.me/">Underscores.me</a>.		</div>
	</footer>
</div>

	<div style="display:none">
	</div>
<script>
var pollsL10n = {"ajax_url":"https:\/\/shlomi-noach.github.io\/blog\/wp-admin\/admin-ajax.php","text_wait":"Your last request is still being processed. Please wait a while ...","text_valid":"Please choose a valid poll answer.","text_multiple":"Maximum number of choices allowed: ","show_loading":"1","show_fading":"1"};
</script>
<script src="https://shlomi-noach.github.io/blog/wp-content/plugins/wp-polls/polls-js.js"></script>
<script src="https://secure.gravatar.com/js/gprofiles.js?ver=2020Junaa"></script>
<script>
var WPGroHo = {"my_hash":""};
</script>
<script src="https://shlomi-noach.github.io/blog/wp-content/plugins/jetpack/modules/wpgroho.js"></script>
<script src="https://shlomi-noach.github.io/blog/wp-content/themes/openark-primer/js/navigation.js"></script>
<script src="https://shlomi-noach.github.io/blog/wp-content/themes/openark-primer/js/skip-link-focus-fix.js"></script>
<script type="text/javascript" src="https://stats.wp.com/e-202024.js" async="async" defer></script>
<script type="text/javascript">
	_stq = window._stq || [];
	_stq.push([ 'view', {v:'ext',j:'1:8.2.1',blog:'32412571',post:'0',tz:'2',srv:'code.openark.org'} ]);
	_stq.push([ 'clickTrackerInit', '32412571', '0' ]);
</script>

</body>
</html>
