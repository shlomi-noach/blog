<!DOCTYPE html>
<html lang="en-US">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	

	<title>code.openark.org – Page 17 – Blog by Shlomi Noach</title>
<link rel="dns-prefetch" href="//secure.gravatar.com">
<link rel="dns-prefetch" href="//s.w.org">


<link rel="stylesheet" id="wp-block-library-css" href="https://shlomi-noach.github.io/blog/wp-includes/css/dist/block-library/style.min.css" media="all">
<style id="wp-block-library-inline-css">
.has-text-align-justify{text-align:justify;}
</style>
<link rel="stylesheet" id="wp-polls-css" href="https://shlomi-noach.github.io/blog/wp-content/plugins/wp-polls/polls-css.css" media="all">
<style id="wp-polls-inline-css">
.wp-polls .pollbar {
	margin: 1px;
	font-size: 6px;
	line-height: 8px;
	height: 8px;
	background-image: url('https://shlomi-noach.github.io/blog/wp-content/plugins/wp-polls/images/default/pollbg.gif');
	border: 1px solid #c8c8c8;
}

</style>
<link rel="stylesheet" id="openark-primer-style-css" href="https://shlomi-noach.github.io/blog/wp-content/themes/openark-primer/style.css" media="all">
<link rel="stylesheet" id="jetpack_css-css" href="https://shlomi-noach.github.io/blog/wp-content/plugins/jetpack/css/jetpack.css" media="all">
<script src="https://shlomi-noach.github.io/blog/wp-includes/js/jquery/jquery.js"></script>
<script src="https://shlomi-noach.github.io/blog/wp-includes/js/jquery/jquery-migrate.min.js"></script>




<style data-context="foundation-flickity-css">/*! Flickity v2.0.2
http://flickity.metafizzy.co
---------------------------------------------- */.flickity-enabled{position:relative}.flickity-enabled:focus{outline:0}.flickity-viewport{overflow:hidden;position:relative;height:100%}.flickity-slider{position:absolute;width:100%;height:100%}.flickity-enabled.is-draggable{-webkit-tap-highlight-color:transparent;tap-highlight-color:transparent;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.flickity-enabled.is-draggable .flickity-viewport{cursor:move;cursor:-webkit-grab;cursor:grab}.flickity-enabled.is-draggable .flickity-viewport.is-pointer-down{cursor:-webkit-grabbing;cursor:grabbing}.flickity-prev-next-button{position:absolute;top:50%;width:44px;height:44px;border:none;border-radius:50%;background:#fff;background:hsla(0,0%,100%,.75);cursor:pointer;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.flickity-prev-next-button:hover{background:#fff}.flickity-prev-next-button:focus{outline:0;box-shadow:0 0 0 5px #09f}.flickity-prev-next-button:active{opacity:.6}.flickity-prev-next-button.previous{left:10px}.flickity-prev-next-button.next{right:10px}.flickity-rtl .flickity-prev-next-button.previous{left:auto;right:10px}.flickity-rtl .flickity-prev-next-button.next{right:auto;left:10px}.flickity-prev-next-button:disabled{opacity:.3;cursor:auto}.flickity-prev-next-button svg{position:absolute;left:20%;top:20%;width:60%;height:60%}.flickity-prev-next-button .arrow{fill:#333}.flickity-page-dots{position:absolute;width:100%;bottom:-25px;padding:0;margin:0;list-style:none;text-align:center;line-height:1}.flickity-rtl .flickity-page-dots{direction:rtl}.flickity-page-dots .dot{display:inline-block;width:10px;height:10px;margin:0 8px;background:#333;border-radius:50%;opacity:.25;cursor:pointer}.flickity-page-dots .dot.is-selected{opacity:1}</style><style data-context="foundation-slideout-css">.slideout-menu{position:fixed;left:0;top:0;bottom:0;right:auto;z-index:0;width:256px;overflow-y:auto;-webkit-overflow-scrolling:touch;display:none}.slideout-menu.pushit-right{left:auto;right:0}.slideout-panel{position:relative;z-index:1;will-change:transform}.slideout-open,.slideout-open .slideout-panel,.slideout-open body{overflow:hidden}.slideout-open .slideout-menu{display:block}.pushit{display:none}</style>
<link rel="dns-prefetch" href="//v0.wordpress.com">


<meta property="og:type" content="website">
<meta property="og:title" content="code.openark.org">
<meta property="og:description" content="Blog by Shlomi Noach">
<meta property="og:url" content="https://shlomi-noach.github.io/blog/">
<meta property="og:site_name" content="code.openark.org">
<meta property="og:image" content="https://s0.wp.com/i/blank.jpg">
<meta property="og:locale" content="en_US">


<style>.ios7.web-app-mode.has-fixed header{ background-color: rgba(242,101,34,.88);}</style></head>

<body class="home blog paged paged-17 hfeed no-sidebar">
<div id="page" class="site">
	<a class="skip-link screen-reader-text" href="#primary">Skip to content</a>

	<header id="masthead" class="site-header">
		<div class="site-branding">
							<h1 class="site-title"><a href="https://shlomi-noach.github.io/blog/" rel="home">code.openark.org</a></h1>
								<p class="site-description">Blog by Shlomi Noach</p>
			
			<nav id="site-navigation" class="main-navigation">
				<button class="menu-toggle" aria-controls="primary-menu" aria-expanded="false">primary-menu</button>
				<div class="menu-primary-menu-container"><ul id="menu-primary-menu" class="menu"><li id="menu-item-8109" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-8109"><a href="https://shlomi-noach.github.io/blog/archives">archives</a></li>
<li id="menu-item-8050" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-8050"><a href="https://shlomi-noach.github.io/blog/presentations">presentations</a></li>
<li id="menu-item-8055" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-8055"><a href="https://shlomi-noach.github.io/blog/about">about</a></li>
<li id="menu-item-8071" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-8071"><a href="https://github.com/shlomi-noach"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewbox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg></a></li>
<li id="menu-item-8074" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-8074"><a href="https://www.linkedin.com/in/shlominoach"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewbox="0 0 24 24"><path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"></path></svg></a></li>
<li id="menu-item-8072" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-8072"><a href="https://twitter.com/ShlomiNoach"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewbox="0 0 24 24"><path d="M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm6.066 9.645c.183 4.04-2.83 8.544-8.164 8.544-1.622 0-3.131-.476-4.402-1.291 1.524.18 3.045-.244 4.252-1.189-1.256-.023-2.317-.854-2.684-1.995.451.086.895.061 1.298-.049-1.381-.278-2.335-1.522-2.304-2.853.388.215.83.344 1.301.359-1.279-.855-1.641-2.544-.889-3.835 1.416 1.738 3.533 2.881 5.92 3.001-.419-1.796.944-3.527 2.799-3.527.825 0 1.572.349 2.096.907.654-.128 1.27-.368 1.824-.697-.215.671-.67 1.233-1.263 1.589.581-.07 1.135-.224 1.649-.453-.384.578-.87 1.084-1.433 1.489z"></path></svg></a></li>
<li id="menu-item-8073" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-8073"><a href="https://shlomi-noach.github.io/blog/feed"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewbox="0 0 24 24"><path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-12.832 20c-1.197 0-2.168-.969-2.168-2.165s.971-2.165 2.168-2.165 2.167.969 2.167 2.165-.97 2.165-2.167 2.165zm5.18 0c-.041-4.029-3.314-7.298-7.348-7.339v-3.207c5.814.041 10.518 4.739 10.561 10.546h-3.213zm5.441 0c-.021-7.063-5.736-12.761-12.789-12.792v-3.208c8.83.031 15.98 7.179 16 16h-3.211z"></path></svg></a></li>
</ul></div>			</nav>
		</div>
	</header>

	<main id="primary" class="site-main">

		
<article id="post-5544" class="post-5544 post type-post status-publish format-standard hentry category-mysql tag-common_schema tag-perconalive tag-speaking">
	<header class="entry-header">
		<h2 class="entry-title"><a href="https://shlomi-noach.github.io/blog/mysql/speaking-in-london-common_schema-dbas-framework-for-mysql" rel="bookmark">Speaking in London: common_schema, DBA’s framework for MySQL</a></h2>			<div class="entry-meta">
				<span class="cat-links"><a href="https://shlomi-noach.github.io/blog/category/mysql" rel="category tag">MySQL</a></span><span class="tags-links"><a href="https://shlomi-noach.github.io/blog/tag/common_schema" rel="tag">common_schema</a><a href="https://shlomi-noach.github.io/blog/tag/perconalive" rel="tag">PerconaLive</a><a href="https://shlomi-noach.github.io/blog/tag/speaking" rel="tag">Speaking</a></span><span class="posted-on alignright"><a href="https://shlomi-noach.github.io/blog/mysql/speaking-in-london-common_schema-dbas-framework-for-mysql" rel="bookmark"><time class="entry-date published updated" datetime="2012-11-22T12:35:35+02:00">November 22, 2012</time></a></span>			</div>
			</header>

	
	<div class="entry-content">
		<p>I’m happy to be speaking about <a href="http://code.google.com/p/common-schema/">common_schema</a> at <a href="http://www.percona.com/live/london-2012/sessions/commonschema-dbas-framework-mysql">Percona Live London</a>, <strong>Dec 4th, 2012</strong>. This will be the first chance for me to speak about <em>common_schema</em>, what I believe to be an extremely useful companion to your MySQL server.</p>
<p>I will show you how <em>common_schema</em> can leverage your SQL skills and give you <em>new powers</em>. Stuff you had to be SQL-Perl-super-expert to work through is easily attainable with <em>common_schema</em> and QueryScript. Some maintenance, security and auditing tasks are now a breeze. Writing server side scripts can be fun!</p>
<p>What I <em>won’t</em> do:</p>
<ul>
<li>Read the fancy manual aloud</li>
<li>Walk you through every possible view, column, function, parameter and script</li>
</ul>
<p>What I <em>will</em> do:</p>
<ul>
<li>Explain the nature of <em>common_schema</em>, show you the concepts behind it (and it is built with concepts in mind)</li>
<li>Provide with selected examples (schema analysis, security, processes & transactions) — there’s much to go by, but no boring drill down into all details.</li>
<li>Expose some cool hacks with <em>QueryScript</em></li>
<li>Do very brief (as time allows) live demos.</li>
</ul>
<p><em>common_schema</em> is an open source project and released under the BSD license.</p>
<p>Last April <a href="http://www.percona.com/live/mysql-conference-2012/sessions/common-schema-framework-mysql-server-administration">Roland Bouman gave a great talk</a> about <em>common_schema</em>. This will not be the same talk; a lot has been developed by this time.</p>
<p>I’ll be speaking at a very challenging time slot; the three other talks running concurrent to my own are all great ones; I actually wanted to attend all three of them. Heck, <a href="http://www.mysqlperformanceblog.com/2012/10/30/percona-live-london-2012-talks-you-do-not-want-to-miss/">Peter wants to</a> (though contrary to belief he can’t <em>fork()</em> himself). So, no hard feelings if you choose another talk during this time slot. But I do know where you live.</p>
	</div>

	<footer class="entry-footer">
		<span class="comments-link"><a href="https://shlomi-noach.github.io/blog/mysql/speaking-in-london-common_schema-dbas-framework-for-mysql#comments">1 Comment<span class="screen-reader-text"> on Speaking in London: common_schema, DBA’s framework for MySQL</span></a></span>	</footer>
</article>

<article id="post-5823" class="post-5823 post type-post status-publish format-standard hentry category-mysql tag-innodb tag-new-features tag-openark-kit tag-review">
	<header class="entry-header">
		<h2 class="entry-title"><a href="https://shlomi-noach.github.io/blog/mysql/state-of-inndb-online-ddl-in-mysql-5-6-8-rc" rel="bookmark">State of InnDB Online DDL in MySQL 5.6.8-RC</a></h2>			<div class="entry-meta">
				<span class="cat-links"><a href="https://shlomi-noach.github.io/blog/category/mysql" rel="category tag">MySQL</a></span><span class="tags-links"><a href="https://shlomi-noach.github.io/blog/tag/innodb" rel="tag">InnoDB</a><a href="https://shlomi-noach.github.io/blog/tag/new-features" rel="tag">New Features</a><a href="https://shlomi-noach.github.io/blog/tag/openark-kit" rel="tag">openark kit</a><a href="https://shlomi-noach.github.io/blog/tag/review" rel="tag">Review</a></span><span class="posted-on alignright"><a href="https://shlomi-noach.github.io/blog/mysql/state-of-inndb-online-ddl-in-mysql-5-6-8-rc" rel="bookmark"><time class="entry-date published" datetime="2012-11-20T11:49:14+02:00">November 20, 2012</time><time class="updated" datetime="2012-11-20T13:39:03+02:00">November 20, 2012</time></a></span>			</div>
			</header>

	
	<div class="entry-content">
		<p><strong>5.6.8-rc</strong> is out, and so I’m following up on InnoDB’s online DDL new feature: the ability to SELECT, INSERT, DELETE, UPDATE a table even while an ALTER TABLE is executing on same table.</p>
<h4>The brief summary</h4>
<p>Not as advertised; many things can’t be done.</p>
<h4>The longer review</h4>
<p>I’m using <strong>5.6.8-rc 64bit</strong> binary distribution for Linux, installed via <a href="http://mysqlsandbox.net/">mysqlsandbox</a>. My hardware is irrelevant, but the fact I’m testing on my laptop assists me in that <strong>ALTER TABLE</strong> operations take a while, so that I’m able to easily type commands in two terminals and have the time to watch them being executed. Query cache is disabled. <a href="https://shlomi-noach.github.io/blog/mysql/state-of-inndb-online-ddl-in-mysql-5-6-8-rc#more-5823" class="more-link">Continue reading »<span class="screen-reader-text"> “State of InnDB Online DDL in MySQL 5.6.8-RC”</span></a></p>
	</div>

	<footer class="entry-footer">
		<span class="comments-link"><a href="https://shlomi-noach.github.io/blog/mysql/state-of-inndb-online-ddl-in-mysql-5-6-8-rc#comments">1 Comment<span class="screen-reader-text"> on State of InnDB Online DDL in MySQL 5.6.8-RC</span></a></span>	</footer>
</article>

<article id="post-5788" class="post-5788 post type-post status-publish format-standard hentry category-mysql tag-community tag-perconalive">
	<header class="entry-header">
		<h2 class="entry-title"><a href="https://shlomi-noach.github.io/blog/mysql/percona-live-2013-tutorials-schedule-released" rel="bookmark">Percona Live 2013: Tutorials schedule released!</a></h2>			<div class="entry-meta">
				<span class="cat-links"><a href="https://shlomi-noach.github.io/blog/category/mysql" rel="category tag">MySQL</a></span><span class="tags-links"><a href="https://shlomi-noach.github.io/blog/tag/community" rel="tag">community</a><a href="https://shlomi-noach.github.io/blog/tag/perconalive" rel="tag">PerconaLive</a></span><span class="posted-on alignright"><a href="https://shlomi-noach.github.io/blog/mysql/percona-live-2013-tutorials-schedule-released" rel="bookmark"><time class="entry-date published updated" datetime="2012-11-19T20:18:51+02:00">November 19, 2012</time></a></span>			</div>
			</header>

	
	<div class="entry-content">
		<p>I’m pleased to announce the <a href="http://www.percona.com/live/mysql-conference-2013/program/schedule/tutorials">availability of the Tutorials Schedule</a> for Percona Live MySQL Conference and Expo, 2013.</p>
<p>This schedule comes as the outcome of hard work put by the <a href="http://www.percona.com/live/mysql-conference-2013/conference-committee">reviewing committee</a> members. Thanks! This work is much appreciated!</p>
<p>We got a good number of submissions. We’ve also reached out to prominent speakers and companies we felt would give great tutorials. All were reviewed, rated, discussed, compared; re-reviewed; some required further feedback from speakers.</p>
<p>Thank you to all speakers for submitting their proposals! I’m very sorry if your tutorial didn’t make it through — we have good tutorials left out — there’s only so much time in one day!</p>
<h4>What can you expect to see in the tutorials?</h4>
<p>The single day tutorials should appeal to beginners, seasonal DBAs, developers and database experts alike. Talks target different levels, in <strong>6</strong> different tracks.</p>
<p>I think the king & queen of the <strong>2013</strong> conference will be High Availability and the Cloud. This follows the trend of maturing HA solutions for MySQL and the emergence of MySQL cloud offerings or opportunities.</p>
<ul>
<li>We will have MySQL on Amazon, NDB Cluster, Tungsten Replicator, XtraDB & Galera tutorials, as well as a HA evaluation tutorial. Pick your HA solution: chances are there’s a good tutorial on the subject. If not – don’t worry, lot’s of HA sessions expected as well.</li>
</ul>
<ul>
<li>Not everything is HA. You will get the chance to learn about InnoDB architecture and tuning, Xtrabackup old and new features, and a full day operational DBA.</li>
</ul>
<ul>
<li>Down to basics, learn about how to Build your indexes, get to know your Sphinx search capabilities, or learn about TokuDB implementation.</li>
</ul>
<ul>
<li>Or you could learn about Debugging and crash testing, or Advanced query optimizer tuning.</li>
</ul>
<p>The tutorials day is in particular important to settle as early as possible; it has a separate pricing model than the rest of the conference, and offers more in-depth drill downs into the particular technologies. So we’re happy to make it through, and encourage you to <a href="http://www.percona.com/live/mysql-conference-2013/">register</a>. Thank you!</p>
	</div>

	<footer class="entry-footer">
		<span class="comments-link"><a href="https://shlomi-noach.github.io/blog/mysql/percona-live-2013-tutorials-schedule-released#comments">2 Comments<span class="screen-reader-text"> on Percona Live 2013: Tutorials schedule released!</span></a></span>	</footer>
</article>

<article id="post-5754" class="post-5754 post type-post status-publish format-standard hentry category-mysql tag-new-features">
	<header class="entry-header">
		<h2 class="entry-title"><a href="https://shlomi-noach.github.io/blog/mysql/mysql-5-6-rc-further-thoughts-and-questions" rel="bookmark">MySQL 5.6 RC: further thoughts and questions</a></h2>			<div class="entry-meta">
				<span class="cat-links"><a href="https://shlomi-noach.github.io/blog/category/mysql" rel="category tag">MySQL</a></span><span class="tags-links"><a href="https://shlomi-noach.github.io/blog/tag/new-features" rel="tag">New Features</a></span><span class="posted-on alignright"><a href="https://shlomi-noach.github.io/blog/mysql/mysql-5-6-rc-further-thoughts-and-questions" rel="bookmark"><time class="entry-date published" datetime="2012-11-19T12:21:25+02:00">November 19, 2012</time><time class="updated" datetime="2012-11-19T12:23:07+02:00">November 19, 2012</time></a></span>			</div>
			</header>

	
	<div class="entry-content">
		<p>Here are a few questions I came up with while experimenting with MySQL <strong>5.6.7</strong> & <strong>5.6.8</strong>. They are the impressions of a first-time encounter with <strong>5.6</strong>, which is a single opportunity for a person to point out the things that strike as odd.</p>
<p>Bugs-wise, just submitted another crashing bug for <strong>5.6.8</strong>. I’m just one man, so I extrapolate to realize there is still much work to be done.</p>
<p>The below list does not necessarily make for a bug list; mostly things that puzzle me. I hope it can stir some additional thinking.</p>
<ol>
<li>Transportable tablespace: what’s the difference between <strong>FLUSH TABLES</strong> my_table <strong>WITH READ LOCK</strong> and <strong>FLUSH TABLES</strong> my_table <strong>FOR EXPORT</strong>? Both create the <strong>.cfg</strong> file, and both seem to operate just as well. <a href="http://blogs.innodb.com/wp/2012/04/innodb-transportable-tablespaces/">One document</a> says <strong>READ LOCK</strong>, <a href="http://dev.mysql.com/doc/innodb/1.1/en/glossary.html#glos_transportable_tablespace">another</a> says <strong>FOR EXPORT</strong>.</li>
<li>What’s the <strong>ALGORITHM=?</strong> flag in online <strong>ALTER TABLE</strong>? Apparently one can write to altered table even on <strong>ALGORITHM=COPY</strong>. There’s not enough documentation to explain.</li>
<li>How come there’s not a single example of online InnoDB DDL in official docs?</li>
<li>Why the inconsistency of putting <strong>ALGORITHM=…</strong>, <strong>LOCK=…</strong> in between commas, as opposed to other flags/commands not between commas? For example: <strong>ALTER TABLE my_table ADD COLUMN i INT, ALGORITHM=COPY, LOCK=SHARED, ENGINE=InnoDB ROW_FORMAT=COMPRESSED KEY_BLOCK_SIZE=4</strong></li>
<li>Why would anyone care about <strong>FULLTEXT</strong> search word <a href="http://blogs.innodb.com/wp/2011/07/innodb-full-text-search-tutorial/">proximity</a><em> by bytes</em>? Typically, one would want proximity by <em>words</em>. I can find the excuse for proximity by <em>characters</em>. By <em>bytes</em>? A user is not interested in the low level representation of the text!</li>
<li>Could we get a distinct tablespace for the mysql internal InnoDB tables? (I understand there’s a separate tablespace for UNDO logs)</li>
<li>Why the need to configure <strong>gtid_mode=ON</strong> as well as <strong>disable-gtid-unsafe-statements</strong> so as to enable GTID replication? If only the first is set, an error is produced upon <strong>CHANGE MASTER TO MASTER_AUTO_POSITION=1</strong></li>
<li>And when said error is produced, why does it not mention <strong>disable-gtid-unsafe-statements</strong>, and instead read out a cryptic message? Also note <a href="http://datacharmer.blogspot.co.il/2012/11/mysql-568-broken-compatibility-ahead.html">this post</a> by Giuseppe Maxia.</li>
</ol>
	</div>

	<footer class="entry-footer">
		<span class="comments-link"><a href="https://shlomi-noach.github.io/blog/mysql/mysql-5-6-rc-further-thoughts-and-questions#comments">12 Comments<span class="screen-reader-text"> on MySQL 5.6 RC: further thoughts and questions</span></a></span>	</footer>
</article>

<article id="post-5157" class="post-5157 post type-post status-publish format-standard hentry category-mysql tag-bulk-operations tag-common_schema tag-indexing tag-queryscript tag-scripts">
	<header class="entry-header">
		<h2 class="entry-title"><a href="https://shlomi-noach.github.io/blog/mysql/purging-old-rows-with-queryscript-three-use-cases" rel="bookmark">Purging old rows with QueryScript: three use cases</a></h2>			<div class="entry-meta">
				<span class="cat-links"><a href="https://shlomi-noach.github.io/blog/category/mysql" rel="category tag">MySQL</a></span><span class="tags-links"><a href="https://shlomi-noach.github.io/blog/tag/bulk-operations" rel="tag">Bulk operations</a><a href="https://shlomi-noach.github.io/blog/tag/common_schema" rel="tag">common_schema</a><a href="https://shlomi-noach.github.io/blog/tag/indexing" rel="tag">Indexing</a><a href="https://shlomi-noach.github.io/blog/tag/queryscript" rel="tag">QueryScript</a><a href="https://shlomi-noach.github.io/blog/tag/scripts" rel="tag">scripts</a></span><span class="posted-on alignright"><a href="https://shlomi-noach.github.io/blog/mysql/purging-old-rows-with-queryscript-three-use-cases" rel="bookmark"><time class="entry-date published" datetime="2012-11-14T11:15:35+02:00">November 14, 2012</time><time class="updated" datetime="2012-11-14T11:20:08+02:00">November 14, 2012</time></a></span>			</div>
			</header>

	
	<div class="entry-content">
		<p>Problem: you need to purge old rows from a table. This may be your weekly/monthly cleanup task. The table is large, the amount of rows to be deleted is large, and doing so in one big <strong>DELETE</strong> is too heavy.</p>
<p>You can use <a href="http://openarkkit.googlecode.com/svn/trunk/openarkkit/doc/html/oak-chunk-update.html">oak-chunk-update</a> or <a href="http://www.percona.com/doc/percona-toolkit/2.1/pt-archiver.html">pt-archiver</a> to accomplish the task. You can also use server side scripting with <a href="http://common-schema.googlecode.com/svn/trunk/common_schema/doc/html/query_script.html">QueryScript</a>, offering a very simple syntax with no external scripting, dependencies and command line options.</p>
<p>I wish to present three cases of row deletion, with three different solutions. In all cases we assume some <strong>TIMESTAMP</strong> column exists in table, by which we choose to purge the row. In all cases we assume we wish to purge rows older than <strong>1</strong> month.</p>
<p>We assume the naive query is this:</p>
<blockquote>
<pre>DELETE FROM my_schema.my_table WHERE row_timestamp < CURDATE() - INTERVAL 1 MONTH</pre>
</blockquote>
<h4>Case 1: TIMESTAMP column is indexed</h4>
<p>I almost always index a timestamp column, if only for being able to quickly purge data (but usually also to slice data by date). In this case where the column is indexed, it’s very easy to figure out which rows are older than <strong>1</strong> month.</p>
<p>We break the naive query into smaller parts, and execute these in sequence: <a href="https://shlomi-noach.github.io/blog/mysql/purging-old-rows-with-queryscript-three-use-cases#more-5157" class="more-link">Continue reading »<span class="screen-reader-text"> “Purging old rows with QueryScript: three use cases”</span></a></p>
	</div>

	<footer class="entry-footer">
		<span class="comments-link"><a href="https://shlomi-noach.github.io/blog/mysql/purging-old-rows-with-queryscript-three-use-cases#respond">Leave a Comment<span class="screen-reader-text"> on Purging old rows with QueryScript: three use cases</span></a></span>	</footer>
</article>

<article id="post-5539" class="post-5539 post type-post status-publish format-standard hentry category-mysql tag-common_schema tag-open-source tag-partitioning tag-queryscript tag-security">
	<header class="entry-header">
		<h2 class="entry-title"><a href="https://shlomi-noach.github.io/blog/mysql/common_schema-1-2-security-partition-management-processes-queryscript-goodies" rel="bookmark">common_schema 1.2: security, partition management, processes, QueryScript goodies</a></h2>			<div class="entry-meta">
				<span class="cat-links"><a href="https://shlomi-noach.github.io/blog/category/mysql" rel="category tag">MySQL</a></span><span class="tags-links"><a href="https://shlomi-noach.github.io/blog/tag/common_schema" rel="tag">common_schema</a><a href="https://shlomi-noach.github.io/blog/tag/open-source" rel="tag">Open Source</a><a href="https://shlomi-noach.github.io/blog/tag/partitioning" rel="tag">partitioning</a><a href="https://shlomi-noach.github.io/blog/tag/queryscript" rel="tag">QueryScript</a><a href="https://shlomi-noach.github.io/blog/tag/security" rel="tag">Security</a></span><span class="posted-on alignright"><a href="https://shlomi-noach.github.io/blog/mysql/common_schema-1-2-security-partition-management-processes-queryscript-goodies" rel="bookmark"><time class="entry-date published updated" datetime="2012-11-13T14:25:38+02:00">November 13, 2012</time></a></span>			</div>
			</header>

	
	<div class="entry-content">
		<p><a href="http://code.google.com/p/common-schema">common_schema</a> <strong>1.2</strong> is released! This version comes shortly after <strong>1.1</strong>, yet contains quite a few interesting goodies:</p>
<ul>
<li>Account blocking</li>
<li>Security audit</li>
<li>RANGE partition management</li>
<li>Slave status</li>
<li>Better blocking and idle transaction management</li>
<li><em>QueryScript </em>goodies:
<ul>
<li>echo, report</li>
<li>while-otherwise statement; foreach-otherwise statement</li>
<li>Better variable scope handling</li>
<li>Complete support for variable expansion</li>
<li>Transaction support within QueryScript</li>
</ul>
</li>
<li>More summary info and SQL statements in processlist-related views</li>
</ul>
<p>A closer look at these follows:</p>
<h4>Account blocking</h4>
<p>A new view called <a href="http://common-schema.googlecode.com/svn/trunk/common_schema/doc/html/sql_accounts.html"><strong>sql_accounts</strong></a>, inspired by <a href="http://openarkkit.googlecode.com/svn/trunk/openarkkit/doc/html/oak-block-account.html">oak-block-account</a> (also see <a href="https://shlomi-noach.github.io/blog/mysql/blocking-user-accounts">here</a> and <a href="https://shlomi-noach.github.io/blog/mysql/pop-quiz-what-is-the-most-basic-privilege-an-account-can-be-assigned-with">here</a>) provides with the means of blocking use accounts (and releasing them, of course) without revoking their privileges. It offers the SQL statements to block an account (by modifying its password in a symmetric way) and to release an account (by modifying its password back to normal). It really works like a charm. Together with <a href="http://common-schema.googlecode.com/svn/trunk/common_schema/doc/html/killall.html">killall()</a> and <a href="http://common-schema.googlecode.com/svn/trunk/common_schema/doc/html/sql_grants.html">sql_accounts</a> this gives the administrator great control over accounts.</p>
<h4>Security audit</h4>
<p>Imported from <a href="http://openarkkit.googlecode.com/svn/trunk/openarkkit/doc/html/oak-security-audit.html">openark kit</a>, and implemented via <em>QueryScript</em>, the <a href="http://common-schema.googlecode.com/svn/trunk/common_schema/doc/html/security_audit.html"><strong>security_audit()</strong></a> procedure will audit your accounts, passwords and general settings to find problems, pitfalls and security hazards. I will write more on this later.</p>
<h4>RANGE partition management</h4>
<p>The <a href="http://common-schema.googlecode.com/svn/trunk/common_schema/doc/html/sql_range_partitions.html"><strong>sql_range_partitions</strong></a> view manages your <strong>RANGE</strong> and <strong>RANGE COLUMNS</strong> partitioned tables by providing with the SQL statements to drop oldest partitions and to create the next (in sequence) partitions. See my <a href="https://shlomi-noach.github.io/blog/mysql/your-magical-range-partitioning-maintenance-query">earlier post</a>. <a href="https://shlomi-noach.github.io/blog/mysql/common_schema-1-2-security-partition-management-processes-queryscript-goodies#more-5539" class="more-link">Continue reading »<span class="screen-reader-text"> “common_schema 1.2: security, partition management, processes, QueryScript goodies”</span></a></p>
	</div>

	<footer class="entry-footer">
		<span class="comments-link"><a href="https://shlomi-noach.github.io/blog/mysql/common_schema-1-2-security-partition-management-processes-queryscript-goodies#comments">2 Comments<span class="screen-reader-text"> on common_schema 1.2: security, partition management, processes, QueryScript goodies</span></a></span>	</footer>
</article>

<article id="post-5735" class="post-5735 post type-post status-publish format-standard hentry category-mysql tag-bugs tag-opinions">
	<header class="entry-header">
		<h2 class="entry-title"><a href="https://shlomi-noach.github.io/blog/mysql/my-take-on-privatized-mysql-security-bugs" rel="bookmark">My take on privatized MySQL security bugs</a></h2>			<div class="entry-meta">
				<span class="cat-links"><a href="https://shlomi-noach.github.io/blog/category/mysql" rel="category tag">MySQL</a></span><span class="tags-links"><a href="https://shlomi-noach.github.io/blog/tag/bugs" rel="tag">Bugs</a><a href="https://shlomi-noach.github.io/blog/tag/opinions" rel="tag">Opinions</a></span><span class="posted-on alignright"><a href="https://shlomi-noach.github.io/blog/mysql/my-take-on-privatized-mysql-security-bugs" rel="bookmark"><time class="entry-date published" datetime="2012-11-08T08:31:16+02:00">November 8, 2012</time><time class="updated" datetime="2012-11-08T08:31:35+02:00">November 8, 2012</time></a></span>			</div>
			</header>

	
	<div class="entry-content">
		<p>A couple weeks ago I submitted <a href="http://bugs.mysql.com/bug.php?id=67315">Bug #67315: Crashing server by stored function referencing user defined variable in query</a>. If you press that link, you can’t see the bug (though I can as I submitted it).</p>
<p>This is due to Oracle’s policy for security-related bugs. Tomas Ulin, Vice President MySQL Development at Oracle , was kind enough to discuss Oracle’s policy with me, and these are the key points as I understand them:</p>
<p>Oracle’s basic approach is to protect its customers. By publicizing security-bugs, Oracle’s customers are vulnerable to black hatters attacks. Therefore Oracle takes measures and privatizes security bugs (crashing bugs can be treated as security bugs since a crash is a form of Denial of Service).</p>
<p>But what of a bug reported in a RC version, as was in my case? There is no strict policy there, according to Ulin. However with a version this close to GA, it is uncertain that a specific bug would be fixed in time. It may happen, then, that a bug would find itself well into GA releases, thereby exposing customers to attacks.</p>
<p>Moreover, GA bugs that are already fixed may remain private, as customers will not necessarily haste to upgrade their working servers for every bug fix.</p>
<h4>My take</h4>
<p>Bug privatization has disadvantages, as well: <a href="https://shlomi-noach.github.io/blog/mysql/my-take-on-privatized-mysql-security-bugs#more-5735" class="more-link">Continue reading »<span class="screen-reader-text"> “My take on privatized MySQL security bugs”</span></a></p>
	</div>

	<footer class="entry-footer">
		<span class="comments-link"><a href="https://shlomi-noach.github.io/blog/mysql/my-take-on-privatized-mysql-security-bugs#comments">2 Comments<span class="screen-reader-text"> on My take on privatized MySQL security bugs</span></a></span>	</footer>
</article>

<article id="post-5445" class="post-5445 post type-post status-publish format-standard hentry category-mysql tag-sql tag-syntax">
	<header class="entry-header">
		<h2 class="entry-title"><a href="https://shlomi-noach.github.io/blog/mysql/pop-quiz-funny-syntax" rel="bookmark">Pop quiz: funny syntax</a></h2>			<div class="entry-meta">
				<span class="cat-links"><a href="https://shlomi-noach.github.io/blog/category/mysql" rel="category tag">MySQL</a></span><span class="tags-links"><a href="https://shlomi-noach.github.io/blog/tag/sql" rel="tag">SQL</a><a href="https://shlomi-noach.github.io/blog/tag/syntax" rel="tag">Syntax</a></span><span class="posted-on alignright"><a href="https://shlomi-noach.github.io/blog/mysql/pop-quiz-funny-syntax" rel="bookmark"><time class="entry-date published updated" datetime="2012-11-05T20:22:15+02:00">November 5, 2012</time></a></span>			</div>
			</header>

	
	<div class="entry-content">
		<p>The following questions are of little importance, yet I find them entertaining. I stumbled upon these while developing QueryScript.</p>
<p>Can you guess the results of the following statements?</p>
<h4>Pop quiz 1</h4>
<blockquote>
<pre>SET @x := 7;
SELECT ++@x;</pre>
</blockquote>
<p>What is the computation result? What will be the value of <strong>@x</strong>?</p>
<h4>Pop quiz 2</h4>
<blockquote>
<pre>SET @ := 4;
SELECT @ + @'' + @``</pre>
</blockquote>
<p>What is the computation result?</p>
<h4>Pop quiz 3</h4>
<blockquote>
<pre>SET @a := 2;
SELECT @a = @'a' = @`a`</pre>
</blockquote>
<p>Do we get <strong>TRUE</strong> or <strong>FALSE</strong>? When? <a href="https://shlomi-noach.github.io/blog/mysql/pop-quiz-funny-syntax#more-5445" class="more-link">Continue reading »<span class="screen-reader-text"> “Pop quiz: funny syntax”</span></a></p>
	</div>

	<footer class="entry-footer">
		<span class="comments-link"><a href="https://shlomi-noach.github.io/blog/mysql/pop-quiz-funny-syntax#comments">1 Comment<span class="screen-reader-text"> on Pop quiz: funny syntax</span></a></span>	</footer>
</article>

<article id="post-5710" class="post-5710 post type-post status-publish format-standard hentry category-mysql tag-new-features tag-opinions">
	<header class="entry-header">
		<h2 class="entry-title"><a href="https://shlomi-noach.github.io/blog/mysql/further-experiments-with-mysql-5-6-7-rc-submit-your-bugs" rel="bookmark">Further experiments with MySQL 5.6.7-RC: submit your bugs</a></h2>			<div class="entry-meta">
				<span class="cat-links"><a href="https://shlomi-noach.github.io/blog/category/mysql" rel="category tag">MySQL</a></span><span class="tags-links"><a href="https://shlomi-noach.github.io/blog/tag/new-features" rel="tag">New Features</a><a href="https://shlomi-noach.github.io/blog/tag/opinions" rel="tag">Opinions</a></span><span class="posted-on alignright"><a href="https://shlomi-noach.github.io/blog/mysql/further-experiments-with-mysql-5-6-7-rc-submit-your-bugs" rel="bookmark"><time class="entry-date published updated" datetime="2012-10-22T07:52:40+02:00">October 22, 2012</time></a></span>			</div>
			</header>

	
	<div class="entry-content">
		<p>Here’s the background: I’m testing many features of MySQL <strong>5.6.7-RC</strong> due to two reasons:</p>
<ul>
<li>I’m verifying my <a href="http://code.google.com/p/common-schema">common_schema</a> installs and works properly on <strong>5.6</strong></li>
<li>I promised I would present a <strong>45</strong> minute <em>“what’s new in MySQL 5.6”</em> seminar in the upcoming <a href="http://www.oracleweek.com/">OracleWeek (Israel)</a></li>
</ul>
<p>In the case of <em>common_schema</em>, I have managed to find one <a href="http://bugs.mysql.com/67313">weird bug</a> (a behavior regression from <strong>5.5</strong>) and one <a href="http://bugs.mysql.com/67315">server-crashing bug</a>, by merely running the project’s<strong></strong> tests, known to pass on <strong>5.1</strong> and <strong>5.5</strong> (and not utilizing any <strong>5.6</strong> features).</p>
<p>In the case of my presentation, I’m getting acquainted with new syntax and functionality, and am getting <a href="https://shlomi-noach.github.io/blog/mysql/thoughts-on-mysql-5-6-new-replication-features">unexpected results</a>. I’ve hit replication issues and <a href="https://shlomi-noach.github.io/blog/mysql/innodb-ddl-kudos-to-quick-responders-on-bugs-mysql-com">locking issues</a> in online DDL.</p>
<p>If I am able to find these bugs within a few hours of experimenting & testing, then it is safe to assume we can extrapolate to many more bugs. This is not surprising; <strong>5.6</strong> boasts some <strong>120</strong> new features (I didn’t actually count them). Of course they would introduce new bugs.</p>
<p>The moral is this: if you’re interested in <strong>5.6</strong> as I am – and there’s a lot to wait for – please consider experimenting with it, and report as many bugs to <a href="http://bugs.mysql.com/">bugs.mysql.com</a> as possible. Reporting bugs is the user’s authoritative way of improving an open source product and pushing towards a stable release. Provide your feedback today!</p>
	</div>

	<footer class="entry-footer">
		<span class="comments-link"><a href="https://shlomi-noach.github.io/blog/mysql/further-experiments-with-mysql-5-6-7-rc-submit-your-bugs#comments">8 Comments<span class="screen-reader-text"> on Further experiments with MySQL 5.6.7-RC: submit your bugs</span></a></span>	</footer>
</article>

<article id="post-5696" class="post-5696 post type-post status-publish format-standard hentry category-mysql tag-innodb tag-new-features">
	<header class="entry-header">
		<h2 class="entry-title"><a href="https://shlomi-noach.github.io/blog/mysql/innodb-ddl-kudos-to-quick-responders-on-bugs-mysql-com" rel="bookmark">InnoDB DDL: kudos to quick responders on bugs.mysql.com</a></h2>			<div class="entry-meta">
				<span class="cat-links"><a href="https://shlomi-noach.github.io/blog/category/mysql" rel="category tag">MySQL</a></span><span class="tags-links"><a href="https://shlomi-noach.github.io/blog/tag/innodb" rel="tag">InnoDB</a><a href="https://shlomi-noach.github.io/blog/tag/new-features" rel="tag">New Features</a></span><span class="posted-on alignright"><a href="https://shlomi-noach.github.io/blog/mysql/innodb-ddl-kudos-to-quick-responders-on-bugs-mysql-com" rel="bookmark"><time class="entry-date published updated" datetime="2012-10-18T18:55:29+02:00">October 18, 2012</time></a></span>			</div>
			</header>

	
	<div class="entry-content">
		<p>Continuing my <a href="https://shlomi-noach.github.io/blog/mysql/experimenting-with-5-6-innodb-online-ddl-bugs-included">experiments with 5.6 InnoDB online DDL</a>, a bug which I’ve opened, and another which I commented on were quickly answered and explained by the Oracle/MySQL team.</p>
<p>On both accounts I’m happy to acknowledge the issue is resolved; in both cases I failed to produce a real bug scenario. Good lesson. <em>Kudos for quick and informative responses!</em></p>
<p>What’s left of my experiment, then? Still a lot to check.</p>
<p>I am mainly still confused with which operations exactly can use <strong>LOCK=NONE</strong> (allowing for updated to table while <strong>ALTER</strong>ing). So far I am only able to produce <strong>ALTER</strong>s with <strong>LOCK=SHARED</strong>, meaning table is readable, but cannot be updated.</p>
<p>I will want to test speeds. I’ve so far been content with slow response times for queries over altered tables. How well will that endure under heavy load?</p>
	</div>

	<footer class="entry-footer">
		<span class="comments-link"><a href="https://shlomi-noach.github.io/blog/mysql/innodb-ddl-kudos-to-quick-responders-on-bugs-mysql-com#comments">5 Comments<span class="screen-reader-text"> on InnoDB DDL: kudos to quick responders on bugs.mysql.com</span></a></span>	</footer>
</article>

	<nav class="navigation posts-navigation" role="navigation" aria-label="Posts">
		<h2 class="screen-reader-text">Posts navigation</h2>
		<div class="nav-links"><div class="nav-previous"><a href="https://shlomi-noach.github.io/blog/page/18">Older posts</a></div><div class="nav-next"><a href="https://shlomi-noach.github.io/blog/page/16">Newer posts</a></div></div>
	</nav>
	</main>


	<footer id="colophon" class="site-footer">
		<div class="site-info">
			<a href="https://wordpress.org/">
				Powered by WordPress			</a>
			<span class="sep"> | </span>
				Theme: <a href="http://openark.org">openark-primer</a> by <a href="http://underscores.me/">Underscores.me</a>.		</div>
	</footer>
</div>

	<div style="display:none">
	</div>
<script>
var pollsL10n = {"ajax_url":"https:\/\/shlomi-noach.github.io\/blog\/wp-admin\/admin-ajax.php","text_wait":"Your last request is still being processed. Please wait a while ...","text_valid":"Please choose a valid poll answer.","text_multiple":"Maximum number of choices allowed: ","show_loading":"1","show_fading":"1"};
</script>
<script src="https://shlomi-noach.github.io/blog/wp-content/plugins/wp-polls/polls-js.js"></script>
<script src="https://secure.gravatar.com/js/gprofiles.js?ver=2020Junaa"></script>
<script>
var WPGroHo = {"my_hash":""};
</script>
<script src="https://shlomi-noach.github.io/blog/wp-content/plugins/jetpack/modules/wpgroho.js"></script>
<script src="https://shlomi-noach.github.io/blog/wp-content/themes/openark-primer/js/navigation.js"></script>
<script src="https://shlomi-noach.github.io/blog/wp-content/themes/openark-primer/js/skip-link-focus-fix.js"></script>
<script type="text/javascript" src="https://stats.wp.com/e-202024.js" async="async" defer></script>
<script type="text/javascript">
	_stq = window._stq || [];
	_stq.push([ 'view', {v:'ext',j:'1:8.2.1',blog:'32412571',post:'0',tz:'2',srv:'code.openark.org'} ]);
	_stq.push([ 'clickTrackerInit', '32412571', '0' ]);
</script>

</body>
</html>
