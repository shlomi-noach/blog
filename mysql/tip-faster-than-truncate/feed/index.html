<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	
	xmlns:georss="http://www.georss.org/georss"
	xmlns:geo="http://www.w3.org/2003/01/geo/wgs84_pos#"
	
	>
<channel>
	<title>
	Comments on: Tip: faster than TRUNCATE	</title>
	<atom:link href="https://shlomi-noach.github.io/blog/mysql/tip-faster-than-truncate/feed" rel="self" type="application/rss+xml" />
	<link>https://shlomi-noach.github.io/blog/mysql/tip-faster-than-truncate</link>
	<description>Blog by Shlomi Noach</description>
	<lastBuildDate>Fri, 22 Feb 2013 20:21:36 +0000</lastBuildDate>
	<sy:updatePeriod>
	hourly	</sy:updatePeriod>
	<sy:updateFrequency>
	1	</sy:updateFrequency>
	<generator>https://wordpress.org/?v=5.3.3</generator>
			<item>
				<title>
				By: Log Buffer #182, A Carnival of the Vanities for DBAs				</title>
				<link>https://shlomi-noach.github.io/blog/mysql/tip-faster-than-truncate/comment-page-1#comment-183988</link>
		<dc:creator><![CDATA[Log Buffer #182, A Carnival of the Vanities for DBAs]]></dc:creator>
		<pubDate>Fri, 22 Feb 2013 20:21:36 +0000</pubDate>
		<guid isPermaLink="false">https://shlomi-noach.github.io/blog/?p=1896#comment-183988</guid>
					<description><![CDATA[[...] Jamie Thomson asks why do you abbreviate schema names?. Shlomi Noach tries to solve the issue that &#8220;there is no consistent convention as for how to write [about table aliases in] an SQL query&#8221; in proper sql table alias use conventions. Noach also gives us a tip: faster than truncate. [...]]]></description>
		<content:encoded><![CDATA[<p>[&#8230;] Jamie Thomson asks why do you abbreviate schema names?. Shlomi Noach tries to solve the issue that &#8220;there is no consistent convention as for how to write [about table aliases in] an SQL query&#8221; in proper sql table alias use conventions. Noach also gives us a tip: faster than truncate. [&#8230;]</p>
]]></content:encoded>
						</item>
						<item>
				<title>
				By: shlomi				</title>
				<link>https://shlomi-noach.github.io/blog/mysql/tip-faster-than-truncate/comment-page-1#comment-59885</link>
		<dc:creator><![CDATA[shlomi]]></dc:creator>
		<pubDate>Tue, 22 Nov 2011 07:38:47 +0000</pubDate>
		<guid isPermaLink="false">https://shlomi-noach.github.io/blog/?p=1896#comment-59885</guid>
					<description><![CDATA[@grace,
The RENAME itself should not be affected by number of rows, since it merely maps to a file rename. I say &quot;should&quot; though I&#039;ve renamed very large tables with no overhead.]]></description>
		<content:encoded><![CDATA[<p>@grace,<br />
The RENAME itself should not be affected by number of rows, since it merely maps to a file rename. I say &#8220;should&#8221; though I&#8217;ve renamed very large tables with no overhead.</p>
]]></content:encoded>
						</item>
						<item>
				<title>
				By: grace				</title>
				<link>https://shlomi-noach.github.io/blog/mysql/tip-faster-than-truncate/comment-page-1#comment-59883</link>
		<dc:creator><![CDATA[grace]]></dc:creator>
		<pubDate>Tue, 22 Nov 2011 07:22:06 +0000</pubDate>
		<guid isPermaLink="false">https://shlomi-noach.github.io/blog/?p=1896#comment-59883</guid>
					<description><![CDATA[hey shlomi,

just want to ask if number of records in the table affects renaming table performance?]]></description>
		<content:encoded><![CDATA[<p>hey shlomi,</p>
<p>just want to ask if number of records in the table affects renaming table performance?</p>
]]></content:encoded>
						</item>
						<item>
				<title>
				By: shlomi				</title>
				<link>https://shlomi-noach.github.io/blog/mysql/tip-faster-than-truncate/comment-page-1#comment-11334</link>
		<dc:creator><![CDATA[shlomi]]></dc:creator>
		<pubDate>Wed, 10 Mar 2010 16:09:17 +0000</pubDate>
		<guid isPermaLink="false">https://shlomi-noach.github.io/blog/?p=1896#comment-11334</guid>
					<description><![CDATA[@Hans,
Well, I would do well with 8-10 seconds. However, as I described, I waited for long minutes. Connections got into Locked state. Nothing would happen (on one occasion I waited for 15 minutes before calling it off).]]></description>
		<content:encoded><![CDATA[<p>@Hans,<br />
Well, I would do well with 8-10 seconds. However, as I described, I waited for long minutes. Connections got into Locked state. Nothing would happen (on one occasion I waited for 15 minutes before calling it off).</p>
]]></content:encoded>
						</item>
						<item>
				<title>
				By: Hans-Henrik				</title>
				<link>https://shlomi-noach.github.io/blog/mysql/tip-faster-than-truncate/comment-page-1#comment-11332</link>
		<dc:creator><![CDATA[Hans-Henrik]]></dc:creator>
		<pubDate>Wed, 10 Mar 2010 13:46:38 +0000</pubDate>
		<guid isPermaLink="false">https://shlomi-noach.github.io/blog/?p=1896#comment-11332</guid>
					<description><![CDATA[The big difference, i think is the time the table &#039;log_table&#039; is unavailable.

If you truncate, the table will be locked until the space has been freed (8-10 seconds for _very_ large tables, if you have IO at the same time). If you do the renaming first, the empty table will appear _very_ fast, while the dropping of the old table does not involve locking of any table that is in use, and so - probably doesn&#039;t matter much if it takes a few seconds.]]></description>
		<content:encoded><![CDATA[<p>The big difference, i think is the time the table &#8216;log_table&#8217; is unavailable.</p>
<p>If you truncate, the table will be locked until the space has been freed (8-10 seconds for _very_ large tables, if you have IO at the same time). If you do the renaming first, the empty table will appear _very_ fast, while the dropping of the old table does not involve locking of any table that is in use, and so &#8211; probably doesn&#8217;t matter much if it takes a few seconds.</p>
]]></content:encoded>
						</item>
						<item>
				<title>
				By: shlomi				</title>
				<link>https://shlomi-noach.github.io/blog/mysql/tip-faster-than-truncate/comment-page-1#comment-11328</link>
		<dc:creator><![CDATA[shlomi]]></dc:creator>
		<pubDate>Wed, 10 Mar 2010 11:34:05 +0000</pubDate>
		<guid isPermaLink="false">https://shlomi-noach.github.io/blog/?p=1896#comment-11328</guid>
					<description><![CDATA[@Vojtech,
Thank you!]]></description>
		<content:encoded><![CDATA[<p>@Vojtech,<br />
Thank you!</p>
]]></content:encoded>
						</item>
						<item>
				<title>
				By: Vojtech Kurka				</title>
				<link>https://shlomi-noach.github.io/blog/mysql/tip-faster-than-truncate/comment-page-1#comment-11327</link>
		<dc:creator><![CDATA[Vojtech Kurka]]></dc:creator>
		<pubDate>Wed, 10 Mar 2010 11:30:18 +0000</pubDate>
		<guid isPermaLink="false">https://shlomi-noach.github.io/blog/?p=1896#comment-11327</guid>
					<description><![CDATA[Morgan, large ibd files are not the only cause. Shlomi, It&#039;s a bug, just look at:  http://bugs.mysql.com/bug.php?id=35077 http://bugs.mysql.com/bug.php?id=51325 http://bugs.mysql.com/bug.php?id=51557]]></description>
		<content:encoded><![CDATA[<p>Morgan, large ibd files are not the only cause. Shlomi, It&#8217;s a bug, just look at:  <a href="http://bugs.mysql.com/bug.php?id=35077" rel="nofollow ugc">http://bugs.mysql.com/bug.php?id=35077</a> <a href="http://bugs.mysql.com/bug.php?id=51325" rel="nofollow ugc">http://bugs.mysql.com/bug.php?id=51325</a> <a href="http://bugs.mysql.com/bug.php?id=51557" rel="nofollow ugc">http://bugs.mysql.com/bug.php?id=51557</a></p>
]]></content:encoded>
						</item>
						<item>
				<title>
				By: Morgan Tocker				</title>
				<link>https://shlomi-noach.github.io/blog/mysql/tip-faster-than-truncate/comment-page-1#comment-11315</link>
		<dc:creator><![CDATA[Morgan Tocker]]></dc:creator>
		<pubDate>Tue, 09 Mar 2010 23:23:15 +0000</pubDate>
		<guid isPermaLink="false">https://shlomi-noach.github.io/blog/?p=1896#comment-11315</guid>
					<description><![CDATA[shlomi: The table renamed &#038; dropped still has some contention issues (lock_open mutex will be held), but your trick is still useful for emptying a table and being able to use it again.]]></description>
		<content:encoded><![CDATA[<p>shlomi: The table renamed &amp; dropped still has some contention issues (lock_open mutex will be held), but your trick is still useful for emptying a table and being able to use it again.</p>
]]></content:encoded>
						</item>
						<item>
				<title>
				By: shlomi				</title>
				<link>https://shlomi-noach.github.io/blog/mysql/tip-faster-than-truncate/comment-page-1#comment-11312</link>
		<dc:creator><![CDATA[shlomi]]></dc:creator>
		<pubDate>Tue, 09 Mar 2010 14:44:01 +0000</pubDate>
		<guid isPermaLink="false">https://shlomi-noach.github.io/blog/?p=1896#comment-11312</guid>
					<description><![CDATA[@Darius,

Not a problem, since the dropped table has no contention: no one is writing to it.]]></description>
		<content:encoded><![CDATA[<p>@Darius,</p>
<p>Not a problem, since the dropped table has no contention: no one is writing to it.</p>
]]></content:encoded>
						</item>
						<item>
				<title>
				By: Darius Jahandarie				</title>
				<link>https://shlomi-noach.github.io/blog/mysql/tip-faster-than-truncate/comment-page-1#comment-11311</link>
		<dc:creator><![CDATA[Darius Jahandarie]]></dc:creator>
		<pubDate>Tue, 09 Mar 2010 14:02:39 +0000</pubDate>
		<guid isPermaLink="false">https://shlomi-noach.github.io/blog/?p=1896#comment-11311</guid>
					<description><![CDATA[Isn&#039;t the table being dropped after renamed though? It should still have the same contention on the disk (if that was the original problem), as long as you are deleting the data.]]></description>
		<content:encoded><![CDATA[<p>Isn&#8217;t the table being dropped after renamed though? It should still have the same contention on the disk (if that was the original problem), as long as you are deleting the data.</p>
]]></content:encoded>
						</item>
			</channel>
</rss>
