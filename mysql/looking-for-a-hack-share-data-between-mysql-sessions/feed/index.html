<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	
	xmlns:georss="http://www.georss.org/georss"
	xmlns:geo="http://www.w3.org/2003/01/geo/wgs84_pos#"
	
	>
<channel>
	<title>
	Comments on: Looking for a hack: share data between MySQL sessions	</title>
	<atom:link href="https://shlomi-noach.github.io/blog/mysql/looking-for-a-hack-share-data-between-mysql-sessions/feed" rel="self" type="application/rss+xml" />
	<link>https://shlomi-noach.github.io/blog/mysql/looking-for-a-hack-share-data-between-mysql-sessions</link>
	<description>Blog by Shlomi Noach</description>
	<lastBuildDate>Wed, 07 Jan 2015 10:25:08 +0000</lastBuildDate>
	<sy:updatePeriod>
	hourly	</sy:updatePeriod>
	<sy:updateFrequency>
	1	</sy:updateFrequency>
	<generator>https://wordpress.org/?v=5.3.3</generator>
			<item>
				<title>
				By: Joro				</title>
				<link>https://shlomi-noach.github.io/blog/mysql/looking-for-a-hack-share-data-between-mysql-sessions/comment-page-1#comment-302123</link>
		<dc:creator><![CDATA[Joro]]></dc:creator>
		<pubDate>Wed, 07 Jan 2015 10:25:08 +0000</pubDate>
		<guid isPermaLink="false">https://shlomi-noach.github.io/blog/?p=6034#comment-302123</guid>
					<description><![CDATA[Well, securty concerns about IPC are even harder, since the data are less defined than the tables. 
So I don&#039;t think you&#039;ll be saving anything with avoiding the tables.

But if that must be done your option is to write a daemon plugin that has (any number of) global variables that processes can use to pass data around. 
If you couple that with GET_LOCK() it may work. 

But this will require super priv to set the global.]]></description>
		<content:encoded><![CDATA[<p>Well, securty concerns about IPC are even harder, since the data are less defined than the tables.<br />
So I don&#8217;t think you&#8217;ll be saving anything with avoiding the tables.</p>
<p>But if that must be done your option is to write a daemon plugin that has (any number of) global variables that processes can use to pass data around.<br />
If you couple that with GET_LOCK() it may work. </p>
<p>But this will require super priv to set the global.</p>
]]></content:encoded>
						</item>
						<item>
				<title>
				By: shlomi				</title>
				<link>https://shlomi-noach.github.io/blog/mysql/looking-for-a-hack-share-data-between-mysql-sessions/comment-page-1#comment-301837</link>
		<dc:creator><![CDATA[shlomi]]></dc:creator>
		<pubDate>Tue, 06 Jan 2015 09:49:57 +0000</pubDate>
		<guid isPermaLink="false">https://shlomi-noach.github.io/blog/?p=6034#comment-301837</guid>
					<description><![CDATA[I did not pursue this much further, so no...]]></description>
		<content:encoded><![CDATA[<p>I did not pursue this much further, so no&#8230;</p>
]]></content:encoded>
						</item>
						<item>
				<title>
				By: Kushal				</title>
				<link>https://shlomi-noach.github.io/blog/mysql/looking-for-a-hack-share-data-between-mysql-sessions/comment-page-1#comment-301014</link>
		<dc:creator><![CDATA[Kushal]]></dc:creator>
		<pubDate>Sat, 03 Jan 2015 18:33:33 +0000</pubDate>
		<guid isPermaLink="false">https://shlomi-noach.github.io/blog/?p=6034#comment-301014</guid>
					<description><![CDATA[@shlomi Did you find a solution to this problem?]]></description>
		<content:encoded><![CDATA[<p>@shlomi Did you find a solution to this problem?</p>
]]></content:encoded>
						</item>
						<item>
				<title>
				By: MySQL get_lock &#8211; STRUCTURED DATA UNSTRUCTURED DATA				</title>
				<link>https://shlomi-noach.github.io/blog/mysql/looking-for-a-hack-share-data-between-mysql-sessions/comment-page-1#comment-183186</link>
		<dc:creator><![CDATA[MySQL get_lock &#8211; STRUCTURED DATA UNSTRUCTURED DATA]]></dc:creator>
		<pubDate>Thu, 21 Feb 2013 10:25:16 +0000</pubDate>
		<guid isPermaLink="false">https://shlomi-noach.github.io/blog/?p=6034#comment-183186</guid>
					<description><![CDATA[[...] 最近看到Shlomi Noach的blog()，分布式系统如何来做并发控制，一般情况，我们往往会使用一个表的一个记录来表示资源是否可用，但有个评论提到用mysql的get_lock函数，以前一直没有关注这个函数，今天小试一把。 [...]]]></description>
		<content:encoded><![CDATA[<p>[&#8230;] 最近看到Shlomi Noach的blog()，分布式系统如何来做并发控制，一般情况，我们往往会使用一个表的一个记录来表示资源是否可用，但有个评论提到用mysql的get_lock函数，以前一直没有关注这个函数，今天小试一把。 [&#8230;]</p>
]]></content:encoded>
						</item>
						<item>
				<title>
				By: shlomi				</title>
				<link>https://shlomi-noach.github.io/blog/mysql/looking-for-a-hack-share-data-between-mysql-sessions/comment-page-1#comment-171295</link>
		<dc:creator><![CDATA[shlomi]]></dc:creator>
		<pubDate>Thu, 31 Jan 2013 21:27:04 +0000</pubDate>
		<guid isPermaLink="false">https://shlomi-noach.github.io/blog/?p=6034#comment-171295</guid>
					<description><![CDATA[@combuilder,

So the Stored Routines lib can dynamically get and set global variables -- but that doesn&#039;t help too much because those global variables have some important value, that I should not be tampering with.]]></description>
		<content:encoded><![CDATA[<p>@combuilder,</p>
<p>So the Stored Routines lib can dynamically get and set global variables &#8212; but that doesn&#8217;t help too much because those global variables have some important value, that I should not be tampering with.</p>
]]></content:encoded>
						</item>
						<item>
				<title>
				By: combuilder				</title>
				<link>https://shlomi-noach.github.io/blog/mysql/looking-for-a-hack-share-data-between-mysql-sessions/comment-page-1#comment-170311</link>
		<dc:creator><![CDATA[combuilder]]></dc:creator>
		<pubDate>Wed, 30 Jan 2013 11:39:55 +0000</pubDate>
		<guid isPermaLink="false">https://shlomi-noach.github.io/blog/?p=6034#comment-170311</guid>
					<description><![CDATA[have you tried the global using this: http://sourceforge.net/projects/mysql-sr-lib/ ?]]></description>
		<content:encoded><![CDATA[<p>have you tried the global using this: <a href="http://sourceforge.net/projects/mysql-sr-lib/" rel="nofollow ugc">http://sourceforge.net/projects/mysql-sr-lib/</a> ?</p>
]]></content:encoded>
						</item>
						<item>
				<title>
				By: Maciej Dobrzanski				</title>
				<link>https://shlomi-noach.github.io/blog/mysql/looking-for-a-hack-share-data-between-mysql-sessions/comment-page-1#comment-169471</link>
		<dc:creator><![CDATA[Maciej Dobrzanski]]></dc:creator>
		<pubDate>Tue, 29 Jan 2013 10:05:35 +0000</pubDate>
		<guid isPermaLink="false">https://shlomi-noach.github.io/blog/?p=6034#comment-169471</guid>
					<description><![CDATA[Justin,

The approach that uses process lists will not suffer from any permission-related problems as I assume both sessions would be using the same user, so they will be able to see each other in the process list even without the extra privilege.]]></description>
		<content:encoded><![CDATA[<p>Justin,</p>
<p>The approach that uses process lists will not suffer from any permission-related problems as I assume both sessions would be using the same user, so they will be able to see each other in the process list even without the extra privilege.</p>
]]></content:encoded>
						</item>
						<item>
				<title>
				By: Justin Swanhart				</title>
				<link>https://shlomi-noach.github.io/blog/mysql/looking-for-a-hack-share-data-between-mysql-sessions/comment-page-1#comment-169458</link>
		<dc:creator><![CDATA[Justin Swanhart]]></dc:creator>
		<pubDate>Tue, 29 Jan 2013 09:44:10 +0000</pubDate>
		<guid isPermaLink="false">https://shlomi-noach.github.io/blog/?p=6034#comment-169458</guid>
					<description><![CDATA[I know you said no UDF, but what you really want is gearman + Gearman MySQL UDF, but I know that they don&#039;t have wide enough adoption for them to be usable by you.  I figured I&#039;d share this though, because you might think it is cool and it might let others know what you can do (anything you can image) with the UDFs.

It is how the Shard-Query MySQL proxy works, btw.  The proxy intercepts the user&#039;s original query, then runs a SQL call like this instead:
select gman_do(&#039;shard_query_worker&#039;, v_orig_sql);

The gearman worker creates a Shard-Query object and executes the requested query.  It then encodes the resultset in JSON in a representation friendly to the proxy so that it doesn&#039;t have to reformulate it.

Since the results come back already properly formatted, the Lua script simply decodes the JSON and sends the array to the client as the result.  

This makes the proxy very lightweight and unlikely to crash.  Complex scripts are not very stable in my experience but simple ones are.]]></description>
		<content:encoded><![CDATA[<p>I know you said no UDF, but what you really want is gearman + Gearman MySQL UDF, but I know that they don&#8217;t have wide enough adoption for them to be usable by you.  I figured I&#8217;d share this though, because you might think it is cool and it might let others know what you can do (anything you can image) with the UDFs.</p>
<p>It is how the Shard-Query MySQL proxy works, btw.  The proxy intercepts the user&#8217;s original query, then runs a SQL call like this instead:<br />
select gman_do(&#8216;shard_query_worker&#8217;, v_orig_sql);</p>
<p>The gearman worker creates a Shard-Query object and executes the requested query.  It then encodes the resultset in JSON in a representation friendly to the proxy so that it doesn&#8217;t have to reformulate it.</p>
<p>Since the results come back already properly formatted, the Lua script simply decodes the JSON and sends the array to the client as the result.  </p>
<p>This makes the proxy very lightweight and unlikely to crash.  Complex scripts are not very stable in my experience but simple ones are.</p>
]]></content:encoded>
						</item>
						<item>
				<title>
				By: shlomi				</title>
				<link>https://shlomi-noach.github.io/blog/mysql/looking-for-a-hack-share-data-between-mysql-sessions/comment-page-1#comment-169355</link>
		<dc:creator><![CDATA[shlomi]]></dc:creator>
		<pubDate>Tue, 29 Jan 2013 06:21:34 +0000</pubDate>
		<guid isPermaLink="false">https://shlomi-noach.github.io/blog/?p=6034#comment-169355</guid>
					<description><![CDATA[Justin,

The VIEW solution brings back some memories from a similar old solution I used. Good call: will look into it!
Though in terms of infrastructure it still requires tables and GRANTs, there&#039;s a lightweight essence to it. Thanks -- will check it out.]]></description>
		<content:encoded><![CDATA[<p>Justin,</p>
<p>The VIEW solution brings back some memories from a similar old solution I used. Good call: will look into it!<br />
Though in terms of infrastructure it still requires tables and GRANTs, there&#8217;s a lightweight essence to it. Thanks &#8212; will check it out.</p>
]]></content:encoded>
						</item>
						<item>
				<title>
				By: shlomi				</title>
				<link>https://shlomi-noach.github.io/blog/mysql/looking-for-a-hack-share-data-between-mysql-sessions/comment-page-1#comment-169353</link>
		<dc:creator><![CDATA[shlomi]]></dc:creator>
		<pubDate>Tue, 29 Jan 2013 06:15:20 +0000</pubDate>
		<guid isPermaLink="false">https://shlomi-noach.github.io/blog/?p=6034#comment-169353</guid>
					<description><![CDATA[Justin, thanks.
As per Joro&#039;s request, I&#039;m elaborating:

I&#039;m not too afraid of other people possibly reading the data interchanged between the two sessions.

I need this for my ongoing common_schema project, which is a sort of framework for MySQL. The need for inter-process communication is a shared part for several ideas. One of them would be the control of one &quot;master&quot; script or &quot;dashboard&quot; of some sorts, over scripts running in other connections (so, being able to gracefully stop them etc.).
Another idea involves controlling execution of stored routines (I won&#039;t elaborate too much here, as I&#039;ve only just started looking into this).

So basically, I will have:
One &quot;master/dashboard/manager&quot; connection, looking at &quot;standard/worker&quot; connections (one or more; if need be, I&#039;m willing to settle for one).
The worker connections will send info about their state, and the manager connection will be able to send execution hints like &quot;you should terminate now / you should resume now&quot;.

There will be cooperation between the two; they just need to be able to pass info between themselves.

Like I said, I don&#039;t care too much about eavesdropping at this moment.

If the solution is based on tables -- which is the trivial way of sharing data between connections -- then I already have all that I need. But this will of course require additional grants, which I prefer to avoid.]]></description>
		<content:encoded><![CDATA[<p>Justin, thanks.<br />
As per Joro&#8217;s request, I&#8217;m elaborating:</p>
<p>I&#8217;m not too afraid of other people possibly reading the data interchanged between the two sessions.</p>
<p>I need this for my ongoing common_schema project, which is a sort of framework for MySQL. The need for inter-process communication is a shared part for several ideas. One of them would be the control of one &#8220;master&#8221; script or &#8220;dashboard&#8221; of some sorts, over scripts running in other connections (so, being able to gracefully stop them etc.).<br />
Another idea involves controlling execution of stored routines (I won&#8217;t elaborate too much here, as I&#8217;ve only just started looking into this).</p>
<p>So basically, I will have:<br />
One &#8220;master/dashboard/manager&#8221; connection, looking at &#8220;standard/worker&#8221; connections (one or more; if need be, I&#8217;m willing to settle for one).<br />
The worker connections will send info about their state, and the manager connection will be able to send execution hints like &#8220;you should terminate now / you should resume now&#8221;.</p>
<p>There will be cooperation between the two; they just need to be able to pass info between themselves.</p>
<p>Like I said, I don&#8217;t care too much about eavesdropping at this moment.</p>
<p>If the solution is based on tables &#8212; which is the trivial way of sharing data between connections &#8212; then I already have all that I need. But this will of course require additional grants, which I prefer to avoid.</p>
]]></content:encoded>
						</item>
			</channel>
</rss>
