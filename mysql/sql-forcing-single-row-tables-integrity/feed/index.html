<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	
	xmlns:georss="http://www.georss.org/georss"
	xmlns:geo="http://www.w3.org/2003/01/geo/wgs84_pos#"
	
	>
<channel>
	<title>
	Comments on: SQL: forcing single row tables integrity	</title>
	<atom:link href="https://shlomi-noach.github.io/blog/mysql/sql-forcing-single-row-tables-integrity/feed" rel="self" type="application/rss+xml" />
	<link>https://shlomi-noach.github.io/blog/mysql/sql-forcing-single-row-tables-integrity</link>
	<description>Blog by Shlomi Noach</description>
	<lastBuildDate>Thu, 24 Jun 2010 19:56:17 +0000</lastBuildDate>
	<sy:updatePeriod>
	hourly	</sy:updatePeriod>
	<sy:updateFrequency>
	1	</sy:updateFrequency>
	<generator>https://wordpress.org/?v=5.3.3</generator>
			<item>
				<title>
				By: MySQL SQL Mode Fun &#8211; SimonOnSoftware				</title>
				<link>https://shlomi-noach.github.io/blog/mysql/sql-forcing-single-row-tables-integrity/comment-page-1#comment-15101</link>
		<dc:creator><![CDATA[MySQL SQL Mode Fun &#8211; SimonOnSoftware]]></dc:creator>
		<pubDate>Thu, 24 Jun 2010 19:56:17 +0000</pubDate>
		<guid isPermaLink="false">https://shlomi-noach.github.io/blog/?p=2523#comment-15101</guid>
					<description><![CDATA[[...] looking for some information on the web, I found quite nice piece of SQL, something [...]]]></description>
		<content:encoded><![CDATA[<p>[&#8230;] looking for some information on the web, I found quite nice piece of SQL, something [&#8230;]</p>
]]></content:encoded>
						</item>
						<item>
				<title>
				By: Sheeri				</title>
				<link>https://shlomi-noach.github.io/blog/mysql/sql-forcing-single-row-tables-integrity/comment-page-1#comment-15070</link>
		<dc:creator><![CDATA[Sheeri]]></dc:creator>
		<pubDate>Wed, 23 Jun 2010 19:45:02 +0000</pubDate>
		<guid isPermaLink="false">https://shlomi-noach.github.io/blog/?p=2523#comment-15070</guid>
					<description><![CDATA[William,

The fastest solution is not to worry about integrity.

Speed is not the point of this article, which is why Shlomi did not mention it.  In fact, Shlomi doesn&#039;t even set the storage engine for the heartbeat table.  

As with everything, the fastest solution has many factors:  storage engine, what else is happening simultaneously, what else is happening within the rest of the transaction, if this is embedded in a transaction.

William -- just remember, if there was an easy answer, you&#039;d probably already know it.]]></description>
		<content:encoded><![CDATA[<p>William,</p>
<p>The fastest solution is not to worry about integrity.</p>
<p>Speed is not the point of this article, which is why Shlomi did not mention it.  In fact, Shlomi doesn&#8217;t even set the storage engine for the heartbeat table.  </p>
<p>As with everything, the fastest solution has many factors:  storage engine, what else is happening simultaneously, what else is happening within the rest of the transaction, if this is embedded in a transaction.</p>
<p>William &#8212; just remember, if there was an easy answer, you&#8217;d probably already know it.</p>
]]></content:encoded>
						</item>
						<item>
				<title>
				By: shlomi				</title>
				<link>https://shlomi-noach.github.io/blog/mysql/sql-forcing-single-row-tables-integrity/comment-page-1#comment-15043</link>
		<dc:creator><![CDATA[shlomi]]></dc:creator>
		<pubDate>Tue, 22 Jun 2010 16:22:17 +0000</pubDate>
		<guid isPermaLink="false">https://shlomi-noach.github.io/blog/?p=2523#comment-15043</guid>
					<description><![CDATA[@William,
Fastest solution for what? 
Faster schema to control integrity? I don&#039;t think it&#039;s of any difference.
Fastest query type? Read &lt;a href=&quot;https://shlomi-noach.github.io/blog/mysql/replace-into-think-twice&quot; rel=&quot;nofollow&quot;&gt;REPLACE INTO: think twice&lt;/a&gt;, though with a single row table I haven&#039;t benchmarked it.]]></description>
		<content:encoded><![CDATA[<p>@William,<br />
Fastest solution for what?<br />
Faster schema to control integrity? I don&#8217;t think it&#8217;s of any difference.<br />
Fastest query type? Read <a href="https://shlomi-noach.github.io/blog/mysql/replace-into-think-twice" rel="nofollow">REPLACE INTO: think twice</a>, though with a single row table I haven&#8217;t benchmarked it.</p>
]]></content:encoded>
						</item>
						<item>
				<title>
				By: William				</title>
				<link>https://shlomi-noach.github.io/blog/mysql/sql-forcing-single-row-tables-integrity/comment-page-1#comment-15042</link>
		<dc:creator><![CDATA[William]]></dc:creator>
		<pubDate>Tue, 22 Jun 2010 16:02:48 +0000</pubDate>
		<guid isPermaLink="false">https://shlomi-noach.github.io/blog/?p=2523#comment-15042</guid>
					<description><![CDATA[Ok, integrity is nice and all, but which is the FASTEST Solution?]]></description>
		<content:encoded><![CDATA[<p>Ok, integrity is nice and all, but which is the FASTEST Solution?</p>
]]></content:encoded>
						</item>
						<item>
				<title>
				By: shlomi				</title>
				<link>https://shlomi-noach.github.io/blog/mysql/sql-forcing-single-row-tables-integrity/comment-page-1#comment-15039</link>
		<dc:creator><![CDATA[shlomi]]></dc:creator>
		<pubDate>Tue, 22 Jun 2010 13:28:38 +0000</pubDate>
		<guid isPermaLink="false">https://shlomi-noach.github.io/blog/?p=2523#comment-15039</guid>
					<description><![CDATA[@Roland,
thank you. Now that you mention it, I recall Giuseppe&#039;s post!

@Mark, 
I have found that out, too. Have commented &lt;a href=&quot;https://shlomi-noach.github.io/blog/mysql/choosing-mysql-boolean-data-types#comment-15028&quot; rel=&quot;nofollow&quot;&gt;here&lt;/a&gt; in a relevant post of mine. Thank you!]]></description>
		<content:encoded><![CDATA[<p>@Roland,<br />
thank you. Now that you mention it, I recall Giuseppe&#8217;s post!</p>
<p>@Mark,<br />
I have found that out, too. Have commented <a href="https://shlomi-noach.github.io/blog/mysql/choosing-mysql-boolean-data-types#comment-15028" rel="nofollow">here</a> in a relevant post of mine. Thank you!</p>
]]></content:encoded>
						</item>
						<item>
				<title>
				By: Mark R				</title>
				<link>https://shlomi-noach.github.io/blog/mysql/sql-forcing-single-row-tables-integrity/comment-page-1#comment-15032</link>
		<dc:creator><![CDATA[Mark R]]></dc:creator>
		<pubDate>Tue, 22 Jun 2010 09:00:52 +0000</pubDate>
		<guid isPermaLink="false">https://shlomi-noach.github.io/blog/?p=2523#comment-15032</guid>
					<description><![CDATA[You should be able to use CHAR(0), but creating an index on that doesn&#039;t appear to be allowed.]]></description>
		<content:encoded><![CDATA[<p>You should be able to use CHAR(0), but creating an index on that doesn&#8217;t appear to be allowed.</p>
]]></content:encoded>
						</item>
						<item>
				<title>
				By: Roland Bouman				</title>
				<link>https://shlomi-noach.github.io/blog/mysql/sql-forcing-single-row-tables-integrity/comment-page-1#comment-15031</link>
		<dc:creator><![CDATA[Roland Bouman]]></dc:creator>
		<pubDate>Tue, 22 Jun 2010 08:52:58 +0000</pubDate>
		<guid isPermaLink="false">https://shlomi-noach.github.io/blog/?p=2523#comment-15031</guid>
					<description><![CDATA[Oh, wanted to add: you could also use a VIEW WITH CHECK OPTION, but in that case you&#039;d still need to use grants to ensure the underlying table isn&#039;t accidentally changed. But if you need grants anyway, then  doing proper grants on a table is even simpler.]]></description>
		<content:encoded><![CDATA[<p>Oh, wanted to add: you could also use a VIEW WITH CHECK OPTION, but in that case you&#8217;d still need to use grants to ensure the underlying table isn&#8217;t accidentally changed. But if you need grants anyway, then  doing proper grants on a table is even simpler.</p>
]]></content:encoded>
						</item>
						<item>
				<title>
				By: Roland Bouman				</title>
				<link>https://shlomi-noach.github.io/blog/mysql/sql-forcing-single-row-tables-integrity/comment-page-1#comment-15030</link>
		<dc:creator><![CDATA[Roland Bouman]]></dc:creator>
		<pubDate>Tue, 22 Jun 2010 08:51:17 +0000</pubDate>
		<guid isPermaLink="false">https://shlomi-noach.github.io/blog/?p=2523#comment-15030</guid>
					<description><![CDATA[Or use partitioning:


CREATE TABLE heartbeat (
    id tinyint unsigned NOT NULL PRIMARY KEY,
    ts datetime NOT NULL
 )
PARTITION BY RANGE(id) (
    PARTITION P1 VALUES LESS THAN(1)
);

(credit due to Guiseppe Maxia, he was the first that I know of to launch the idea to use partitioning to emulate check constraints like this)

Perhaps a better way to do this is to simply create a table and insert the row as root, then grant select(ts), update(ts) to the application user.]]></description>
		<content:encoded><![CDATA[<p>Or use partitioning:</p>
<p>CREATE TABLE heartbeat (<br />
    id tinyint unsigned NOT NULL PRIMARY KEY,<br />
    ts datetime NOT NULL<br />
 )<br />
PARTITION BY RANGE(id) (<br />
    PARTITION P1 VALUES LESS THAN(1)<br />
);</p>
<p>(credit due to Guiseppe Maxia, he was the first that I know of to launch the idea to use partitioning to emulate check constraints like this)</p>
<p>Perhaps a better way to do this is to simply create a table and insert the row as root, then grant select(ts), update(ts) to the application user.</p>
]]></content:encoded>
						</item>
			</channel>
</rss>
