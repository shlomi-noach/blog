<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	
	xmlns:georss="http://www.georss.org/georss"
	xmlns:geo="http://www.w3.org/2003/01/geo/wgs84_pos#"
	
	>
<channel>
	<title>
	Comments on: MySQL/QueryScript use case: DELETE all but top N records per group	</title>
	<atom:link href="https://shlomi-noach.github.io/blog/mysql/mysqlqueryscript-use-case-delete-all-but-top-n-records-per-group/feed" rel="self" type="application/rss+xml" />
	<link>https://shlomi-noach.github.io/blog/mysql/mysqlqueryscript-use-case-delete-all-but-top-n-records-per-group</link>
	<description>Blog by Shlomi Noach</description>
	<lastBuildDate>Fri, 09 Mar 2012 04:00:30 +0000</lastBuildDate>
	<sy:updatePeriod>
	hourly	</sy:updatePeriod>
	<sy:updateFrequency>
	1	</sy:updateFrequency>
	<generator>https://wordpress.org/?v=5.3.3</generator>
			<item>
				<title>
				By: Rick James				</title>
				<link>https://shlomi-noach.github.io/blog/mysql/mysqlqueryscript-use-case-delete-all-but-top-n-records-per-group/comment-page-1#comment-75067</link>
		<dc:creator><![CDATA[Rick James]]></dc:creator>
		<pubDate>Fri, 09 Mar 2012 04:00:30 +0000</pubDate>
		<guid isPermaLink="false">https://shlomi-noach.github.io/blog/?p=4588#comment-75067</guid>
					<description><![CDATA[Here&#039;s how to do a similar thing with US cities and states.  I&#039;ll leave it as an exercise to turn it into a DELETE.

[code]
# The three most populous cities in each state:
CREATE TEMPORARY TABLE t (
    seq SMALLINT UNSIGNED NOT NULL AUTO_INCREMENT,
    PRIMARY KEY (state, seq)
)  ENGINE = MyISAM   -- required for the PRIMARY KEY trick
SELECT state, city, population
    FROM US
    ORDER BY state, population DESC;
SELECT state, seq, city, population
    FROM t
    WHERE seq &#060;= 3
    ORDER BY state, seq;
+-------+-----+--------------+------------+
&#124; state &#124; seq &#124; city         &#124; population &#124;
+-------+-----+--------------+------------+
&#124; AK    &#124;   1 &#124; Anchorage    &#124;     276263 &#124;
&#124; AK    &#124;   2 &#124; Juneau       &#124;      31796 &#124;
&#124; AK    &#124;   3 &#124; Fairbanks    &#124;      31351 &#124;
&#124; AL    &#124;   1 &#124; Birmingham   &#124;     231621 &#124;
&#124; AL    &#124;   2 &#124; Montgomery   &#124;     198325 &#124;
&#124; AL    &#124;   3 &#124; Mobile       &#124;     190274 &#124;
&#124; AR    &#124;   1 &#124; Little Rock  &#124;     184217 &#124;
&#124; AR    &#124;   2 &#124; Fort Smith   &#124;      81985 &#124;
&#124; AR    &#124;   3 &#124; Fayetteville &#124;      64864 &#124;
&#124; AZ    &#124;   1 &#124; Phoenix      &#124;    1428509 &#124;
&#124; AZ    &#124;   2 &#124; Tucson       &#124;     518907 &#124;
...
[/code]]]></description>
		<content:encoded><![CDATA[<p>Here&#8217;s how to do a similar thing with US cities and states.  I&#8217;ll leave it as an exercise to turn it into a DELETE.</p>
<pre class="brush: plain; title: ; notranslate">
# The three most populous cities in each state:
CREATE TEMPORARY TABLE t (
    seq SMALLINT UNSIGNED NOT NULL AUTO_INCREMENT,
    PRIMARY KEY (state, seq)
)  ENGINE = MyISAM   -- required for the PRIMARY KEY trick
SELECT state, city, population
    FROM US
    ORDER BY state, population DESC;
SELECT state, seq, city, population
    FROM t
    WHERE seq &lt;= 3
    ORDER BY state, seq;
+-------+-----+--------------+------------+
| state | seq | city         | population |
+-------+-----+--------------+------------+
| AK    |   1 | Anchorage    |     276263 |
| AK    |   2 | Juneau       |      31796 |
| AK    |   3 | Fairbanks    |      31351 |
| AL    |   1 | Birmingham   |     231621 |
| AL    |   2 | Montgomery   |     198325 |
| AL    |   3 | Mobile       |     190274 |
| AR    |   1 | Little Rock  |     184217 |
| AR    |   2 | Fort Smith   |      81985 |
| AR    |   3 | Fayetteville |      64864 |
| AZ    |   1 | Phoenix      |    1428509 |
| AZ    |   2 | Tucson       |     518907 |
...
</pre>
]]></content:encoded>
						</item>
			</channel>
</rss>
