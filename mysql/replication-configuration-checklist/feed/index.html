<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	
	xmlns:georss="http://www.georss.org/georss"
	xmlns:geo="http://www.w3.org/2003/01/geo/wgs84_pos#"
	
	>
<channel>
	<title>
	Comments on: Replication configuration checklist	</title>
	<atom:link href="https://shlomi-noach.github.io/blog/mysql/replication-configuration-checklist/feed" rel="self" type="application/rss+xml" />
	<link>https://shlomi-noach.github.io/blog/mysql/replication-configuration-checklist</link>
	<description>Blog by Shlomi Noach</description>
	<lastBuildDate>Wed, 25 May 2011 13:46:25 +0000</lastBuildDate>
	<sy:updatePeriod>
	hourly	</sy:updatePeriod>
	<sy:updateFrequency>
	1	</sy:updateFrequency>
	<generator>https://wordpress.org/?v=5.3.3</generator>
			<item>
				<title>
				By: MySQL复制的概述、安装、故障、技巧、工具 &#124; 火丁笔记				</title>
				<link>https://shlomi-noach.github.io/blog/mysql/replication-configuration-checklist/comment-page-1#comment-40975</link>
		<dc:creator><![CDATA[MySQL复制的概述、安装、故障、技巧、工具 &#124; 火丁笔记]]></dc:creator>
		<pubDate>Wed, 25 May 2011 13:46:25 +0000</pubDate>
		<guid isPermaLink="false">https://shlomi-noach.github.io/blog/?p=2357#comment-40975</guid>
					<description><![CDATA[[...] 注：常用的MySQL复制配置选项可以参考Replication configuration checklist。 [...]]]></description>
		<content:encoded><![CDATA[<p>[&#8230;] 注：常用的MySQL复制配置选项可以参考Replication configuration checklist。 [&#8230;]</p>
]]></content:encoded>
						</item>
						<item>
				<title>
				By: Shantanu Oak				</title>
				<link>https://shlomi-noach.github.io/blog/mysql/replication-configuration-checklist/comment-page-1#comment-14640</link>
		<dc:creator><![CDATA[Shantanu Oak]]></dc:creator>
		<pubDate>Fri, 11 Jun 2010 02:00:23 +0000</pubDate>
		<guid isPermaLink="false">https://shlomi-noach.github.io/blog/?p=2357#comment-14640</guid>
					<description><![CDATA[I have 2 slaves and one is used for testing purpose. I have set slave-skip-errors on that slave. It is also possible to skip the specific errors if you know the error number for e.g. 
slave-skip-errors=1205,1422,1062
1205 Error on master: &#039;Lock wait timeout exceeded; try restarting transaction&#039; (1205), Error on slave: &#039;no error&#039; (0). 
1422 Explicit or implicit commit is not allowed in stored function or trigger
1062 Duplicate entry for key 1
This is not recommended for obvious reasons. But comes handy at times.]]></description>
		<content:encoded><![CDATA[<p>I have 2 slaves and one is used for testing purpose. I have set slave-skip-errors on that slave. It is also possible to skip the specific errors if you know the error number for e.g.<br />
slave-skip-errors=1205,1422,1062<br />
1205 Error on master: &#8216;Lock wait timeout exceeded; try restarting transaction&#8217; (1205), Error on slave: &#8216;no error&#8217; (0).<br />
1422 Explicit or implicit commit is not allowed in stored function or trigger<br />
1062 Duplicate entry for key 1<br />
This is not recommended for obvious reasons. But comes handy at times.</p>
]]></content:encoded>
						</item>
						<item>
				<title>
				By: shlomi				</title>
				<link>https://shlomi-noach.github.io/blog/mysql/replication-configuration-checklist/comment-page-1#comment-14625</link>
		<dc:creator><![CDATA[shlomi]]></dc:creator>
		<pubDate>Thu, 10 Jun 2010 17:12:47 +0000</pubDate>
		<guid isPermaLink="false">https://shlomi-noach.github.io/blog/?p=2357#comment-14625</guid>
					<description><![CDATA[@Shantanu:

I strongly disagree on slave-skip-errors=all.
I always prefer the slave to actually stop replicating upon error. There are good reasons for it to stop replicating. Simply ignoring the errors is, well, error-prone. This is one setting I never use.

Good points for all the rest!]]></description>
		<content:encoded><![CDATA[<p>@Shantanu:</p>
<p>I strongly disagree on slave-skip-errors=all.<br />
I always prefer the slave to actually stop replicating upon error. There are good reasons for it to stop replicating. Simply ignoring the errors is, well, error-prone. This is one setting I never use.</p>
<p>Good points for all the rest!</p>
]]></content:encoded>
						</item>
						<item>
				<title>
				By: Shantanu Oak				</title>
				<link>https://shlomi-noach.github.io/blog/mysql/replication-configuration-checklist/comment-page-1#comment-14613</link>
		<dc:creator><![CDATA[Shantanu Oak]]></dc:creator>
		<pubDate>Thu, 10 Jun 2010 13:19:19 +0000</pubDate>
		<guid isPermaLink="false">https://shlomi-noach.github.io/blog/?p=2357#comment-14613</guid>
					<description><![CDATA[skip-slave-start
# do not start slave thread when the server is restarted
slave-skip-errors=all
# use the error number or &#039;all&#039; to skip all errors
relay-log=/var/log/mysql/
# good to have the path for relay log
max_allowed_packet=500M
# yes. you need it for replication too!

The &quot;expert&quot; will also need
replicate-wild-ignore-table=test.%
# to ignore all the tables from test database]]></description>
		<content:encoded><![CDATA[<p>skip-slave-start<br />
# do not start slave thread when the server is restarted<br />
slave-skip-errors=all<br />
# use the error number or &#8216;all&#8217; to skip all errors<br />
relay-log=/var/log/mysql/<br />
# good to have the path for relay log<br />
max_allowed_packet=500M<br />
# yes. you need it for replication too!</p>
<p>The &#8220;expert&#8221; will also need<br />
replicate-wild-ignore-table=test.%<br />
# to ignore all the tables from test database</p>
]]></content:encoded>
						</item>
						<item>
				<title>
				By: shlomi				</title>
				<link>https://shlomi-noach.github.io/blog/mysql/replication-configuration-checklist/comment-page-1#comment-14475</link>
		<dc:creator><![CDATA[shlomi]]></dc:creator>
		<pubDate>Sun, 06 Jun 2010 02:44:52 +0000</pubDate>
		<guid isPermaLink="false">https://shlomi-noach.github.io/blog/?p=2357#comment-14475</guid>
					<description><![CDATA[@jay,
already on the list :P]]></description>
		<content:encoded><![CDATA[<p>@jay,<br />
already on the list 😛</p>
]]></content:encoded>
						</item>
						<item>
				<title>
				By: jay bharat				</title>
				<link>https://shlomi-noach.github.io/blog/mysql/replication-configuration-checklist/comment-page-1#comment-14464</link>
		<dc:creator><![CDATA[jay bharat]]></dc:creator>
		<pubDate>Sat, 05 Jun 2010 18:13:46 +0000</pubDate>
		<guid isPermaLink="false">https://shlomi-noach.github.io/blog/?p=2357#comment-14464</guid>
					<description><![CDATA[Sync-binlog=1 to the list. It is important if you want replication to recover after a server crash on the master. Of course, there is overhead to it, so you need to decide if it is worth it or not for your application.]]></description>
		<content:encoded><![CDATA[<p>Sync-binlog=1 to the list. It is important if you want replication to recover after a server crash on the master. Of course, there is overhead to it, so you need to decide if it is worth it or not for your application.</p>
]]></content:encoded>
						</item>
						<item>
				<title>
				By: James Day				</title>
				<link>https://shlomi-noach.github.io/blog/mysql/replication-configuration-checklist/comment-page-1#comment-13797</link>
		<dc:creator><![CDATA[James Day]]></dc:creator>
		<pubDate>Wed, 19 May 2010 04:02:32 +0000</pubDate>
		<guid isPermaLink="false">https://shlomi-noach.github.io/blog/?p=2357#comment-13797</guid>
					<description><![CDATA[Those options can definitely be interesting but do you always want to halve the replication throughput of all of your slaves?

In one case I was handling recently, turning off the binary log, the query cache and adding innodb_support_xa = 0 and innodb_locks_unsafe_for_binlog = 1 increased a lagged slave&#039;s throughput from one to two binary logs per hour to two to four per hour.

Sometimes a mixture of high reliability and high speed slave configurations might be the best solution.

On the slave it&#039;s best to stick to the table-based replication rules if you can. Also all of one type, say a mixture of do and wild do. It&#039;s easier to understand and not get caught out that way. You also get the benefit of not relying solely on the USEd database to determine whether a table can be updated or not, potentially missing updates if the update was carried out from a different database than the table itself.

On the master, do remember that the primary purpose of the binary log is disaster recovery. If you don&#039;t write things to the binary log you&#039;re not going to be able to get them back from it when you&#039;re replaying the binary log after hitting say a serious disk damage based corruption problem. The slaves might save you but it&#039;s worth considering writing more to the binary log.]]></description>
		<content:encoded><![CDATA[<p>Those options can definitely be interesting but do you always want to halve the replication throughput of all of your slaves?</p>
<p>In one case I was handling recently, turning off the binary log, the query cache and adding innodb_support_xa = 0 and innodb_locks_unsafe_for_binlog = 1 increased a lagged slave&#8217;s throughput from one to two binary logs per hour to two to four per hour.</p>
<p>Sometimes a mixture of high reliability and high speed slave configurations might be the best solution.</p>
<p>On the slave it&#8217;s best to stick to the table-based replication rules if you can. Also all of one type, say a mixture of do and wild do. It&#8217;s easier to understand and not get caught out that way. You also get the benefit of not relying solely on the USEd database to determine whether a table can be updated or not, potentially missing updates if the update was carried out from a different database than the table itself.</p>
<p>On the master, do remember that the primary purpose of the binary log is disaster recovery. If you don&#8217;t write things to the binary log you&#8217;re not going to be able to get them back from it when you&#8217;re replaying the binary log after hitting say a serious disk damage based corruption problem. The slaves might save you but it&#8217;s worth considering writing more to the binary log.</p>
]]></content:encoded>
						</item>
						<item>
				<title>
				By: shlomi				</title>
				<link>https://shlomi-noach.github.io/blog/mysql/replication-configuration-checklist/comment-page-1#comment-13763</link>
		<dc:creator><![CDATA[shlomi]]></dc:creator>
		<pubDate>Tue, 18 May 2010 15:59:57 +0000</pubDate>
		<guid isPermaLink="false">https://shlomi-noach.github.io/blog/?p=2357#comment-13763</guid>
					<description><![CDATA[Hi Ryan,

Oh dear! Yes, indeed! Thank you.]]></description>
		<content:encoded><![CDATA[<p>Hi Ryan,</p>
<p>Oh dear! Yes, indeed! Thank you.</p>
]]></content:encoded>
						</item>
						<item>
				<title>
				By: Ryan				</title>
				<link>https://shlomi-noach.github.io/blog/mysql/replication-configuration-checklist/comment-page-1#comment-13759</link>
		<dc:creator><![CDATA[Ryan]]></dc:creator>
		<pubDate>Tue, 18 May 2010 14:56:17 +0000</pubDate>
		<guid isPermaLink="false">https://shlomi-noach.github.io/blog/?p=2357#comment-13759</guid>
					<description><![CDATA[Hey Shlomi,

What about read_only on the slave(s)?  This should help to ensure that slaves don&#039;t receive accidental writes (assuming application user grants don&#039;t include SUPER).]]></description>
		<content:encoded><![CDATA[<p>Hey Shlomi,</p>
<p>What about read_only on the slave(s)?  This should help to ensure that slaves don&#8217;t receive accidental writes (assuming application user grants don&#8217;t include SUPER).</p>
]]></content:encoded>
						</item>
						<item>
				<title>
				By: shlomi				</title>
				<link>https://shlomi-noach.github.io/blog/mysql/replication-configuration-checklist/comment-page-1#comment-13758</link>
		<dc:creator><![CDATA[shlomi]]></dc:creator>
		<pubDate>Tue, 18 May 2010 14:14:25 +0000</pubDate>
		<guid isPermaLink="false">https://shlomi-noach.github.io/blog/?p=2357#comment-13758</guid>
					<description><![CDATA[@Harrison
Thank you]]></description>
		<content:encoded><![CDATA[<p>@Harrison<br />
Thank you</p>
]]></content:encoded>
						</item>
			</channel>
</rss>
