<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	
	xmlns:georss="http://www.georss.org/georss"
	xmlns:geo="http://www.w3.org/2003/01/geo/wgs84_pos#"
	
	>
<channel>
	<title>
	Comments on: MySQL not being able to utilize a compound index?	</title>
	<atom:link href="https://shlomi-noach.github.io/blog/mysql/mysql-not-being-able-to-utilize-a-compound-index/feed" rel="self" type="application/rss+xml" />
	<link>https://shlomi-noach.github.io/blog/mysql/mysql-not-being-able-to-utilize-a-compound-index</link>
	<description>Blog by Shlomi Noach</description>
	<lastBuildDate>Thu, 12 Mar 2015 01:47:15 +0000</lastBuildDate>
	<sy:updatePeriod>
	hourly	</sy:updatePeriod>
	<sy:updateFrequency>
	1	</sy:updateFrequency>
	<generator>https://wordpress.org/?v=5.3.3</generator>
			<item>
				<title>
				By: MySql is not optimizing the query properly &#124; XL-UAT				</title>
				<link>https://shlomi-noach.github.io/blog/mysql/mysql-not-being-able-to-utilize-a-compound-index/comment-page-1#comment-311743</link>
		<dc:creator><![CDATA[MySql is not optimizing the query properly &#124; XL-UAT]]></dc:creator>
		<pubDate>Thu, 12 Mar 2015 01:47:15 +0000</pubDate>
		<guid isPermaLink="false">https://shlomi-noach.github.io/blog/?p=810#comment-311743</guid>
					<description><![CDATA[[&#8230;] There&#8217;s Bug #35819, which I originally found in this article, which was in turn mentioned in the comments on this post. [&#8230;]]]></description>
		<content:encoded><![CDATA[<p>[&#8230;] There&#8217;s Bug #35819, which I originally found in this article, which was in turn mentioned in the comments on this post. [&#8230;]</p>
]]></content:encoded>
						</item>
						<item>
				<title>
				By: shlomi				</title>
				<link>https://shlomi-noach.github.io/blog/mysql/mysql-not-being-able-to-utilize-a-compound-index/comment-page-1#comment-74243</link>
		<dc:creator><![CDATA[shlomi]]></dc:creator>
		<pubDate>Wed, 07 Mar 2012 05:14:27 +0000</pubDate>
		<guid isPermaLink="false">https://shlomi-noach.github.io/blog/?p=810#comment-74243</guid>
					<description><![CDATA[@Rick,
The &quot;(a&lt;=2) AND (a&#060;2 OR b&#060;2)&quot; is a cool transformation. I need to test this.]]></description>
		<content:encoded><![CDATA[<p>@Rick,<br />
The &#8220;(a<=2) AND (a&lt;2 OR b&lt;2)" is a cool transformation. I need to test this.
</p>
]]></content:encoded>
						</item>
						<item>
				<title>
				By: shlomi				</title>
				<link>https://shlomi-noach.github.io/blog/mysql/mysql-not-being-able-to-utilize-a-compound-index/comment-page-1#comment-74242</link>
		<dc:creator><![CDATA[shlomi]]></dc:creator>
		<pubDate>Wed, 07 Mar 2012 05:12:50 +0000</pubDate>
		<guid isPermaLink="false">https://shlomi-noach.github.io/blog/?p=810#comment-74242</guid>
					<description><![CDATA[@Rick,
There is no table scan. Although there is this &quot;OR&quot;, the optimizer works it out well.]]></description>
		<content:encoded><![CDATA[<p>@Rick,<br />
There is no table scan. Although there is this &#8220;OR&#8221;, the optimizer works it out well.</p>
]]></content:encoded>
						</item>
						<item>
				<title>
				By: Rick James				</title>
				<link>https://shlomi-noach.github.io/blog/mysql/mysql-not-being-able-to-utilize-a-compound-index/comment-page-1#comment-74174</link>
		<dc:creator><![CDATA[Rick James]]></dc:creator>
		<pubDate>Tue, 06 Mar 2012 23:04:39 +0000</pubDate>
		<guid isPermaLink="false">https://shlomi-noach.github.io/blog/?p=810#comment-74174</guid>
					<description><![CDATA[A further note.  (HINT to developers)

It should be easy to transform the parse tree for

WHERE (a, b) &#060;* (x, y)

into

a &#060;= x AND (a &#060; x OR b &#060;* y)

Notes:

*  &#060;* represents either &#060; or &#060;=

*  other operators should have similar transformations

*  (a,b,c) &#060; ... -- also possible, but much messier (exercise for the reader)
*  This is useful only if you have an index starting with `a`. (Only `a` will be used, so including `b` is optional.)

*  The index will be scanned _through_ a=x, regardless of b and y.]]></description>
		<content:encoded><![CDATA[<p>A further note.  (HINT to developers)</p>
<p>It should be easy to transform the parse tree for</p>
<p>WHERE (a, b) &lt;* (x, y)</p>
<p>into</p>
<p>a &lt;= x AND (a &lt; x OR b &lt;* y)</p>
<p>Notes:</p>
<p>*  &lt;* represents either &lt; or &lt;=</p>
<p>*  other operators should have similar transformations</p>
<p>*  (a,b,c) &lt; &#8230; &#8212; also possible, but much messier (exercise for the reader)<br />
*  This is useful only if you have an index starting with `a`. (Only `a` will be used, so including `b` is optional.)</p>
<p>*  The index will be scanned _through_ a=x, regardless of b and y.</p>
]]></content:encoded>
						</item>
						<item>
				<title>
				By: Rick James				</title>
				<link>https://shlomi-noach.github.io/blog/mysql/mysql-not-being-able-to-utilize-a-compound-index/comment-page-1#comment-74164</link>
		<dc:creator><![CDATA[Rick James]]></dc:creator>
		<pubDate>Tue, 06 Mar 2012 22:43:10 +0000</pubDate>
		<guid isPermaLink="false">https://shlomi-noach.github.io/blog/?p=810#comment-74164</guid>
					<description><![CDATA[(a, b) &#060; (...) is notorious for being poorly optimized.

The optimal way to do the query is not

(a&#060;2) OR (a=2 AND b&#060;2)

which involves OR at the top level, hence probably a table scan.  Instead, use this equivalent:

(a&#060;=2) AND (a&#060;2 OR b&#060;2)

(Caveat:  When there is a huge number of rows with a=2, it will still scan all the a=2 values.)]]></description>
		<content:encoded><![CDATA[<p>(a, b) &lt; (&#8230;) is notorious for being poorly optimized.</p>
<p>The optimal way to do the query is not</p>
<p>(a&lt;2) OR (a=2 AND b&lt;2)</p>
<p>which involves OR at the top level, hence probably a table scan.  Instead, use this equivalent:</p>
<p>(a&lt;=2) AND (a&lt;2 OR b&lt;2)</p>
<p>(Caveat:  When there is a huge number of rows with a=2, it will still scan all the a=2 values.)</p>
]]></content:encoded>
						</item>
						<item>
				<title>
				By: Log Buffer #146: a Carnival of the Vanities for DBAs &#124; Pythian Group Blog				</title>
				<link>https://shlomi-noach.github.io/blog/mysql/mysql-not-being-able-to-utilize-a-compound-index/comment-page-1#comment-1938</link>
		<dc:creator><![CDATA[Log Buffer #146: a Carnival of the Vanities for DBAs &#124; Pythian Group Blog]]></dc:creator>
		<pubDate>Fri, 15 May 2009 17:01:31 +0000</pubDate>
		<guid isPermaLink="false">https://shlomi-noach.github.io/blog/?p=810#comment-1938</guid>
					<description><![CDATA[[...] code.openark.org, Shlomi Noach writes It seems like MySQL is unable to utilize a compound index when evaluating a plan for a query with a range condition. I’m looking for an explanation. I’ll [...]]]></description>
		<content:encoded><![CDATA[<p>[&#8230;] code.openark.org, Shlomi Noach writes It seems like MySQL is unable to utilize a compound index when evaluating a plan for a query with a range condition. I’m looking for an explanation. I’ll [&#8230;]</p>
]]></content:encoded>
						</item>
						<item>
				<title>
				By: Xaprb				</title>
				<link>https://shlomi-noach.github.io/blog/mysql/mysql-not-being-able-to-utilize-a-compound-index/comment-page-1#comment-1861</link>
		<dc:creator><![CDATA[Xaprb]]></dc:creator>
		<pubDate>Sat, 09 May 2009 20:51:51 +0000</pubDate>
		<guid isPermaLink="false">https://shlomi-noach.github.io/blog/?p=810#comment-1861</guid>
					<description><![CDATA[Shlomi, as others said -- this is just an optimizer weakness at the moment.  Peter posted on this a while ago, too: http://www.mysqlperformanceblog.com/2008/04/04/multi-column-in-clause-unexpected-mysql-issue/]]></description>
		<content:encoded><![CDATA[<p>Shlomi, as others said &#8212; this is just an optimizer weakness at the moment.  Peter posted on this a while ago, too: <a href="http://www.mysqlperformanceblog.com/2008/04/04/multi-column-in-clause-unexpected-mysql-issue/" rel="nofollow ugc">http://www.mysqlperformanceblog.com/2008/04/04/multi-column-in-clause-unexpected-mysql-issue/</a></p>
]]></content:encoded>
						</item>
						<item>
				<title>
				By: shlomi				</title>
				<link>https://shlomi-noach.github.io/blog/mysql/mysql-not-being-able-to-utilize-a-compound-index/comment-page-1#comment-1855</link>
		<dc:creator><![CDATA[shlomi]]></dc:creator>
		<pubDate>Sat, 09 May 2009 10:40:03 +0000</pubDate>
		<guid isPermaLink="false">https://shlomi-noach.github.io/blog/?p=810#comment-1855</guid>
					<description><![CDATA[@Harrison,

I agree. Thanks for the reference!]]></description>
		<content:encoded><![CDATA[<p>@Harrison,</p>
<p>I agree. Thanks for the reference!</p>
]]></content:encoded>
						</item>
						<item>
				<title>
				By: shlomi				</title>
				<link>https://shlomi-noach.github.io/blog/mysql/mysql-not-being-able-to-utilize-a-compound-index/comment-page-1#comment-1848</link>
		<dc:creator><![CDATA[shlomi]]></dc:creator>
		<pubDate>Fri, 08 May 2009 19:00:44 +0000</pubDate>
		<guid isPermaLink="false">https://shlomi-noach.github.io/blog/?p=810#comment-1848</guid>
					<description><![CDATA[@Shantanu,

Thanks,
1. Haven&#039;t tried this with 5.1
2. I do
3. Unlimited (killed query after realizing it was running for a few minutes)]]></description>
		<content:encoded><![CDATA[<p>@Shantanu,</p>
<p>Thanks,<br />
1. Haven&#8217;t tried this with 5.1<br />
2. I do<br />
3. Unlimited (killed query after realizing it was running for a few minutes)</p>
]]></content:encoded>
						</item>
						<item>
				<title>
				By: Harrison Fisk				</title>
				<link>https://shlomi-noach.github.io/blog/mysql/mysql-not-being-able-to-utilize-a-compound-index/comment-page-1#comment-1846</link>
		<dc:creator><![CDATA[Harrison Fisk]]></dc:creator>
		<pubDate>Fri, 08 May 2009 14:22:39 +0000</pubDate>
		<guid isPermaLink="false">https://shlomi-noach.github.io/blog/?p=810#comment-1846</guid>
					<description><![CDATA[The query isn&#039;t a subquery, however for some reason that is where the docs mentions the restriction about row operators.  I suspect it was because the row operators were added at the same time as subqueries.

Really, the restriction should be put somewhere else in the documentation, such as the index section or even where row operators are mentioned in the docs.]]></description>
		<content:encoded><![CDATA[<p>The query isn&#8217;t a subquery, however for some reason that is where the docs mentions the restriction about row operators.  I suspect it was because the row operators were added at the same time as subqueries.</p>
<p>Really, the restriction should be put somewhere else in the documentation, such as the index section or even where row operators are mentioned in the docs.</p>
]]></content:encoded>
						</item>
			</channel>
</rss>
