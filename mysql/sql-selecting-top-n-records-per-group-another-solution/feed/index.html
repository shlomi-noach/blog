<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	
	xmlns:georss="http://www.georss.org/georss"
	xmlns:geo="http://www.w3.org/2003/01/geo/wgs84_pos#"
	
	>
<channel>
	<title>
	Comments on: SQL: selecting top N records per group, another solution	</title>
	<atom:link href="https://shlomi-noach.github.io/blog/mysql/sql-selecting-top-n-records-per-group-another-solution/feed" rel="self" type="application/rss+xml" />
	<link>https://shlomi-noach.github.io/blog/mysql/sql-selecting-top-n-records-per-group-another-solution</link>
	<description>Blog by Shlomi Noach</description>
	<lastBuildDate>Sun, 17 Apr 2016 01:52:00 +0000</lastBuildDate>
	<sy:updatePeriod>
	hourly	</sy:updatePeriod>
	<sy:updateFrequency>
	1	</sy:updateFrequency>
	<generator>https://wordpress.org/?v=5.3.3</generator>
			<item>
				<title>
				By: Rick James				</title>
				<link>https://shlomi-noach.github.io/blog/mysql/sql-selecting-top-n-records-per-group-another-solution/comment-page-1#comment-355530</link>
		<dc:creator><![CDATA[Rick James]]></dc:creator>
		<pubDate>Sun, 17 Apr 2016 01:52:00 +0000</pubDate>
		<guid isPermaLink="false">https://shlomi-noach.github.io/blog/?p=5249#comment-355530</guid>
					<description><![CDATA[That may be the fastest &quot;Top N&quot; query.  I added it to my short collection:  http://mysql.rjweb.org/doc.php/groupwise_max

It does have a caveat that may make it not work for some use cases:  `Code` must be unique across the entire table.]]></description>
		<content:encoded><![CDATA[<p>That may be the fastest &#8220;Top N&#8221; query.  I added it to my short collection:  <a href="http://mysql.rjweb.org/doc.php/groupwise_max" rel="nofollow ugc">http://mysql.rjweb.org/doc.php/groupwise_max</a></p>
<p>It does have a caveat that may make it not work for some use cases:  `Code` must be unique across the entire table.</p>
]]></content:encoded>
						</item>
						<item>
				<title>
				By: Rick James				</title>
				<link>https://shlomi-noach.github.io/blog/mysql/sql-selecting-top-n-records-per-group-another-solution/comment-page-1#comment-219279</link>
		<dc:creator><![CDATA[Rick James]]></dc:creator>
		<pubDate>Thu, 19 Sep 2013 21:10:52 +0000</pubDate>
		<guid isPermaLink="false">https://shlomi-noach.github.io/blog/?p=5249#comment-219279</guid>
					<description><![CDATA[The GROUP_CONCAT trick has a caveat -- there is a default limit of 1024 bytes in the string.  (That limit can be changed.)

Another approach is given here:
https://mariadb.com/kb/en/group-by-trick-has-been-optimized-away/
However, for MariaDB, one must do this to keep the optimizer from doing too good a job:
set @@session.optimizer_switch=&#039;derived_merge=off,derived_with_keys=off&#039;;]]></description>
		<content:encoded><![CDATA[<p>The GROUP_CONCAT trick has a caveat &#8212; there is a default limit of 1024 bytes in the string.  (That limit can be changed.)</p>
<p>Another approach is given here:<br />
<a href="https://mariadb.com/kb/en/group-by-trick-has-been-optimized-away/" rel="nofollow ugc">https://mariadb.com/kb/en/group-by-trick-has-been-optimized-away/</a><br />
However, for MariaDB, one must do this to keep the optimizer from doing too good a job:<br />
set @@session.optimizer_switch=&#8217;derived_merge=off,derived_with_keys=off&#8217;;</p>
]]></content:encoded>
						</item>
						<item>
				<title>
				By: shlomi				</title>
				<link>https://shlomi-noach.github.io/blog/mysql/sql-selecting-top-n-records-per-group-another-solution/comment-page-1#comment-219257</link>
		<dc:creator><![CDATA[shlomi]]></dc:creator>
		<pubDate>Thu, 19 Sep 2013 14:27:07 +0000</pubDate>
		<guid isPermaLink="false">https://shlomi-noach.github.io/blog/?p=5249#comment-219257</guid>
					<description><![CDATA[Well, you could write a sub select per such row. I once compiled some window functions alternatives. Need to pull it from wherever it is]]></description>
		<content:encoded><![CDATA[<p>Well, you could write a sub select per such row. I once compiled some window functions alternatives. Need to pull it from wherever it is</p>
]]></content:encoded>
						</item>
						<item>
				<title>
				By: shlomi				</title>
				<link>https://shlomi-noach.github.io/blog/mysql/sql-selecting-top-n-records-per-group-another-solution/comment-page-1#comment-219256</link>
		<dc:creator><![CDATA[shlomi]]></dc:creator>
		<pubDate>Thu, 19 Sep 2013 14:26:07 +0000</pubDate>
		<guid isPermaLink="false">https://shlomi-noach.github.io/blog/?p=5249#comment-219256</guid>
					<description><![CDATA[@stephen, not really. As you know mysql does not have window functions. Mimicking the above has no immediate solution.]]></description>
		<content:encoded><![CDATA[<p>@stephen, not really. As you know mysql does not have window functions. Mimicking the above has no immediate solution.</p>
]]></content:encoded>
						</item>
						<item>
				<title>
				By: stephen				</title>
				<link>https://shlomi-noach.github.io/blog/mysql/sql-selecting-top-n-records-per-group-another-solution/comment-page-1#comment-219254</link>
		<dc:creator><![CDATA[stephen]]></dc:creator>
		<pubDate>Thu, 19 Sep 2013 13:48:31 +0000</pubDate>
		<guid isPermaLink="false">https://shlomi-noach.github.io/blog/?p=5249#comment-219254</guid>
					<description><![CDATA[is there a way to do a cumulative sum over the window? for example show cumsum of population over each continent sorting countries by name. a more natural application is cumsum over sales rep sorted by time of sale. eg translate into MySQL this Netezza synatx:
select
sum(col1) over
(partition by col2, col3 order by col4 rows between unbounded 
preceding and current row) as sum1 from table1 ;]]></description>
		<content:encoded><![CDATA[<p>is there a way to do a cumulative sum over the window? for example show cumsum of population over each continent sorting countries by name. a more natural application is cumsum over sales rep sorted by time of sale. eg translate into MySQL this Netezza synatx:<br />
select<br />
sum(col1) over<br />
(partition by col2, col3 order by col4 rows between unbounded<br />
preceding and current row) as sum1 from table1 ;</p>
]]></content:encoded>
						</item>
						<item>
				<title>
				By: Three wishes for a new year &#124; code.openark.org				</title>
				<link>https://shlomi-noach.github.io/blog/mysql/sql-selecting-top-n-records-per-group-another-solution/comment-page-1#comment-118882</link>
		<dc:creator><![CDATA[Three wishes for a new year &#124; code.openark.org]]></dc:creator>
		<pubDate>Sun, 16 Sep 2012 04:21:39 +0000</pubDate>
		<guid isPermaLink="false">https://shlomi-noach.github.io/blog/?p=5249#comment-118882</guid>
					<description><![CDATA[[...] I like GROUP_CONCAT, and the many hacks it provides: [1], [2], [3], [4], [5], [6], [7], [8], [9], [10], [11], [12]. But it makes for a poor substitution to Window Functions, and only solves a subset of [...]]]></description>
		<content:encoded><![CDATA[<p>[&#8230;] I like GROUP_CONCAT, and the many hacks it provides: [1], [2], [3], [4], [5], [6], [7], [8], [9], [10], [11], [12]. But it makes for a poor substitution to Window Functions, and only solves a subset of [&#8230;]</p>
]]></content:encoded>
						</item>
						<item>
				<title>
				By: shlomi				</title>
				<link>https://shlomi-noach.github.io/blog/mysql/sql-selecting-top-n-records-per-group-another-solution/comment-page-1#comment-115129</link>
		<dc:creator><![CDATA[shlomi]]></dc:creator>
		<pubDate>Tue, 21 Aug 2012 19:29:03 +0000</pubDate>
		<guid isPermaLink="false">https://shlomi-noach.github.io/blog/?p=5249#comment-115129</guid>
					<description><![CDATA[@Rick,

No, no problem with these integers. See &lt;a href=&quot;http://dev.mysql.com/doc/refman/5.1/en/string-functions.html#function_find-in-set&quot; rel=&quot;nofollow&quot;&gt;FIND_IN_SET&lt;/a&gt;.

It&#039;s not a LIKE &#039;%157%&#039; expression. It looks for comma delimited values.

I personally do not like queries which require me to create new tables and INSERT rows onto them. Such a solution is valid, of course, but I prefer to avoid writing. This allows me better and stricter privileges rules for users, among other issues.]]></description>
		<content:encoded><![CDATA[<p>@Rick,</p>
<p>No, no problem with these integers. See <a href="http://dev.mysql.com/doc/refman/5.1/en/string-functions.html#function_find-in-set" rel="nofollow">FIND_IN_SET</a>.</p>
<p>It&#8217;s not a LIKE &#8216;%157%&#8217; expression. It looks for comma delimited values.</p>
<p>I personally do not like queries which require me to create new tables and INSERT rows onto them. Such a solution is valid, of course, but I prefer to avoid writing. This allows me better and stricter privileges rules for users, among other issues.</p>
]]></content:encoded>
						</item>
						<item>
				<title>
				By: Rick James				</title>
				<link>https://shlomi-noach.github.io/blog/mysql/sql-selecting-top-n-records-per-group-another-solution/comment-page-1#comment-115090</link>
		<dc:creator><![CDATA[Rick James]]></dc:creator>
		<pubDate>Tue, 21 Aug 2012 17:35:50 +0000</pubDate>
		<guid isPermaLink="false">https://shlomi-noach.github.io/blog/?p=5249#comment-115090</guid>
					<description><![CDATA[The solution may have trouble with integers...
123,234,1579,...
&quot;157&quot; and &quot;579&quot; will match that, probably incorrectly.

Other approaches are found here:
  http://forums.mysql.com/read.php?20,537167,537521
and
  http://www.artfulsoftware.com/queries.php

There used to be a way to do the &quot;top N&quot; with nested queries, but MariaDB (at least) has optimized away the &quot;feature&quot; it depended on.]]></description>
		<content:encoded><![CDATA[<p>The solution may have trouble with integers&#8230;<br />
123,234,1579,&#8230;<br />
&#8220;157&#8221; and &#8220;579&#8221; will match that, probably incorrectly.</p>
<p>Other approaches are found here:<br />
  <a href="http://forums.mysql.com/read.php?20,537167,537521" rel="nofollow ugc">http://forums.mysql.com/read.php?20,537167,537521</a><br />
and<br />
  <a href="http://www.artfulsoftware.com/queries.php" rel="nofollow ugc">http://www.artfulsoftware.com/queries.php</a></p>
<p>There used to be a way to do the &#8220;top N&#8221; with nested queries, but MariaDB (at least) has optimized away the &#8220;feature&#8221; it depended on.</p>
]]></content:encoded>
						</item>
						<item>
				<title>
				By: shlomi				</title>
				<link>https://shlomi-noach.github.io/blog/mysql/sql-selecting-top-n-records-per-group-another-solution/comment-page-1#comment-114977</link>
		<dc:creator><![CDATA[shlomi]]></dc:creator>
		<pubDate>Tue, 21 Aug 2012 07:05:01 +0000</pubDate>
		<guid isPermaLink="false">https://shlomi-noach.github.io/blog/?p=5249#comment-114977</guid>
					<description><![CDATA[@Øystein,

Thanks - fixed in text. Used a playground database with modified values. After re-importing world.sql population values are now correct.]]></description>
		<content:encoded><![CDATA[<p>@Øystein,</p>
<p>Thanks &#8211; fixed in text. Used a playground database with modified values. After re-importing world.sql population values are now correct.</p>
]]></content:encoded>
						</item>
						<item>
				<title>
				By: Øystein Grøvlen				</title>
				<link>https://shlomi-noach.github.io/blog/mysql/sql-selecting-top-n-records-per-group-another-solution/comment-page-1#comment-114976</link>
		<dc:creator><![CDATA[Øystein Grøvlen]]></dc:creator>
		<pubDate>Tue, 21 Aug 2012 06:57:05 +0000</pubDate>
		<guid isPermaLink="false">https://shlomi-noach.github.io/blog/?p=5249#comment-114976</guid>
					<description><![CDATA[Very nice, but the population numbers do not look right ...]]></description>
		<content:encoded><![CDATA[<p>Very nice, but the population numbers do not look right &#8230;</p>
]]></content:encoded>
						</item>
			</channel>
</rss>
