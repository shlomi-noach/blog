<?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	
	xmlns:georss="http://www.georss.org/georss"
	xmlns:geo="http://www.w3.org/2003/01/geo/wgs84_pos#"
	
	>
<channel>
	<title>
	Comments on: New features I&#8217;d like to see in MySQL 5.8	</title>
	<atom:link href="https://shlomi-noach.github.io/blog/mysql/new-features-id-like-to-see-in-mysql-5-8/feed" rel="self" type="application/rss+xml" />
	<link>https://shlomi-noach.github.io/blog/mysql/new-features-id-like-to-see-in-mysql-5-8</link>
	<description>Blog by Shlomi Noach</description>
	<lastBuildDate>Thu, 08 Oct 2015 07:45:00 +0000</lastBuildDate>
	<sy:updatePeriod>
	hourly	</sy:updatePeriod>
	<sy:updateFrequency>
	1	</sy:updateFrequency>
	<generator>https://wordpress.org/?v=5.3.3</generator>
			<item>
				<title>
				By: New statements I&#8217;d like to see in MySQL 5.8 &#124; code.openark.org				</title>
				<link>https://shlomi-noach.github.io/blog/mysql/new-features-id-like-to-see-in-mysql-5-8/comment-page-1#comment-328932</link>
		<dc:creator><![CDATA[New statements I&#8217;d like to see in MySQL 5.8 &#124; code.openark.org]]></dc:creator>
		<pubDate>Thu, 08 Oct 2015 07:45:00 +0000</pubDate>
		<guid isPermaLink="false">https://shlomi-noach.github.io/blog/?p=7417#comment-328932</guid>
					<description><![CDATA[[&#8230;] New features I&#039;d like to see in MySQL 5.8 [&#8230;]]]></description>
		<content:encoded><![CDATA[<p>[&#8230;] New features I&#039;d like to see in MySQL 5.8 [&#8230;]</p>
]]></content:encoded>
						</item>
						<item>
				<title>
				By: Mark Callaghan				</title>
				<link>https://shlomi-noach.github.io/blog/mysql/new-features-id-like-to-see-in-mysql-5-8/comment-page-1#comment-328875</link>
		<dc:creator><![CDATA[Mark Callaghan]]></dc:creator>
		<pubDate>Wed, 07 Oct 2015 15:40:20 +0000</pubDate>
		<guid isPermaLink="false">https://shlomi-noach.github.io/blog/?p=7417#comment-328875</guid>
					<description><![CDATA[Throttling IO read rates for such operations is interesting and feasible. In the past we had problems from create index using buffered IO and generating too many dirty pages. Linux can cause problems with IO read stalls when there is as little as 1G of dirty pages to write back. Domas might remember how we solved that.]]></description>
		<content:encoded><![CDATA[<p>Throttling IO read rates for such operations is interesting and feasible. In the past we had problems from create index using buffered IO and generating too many dirty pages. Linux can cause problems with IO read stalls when there is as little as 1G of dirty pages to write back. Domas might remember how we solved that.</p>
]]></content:encoded>
						</item>
						<item>
				<title>
				By: shlomi				</title>
				<link>https://shlomi-noach.github.io/blog/mysql/new-features-id-like-to-see-in-mysql-5-8/comment-page-1#comment-328874</link>
		<dc:creator><![CDATA[shlomi]]></dc:creator>
		<pubDate>Wed, 07 Oct 2015 15:37:21 +0000</pubDate>
		<guid isPermaLink="false">https://shlomi-noach.github.io/blog/?p=7417#comment-328874</guid>
					<description><![CDATA[Mark,
Re: &quot;nice&quot;, I would throttle an operation based on disk I/O utilization or number of processes waiting on CPU. Under the assumption that your machine is (most of the time) not completely busy, this should give IMHO good behavior.

Niceness would be interesting for multi-minute running queries, such as bulk loads or ALTERs; for seconds-scale queries the problem is not so interesting (or interesting in another way).
Therefore one can re-caliber niceness on a second-granularity basis, e.g. every 1 sec. Perhaps for a second or two an operation would be intense, but would afterwards throttle/reduce-priority for the duration of a couple more seconds. Morgan suggests implementation might use tickets-like mechanism; I need to read more about it.

For system that run full power all the time, perhaps the correct solution is to pre-allocate resources; like max IOps.
I personally prefer state-based throttling and not configuration-based throttling, but I guess different workloads would do better with either.

If niceness is set per connection or per query, it might then be possible to &#039;CANCEL NICENESS FOR QUERY 12345&#039; or similar. If niceness is as I suggested above, revisited every 1sec or whatever, then change to niceness would apply in reasonable time and you would feel safer having this escape route.]]></description>
		<content:encoded><![CDATA[<p>Mark,<br />
Re: &#8220;nice&#8221;, I would throttle an operation based on disk I/O utilization or number of processes waiting on CPU. Under the assumption that your machine is (most of the time) not completely busy, this should give IMHO good behavior.</p>
<p>Niceness would be interesting for multi-minute running queries, such as bulk loads or ALTERs; for seconds-scale queries the problem is not so interesting (or interesting in another way).<br />
Therefore one can re-caliber niceness on a second-granularity basis, e.g. every 1 sec. Perhaps for a second or two an operation would be intense, but would afterwards throttle/reduce-priority for the duration of a couple more seconds. Morgan suggests implementation might use tickets-like mechanism; I need to read more about it.</p>
<p>For system that run full power all the time, perhaps the correct solution is to pre-allocate resources; like max IOps.<br />
I personally prefer state-based throttling and not configuration-based throttling, but I guess different workloads would do better with either.</p>
<p>If niceness is set per connection or per query, it might then be possible to &#8216;CANCEL NICENESS FOR QUERY 12345&#8217; or similar. If niceness is as I suggested above, revisited every 1sec or whatever, then change to niceness would apply in reasonable time and you would feel safer having this escape route.</p>
]]></content:encoded>
						</item>
						<item>
				<title>
				By: Mark Callaghan				</title>
				<link>https://shlomi-noach.github.io/blog/mysql/new-features-id-like-to-see-in-mysql-5-8/comment-page-1#comment-328870</link>
		<dc:creator><![CDATA[Mark Callaghan]]></dc:creator>
		<pubDate>Wed, 07 Oct 2015 14:35:06 +0000</pubDate>
		<guid isPermaLink="false">https://shlomi-noach.github.io/blog/?p=7417#comment-328870</guid>
					<description><![CDATA[My vague memory is that many years ago when we did GTID in the Google patch that online change from master to slave and back again was added for to support online changing of role.

Using &quot;nice&quot; to slow some queries is an interesting problem. Some queries that run too slow can be less than nice. A long open snapshot blocks purge in InnoDB and causes undo to grow. A long running UPDATE statement might hold row locks longer than desired. Can you be more specific about how you will use this feature?]]></description>
		<content:encoded><![CDATA[<p>My vague memory is that many years ago when we did GTID in the Google patch that online change from master to slave and back again was added for to support online changing of role.</p>
<p>Using &#8220;nice&#8221; to slow some queries is an interesting problem. Some queries that run too slow can be less than nice. A long open snapshot blocks purge in InnoDB and causes undo to grow. A long running UPDATE statement might hold row locks longer than desired. Can you be more specific about how you will use this feature?</p>
]]></content:encoded>
						</item>
						<item>
				<title>
				By: Morgan Tocker				</title>
				<link>https://shlomi-noach.github.io/blog/mysql/new-features-id-like-to-see-in-mysql-5-8/comment-page-1#comment-328863</link>
		<dc:creator><![CDATA[Morgan Tocker]]></dc:creator>
		<pubDate>Wed, 07 Oct 2015 12:33:45 +0000</pubDate>
		<guid isPermaLink="false">https://shlomi-noach.github.io/blog/?p=7417#comment-328863</guid>
					<description><![CDATA[Thank you Shlomi!  Suggestions noted.]]></description>
		<content:encoded><![CDATA[<p>Thank you Shlomi!  Suggestions noted.</p>
]]></content:encoded>
						</item>
			</channel>
</rss>
