<!DOCTYPE html>
<html lang="en-US">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	

	<title>February 2012 – code.openark.org</title>
<link rel="dns-prefetch" href="//secure.gravatar.com">
<link rel="dns-prefetch" href="//s.w.org">


<link rel="stylesheet" id="wp-block-library-css" href="https://shlomi-noach.github.io/blog/wp-includes/css/dist/block-library/style.min.css" media="all">
<style id="wp-block-library-inline-css">
.has-text-align-justify{text-align:justify;}
</style>
<link rel="stylesheet" id="wp-polls-css" href="https://shlomi-noach.github.io/blog/wp-content/plugins/wp-polls/polls-css.css" media="all">
<style id="wp-polls-inline-css">
.wp-polls .pollbar {
	margin: 1px;
	font-size: 6px;
	line-height: 8px;
	height: 8px;
	background-image: url('https://shlomi-noach.github.io/blog/wp-content/plugins/wp-polls/images/default/pollbg.gif');
	border: 1px solid #c8c8c8;
}

</style>
<link rel="stylesheet" id="openark-primer-style-css" href="https://shlomi-noach.github.io/blog/wp-content/themes/openark-primer/style.css" media="all">
<link rel="stylesheet" id="jetpack_css-css" href="https://shlomi-noach.github.io/blog/wp-content/plugins/jetpack/css/jetpack.css" media="all">
<script src="https://shlomi-noach.github.io/blog/wp-includes/js/jquery/jquery.js"></script>
<script src="https://shlomi-noach.github.io/blog/wp-includes/js/jquery/jquery-migrate.min.js"></script>



<style data-context="foundation-flickity-css">/*! Flickity v2.0.2
http://flickity.metafizzy.co
---------------------------------------------- */.flickity-enabled{position:relative}.flickity-enabled:focus{outline:0}.flickity-viewport{overflow:hidden;position:relative;height:100%}.flickity-slider{position:absolute;width:100%;height:100%}.flickity-enabled.is-draggable{-webkit-tap-highlight-color:transparent;tap-highlight-color:transparent;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.flickity-enabled.is-draggable .flickity-viewport{cursor:move;cursor:-webkit-grab;cursor:grab}.flickity-enabled.is-draggable .flickity-viewport.is-pointer-down{cursor:-webkit-grabbing;cursor:grabbing}.flickity-prev-next-button{position:absolute;top:50%;width:44px;height:44px;border:none;border-radius:50%;background:#fff;background:hsla(0,0%,100%,.75);cursor:pointer;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.flickity-prev-next-button:hover{background:#fff}.flickity-prev-next-button:focus{outline:0;box-shadow:0 0 0 5px #09f}.flickity-prev-next-button:active{opacity:.6}.flickity-prev-next-button.previous{left:10px}.flickity-prev-next-button.next{right:10px}.flickity-rtl .flickity-prev-next-button.previous{left:auto;right:10px}.flickity-rtl .flickity-prev-next-button.next{right:auto;left:10px}.flickity-prev-next-button:disabled{opacity:.3;cursor:auto}.flickity-prev-next-button svg{position:absolute;left:20%;top:20%;width:60%;height:60%}.flickity-prev-next-button .arrow{fill:#333}.flickity-page-dots{position:absolute;width:100%;bottom:-25px;padding:0;margin:0;list-style:none;text-align:center;line-height:1}.flickity-rtl .flickity-page-dots{direction:rtl}.flickity-page-dots .dot{display:inline-block;width:10px;height:10px;margin:0 8px;background:#333;border-radius:50%;opacity:.25;cursor:pointer}.flickity-page-dots .dot.is-selected{opacity:1}</style><style data-context="foundation-slideout-css">.slideout-menu{position:fixed;left:0;top:0;bottom:0;right:auto;z-index:0;width:256px;overflow-y:auto;-webkit-overflow-scrolling:touch;display:none}.slideout-menu.pushit-right{left:auto;right:0}.slideout-panel{position:relative;z-index:1;will-change:transform}.slideout-open,.slideout-open .slideout-panel,.slideout-open body{overflow:hidden}.slideout-open .slideout-menu{display:block}.pushit{display:none}</style>
<link rel="dns-prefetch" href="//v0.wordpress.com">


<meta property="og:type" content="website">
<meta property="og:title" content="February 2012 – code.openark.org">
<meta property="og:site_name" content="code.openark.org">
<meta property="og:image" content="https://s0.wp.com/i/blank.jpg">
<meta property="og:locale" content="en_US">


<style>.ios7.web-app-mode.has-fixed header{ background-color: rgba(242,101,34,.88);}</style></head>

<body class="archive date hfeed no-sidebar">
<div id="page" class="site">
	<a class="skip-link screen-reader-text" href="#primary">Skip to content</a>

	<header id="masthead" class="site-header">
		<div class="site-branding">
							<p class="site-title"><a href="https://shlomi-noach.github.io/blog/" rel="home">code.openark.org</a></p>
								<p class="site-description">Blog by Shlomi Noach</p>
			
			<nav id="site-navigation" class="main-navigation">
				<button class="menu-toggle" aria-controls="primary-menu" aria-expanded="false">primary-menu</button>
				<div class="menu-primary-menu-container"><ul id="menu-primary-menu" class="menu"><li id="menu-item-8109" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-8109"><a href="https://shlomi-noach.github.io/blog/archives">archives</a></li>
<li id="menu-item-8050" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-8050"><a href="https://shlomi-noach.github.io/blog/presentations">presentations</a></li>
<li id="menu-item-8055" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-8055"><a href="https://shlomi-noach.github.io/blog/about">about</a></li>
<li id="menu-item-8071" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-8071"><a href="https://github.com/shlomi-noach"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewbox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg></a></li>
<li id="menu-item-8074" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-8074"><a href="https://www.linkedin.com/in/shlominoach"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewbox="0 0 24 24"><path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"></path></svg></a></li>
<li id="menu-item-8072" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-8072"><a href="https://twitter.com/ShlomiNoach"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewbox="0 0 24 24"><path d="M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm6.066 9.645c.183 4.04-2.83 8.544-8.164 8.544-1.622 0-3.131-.476-4.402-1.291 1.524.18 3.045-.244 4.252-1.189-1.256-.023-2.317-.854-2.684-1.995.451.086.895.061 1.298-.049-1.381-.278-2.335-1.522-2.304-2.853.388.215.83.344 1.301.359-1.279-.855-1.641-2.544-.889-3.835 1.416 1.738 3.533 2.881 5.92 3.001-.419-1.796.944-3.527 2.799-3.527.825 0 1.572.349 2.096.907.654-.128 1.27-.368 1.824-.697-.215.671-.67 1.233-1.263 1.589.581-.07 1.135-.224 1.649-.453-.384.578-.87 1.084-1.433 1.489z"></path></svg></a></li>
<li id="menu-item-8073" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-8073"><a href="https://shlomi-noach.github.io/blog/feed"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewbox="0 0 24 24"><path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-12.832 20c-1.197 0-2.168-.969-2.168-2.165s.971-2.165 2.168-2.165 2.167.969 2.167 2.165-.97 2.165-2.167 2.165zm5.18 0c-.041-4.029-3.314-7.298-7.348-7.339v-3.207c5.814.041 10.518 4.739 10.561 10.546h-3.213zm5.441 0c-.021-7.063-5.736-12.761-12.789-12.792v-3.208c8.83.031 15.98 7.179 16 16h-3.211z"></path></svg></a></li>
</ul></div>			</nav>
		</div>
	</header>

	<main id="primary" class="site-main">

		
			<header class="page-header">
				<h1 class="page-title">Month: February 2012</h1>			</header>

			
<article id="post-4736" class="post-4736 post type-post status-publish format-standard hentry category-mysql tag-monitoring tag-mycheckpoint">
	<header class="entry-header">
		<h2 class="entry-title"><a href="https://shlomi-noach.github.io/blog/mysql/mysql-monitoring-storing-not-caching" rel="bookmark">MySQL monitoring: storing, not caching</a></h2>			<div class="entry-meta">
				<span class="cat-links"><a href="https://shlomi-noach.github.io/blog/category/mysql" rel="category tag">MySQL</a></span><span class="tags-links"><a href="https://shlomi-noach.github.io/blog/tag/monitoring" rel="tag">Monitoring</a><a href="https://shlomi-noach.github.io/blog/tag/mycheckpoint" rel="tag">mycheckpoint</a></span><span class="posted-on alignright"><a href="https://shlomi-noach.github.io/blog/mysql/mysql-monitoring-storing-not-caching" rel="bookmark"><time class="entry-date published updated" datetime="2012-02-22T09:44:47+02:00">February 22, 2012</time></a></span>			</div>
			</header>

	
	<div class="entry-content">
		<p>I’ve followed with interest on Baron’s <a href="http://www.mysqlperformanceblog.com/2012/02/19/why-dont-our-new-nagios-plugins-use-caching/">Why don’t our new Nagios plugins use caching?</a> and Sheeri’s <a href="http://www.sheeri.com/content/caching-monitoring-timing-everything">Caching for Monitoring: Timing is Everything</a>. I wish to present my take on this, from <a href="http://code.openark.org/forge/mycheckpoint">mycheckpoint</a>‘s point of view.</p>
<p>So <em>mycheckpoint</em> works in a completely different way. On one hand, it doesn’t bother with caching. On the other hand, it doesn’t bother with re-reads of data.</p>
<p>There are no staleness issues, the data is consistent as it can get (you can <em>never</em> get a completely atomic read of everything in MySQL), and you can issue as many calculations as you want at the price of one take of monitoring. As in Sheere’s example, you can run <strong>Threads_connected/max_connections*100</strong>, mix status variables, system variables, meta-variables (e.g. Seconds_behind_master), user-created variables (e.g. number of purchases in your online shop) etc.</p>
<p><em>mycheckpoint</em>‘s concept is to <strong>store</strong> data. And store it in relational format. That is, <strong>INSERT</strong> it to a table.</p>
<p>A sample-run generates a row, which lists all status, server, OS, user, meta variables. It’s a huge row, with hundreds of columns. Columns like <strong>threads_connected</strong>, <strong>max_connections</strong>, <strong>innodb_buffer_pool_size</strong>, <strong>seconds_behind_master</strong>, etc.</p>
<p><em>mycheckpoint</em> hardly cares about these columns. It identifies them dynamically. Have you just upgraded to MySQL <strong>5.5</strong>? Oh, there’s a new bunch of server and status variables? No problem, <em>mycheckpoint</em> will notice it doesn’t have the matching columns and will add them via ALTER TABLE. There you go, now we have a place to store them.</p>
<p>Running a formula like <strong>Threads_connected/max_connections*100</strong> is as easy as issuing the following query:</p>
<blockquote>
<pre>SELECT Threads_connected/max_connections*100 FROM status_variables WHERE id = ...</pre>
</blockquote>
<p>Hmmm. This means I can run this formula on the most recent row I’ve just added. But wait, this also means I can run this formula on <em>any</em> row I’ve ever gathered. <a href="https://shlomi-noach.github.io/blog/mysql/mysql-monitoring-storing-not-caching#more-4736" class="more-link">Continue reading »<span class="screen-reader-text"> “MySQL monitoring: storing, not caching”</span></a></p>
	</div>

	<footer class="entry-footer">
		<span class="comments-link"><a href="https://shlomi-noach.github.io/blog/mysql/mysql-monitoring-storing-not-caching#comments">8 Comments<span class="screen-reader-text"> on MySQL monitoring: storing, not caching</span></a></span>	</footer>
</article>

<article id="post-4715" class="post-4715 post type-post status-publish format-standard hentry category-mysql tag-community tag-mysqlconf">
	<header class="entry-header">
		<h2 class="entry-title"><a href="https://shlomi-noach.github.io/blog/mysql/call-for-nominations-for-2012-mysql-community-awards" rel="bookmark">Call for Nominations for 2012 MySQL Community Awards</a></h2>			<div class="entry-meta">
				<span class="cat-links"><a href="https://shlomi-noach.github.io/blog/category/mysql" rel="category tag">MySQL</a></span><span class="tags-links"><a href="https://shlomi-noach.github.io/blog/tag/community" rel="tag">community</a><a href="https://shlomi-noach.github.io/blog/tag/mysqlconf" rel="tag">mysqlconf</a></span><span class="posted-on alignright"><a href="https://shlomi-noach.github.io/blog/mysql/call-for-nominations-for-2012-mysql-community-awards" rel="bookmark"><time class="entry-date published" datetime="2012-02-13T14:13:18+02:00">February 13, 2012</time><time class="updated" datetime="2012-02-24T18:00:17+02:00">February 24, 2012</time></a></span>			</div>
			</header>

	
	<div class="entry-content">
		<p>This post complements Henrik’s <a href="http://openlife.cc/blogs/2012/february/call-nominations-2012-mysql-community-awards">Call for Nominations for 2012 MySQL Community Awards</a>.</p>
<p>Recap: we keep the tradition of awarding MySQL community members for their notable contributions to the MySQL ecosystem.</p>
<p>Previously, the awards were given by MySQL AB/Sun. Later on they were given by the community itself, as will follow this year, when the awards are presented during the <a href="http://www.percona.com/live/mysql-conference-2012/">Percona Live MySQL Conference & Expo</a> in Santa Clara, this April.</p>
<p>Henrik describes in details the three categories: community contributor, application, corporate contributer -of the year.</p>
<h4>A bit more about the categories</h4>
<p>To add to Henrik’s description of the categories, keep in mind the following:</p>
<ul>
<li><em>Community member</em> would be a person. That person could be working by himself/herself, or can be part of some corporate. It does not matter. What matters is the person’s contribution.</li>
<li><em>Application</em>: some code or project which either enhance/complement MySQL (e.g. Replication/HA solution) or uses MySQL. In the latter case, it is important that MySQL role’s in the application is significant. For example, some popular site built with some CMS using MySQL may not qualify, if it could run just the same with PostgreSQL or other databases, or if the owners are not actually aware or at all mindful about the specific database technology they are using.</li>
<li><em>Corporate</em>: we’re still figuring this one out. The general idea is to acknowledge a corporate which, some way or the other, did a good thing to the MySQL ecosystem or the community.</li>
</ul>
<h4> <a href="https://shlomi-noach.github.io/blog/mysql/call-for-nominations-for-2012-mysql-community-awards#more-4715" class="more-link">Continue reading »<span class="screen-reader-text"> “Call for Nominations for 2012 MySQL Community Awards”</span></a></h4>
	</div>

	<footer class="entry-footer">
		<span class="comments-link"><a href="https://shlomi-noach.github.io/blog/mysql/call-for-nominations-for-2012-mysql-community-awards#comments">3 Comments<span class="screen-reader-text"> on Call for Nominations for 2012 MySQL Community Awards</span></a></span>	</footer>
</article>

<article id="post-4588" class="post-4588 post type-post status-publish format-standard hentry category-mysql tag-common_schema tag-queryscript tag-scripts tag-sql">
	<header class="entry-header">
		<h2 class="entry-title"><a href="https://shlomi-noach.github.io/blog/mysql/mysqlqueryscript-use-case-delete-all-but-top-n-records-per-group" rel="bookmark">MySQL/QueryScript use case: DELETE all but top N records per group</a></h2>			<div class="entry-meta">
				<span class="cat-links"><a href="https://shlomi-noach.github.io/blog/category/mysql" rel="category tag">MySQL</a></span><span class="tags-links"><a href="https://shlomi-noach.github.io/blog/tag/common_schema" rel="tag">common_schema</a><a href="https://shlomi-noach.github.io/blog/tag/queryscript" rel="tag">QueryScript</a><a href="https://shlomi-noach.github.io/blog/tag/scripts" rel="tag">scripts</a><a href="https://shlomi-noach.github.io/blog/tag/sql" rel="tag">SQL</a></span><span class="posted-on alignright"><a href="https://shlomi-noach.github.io/blog/mysql/mysqlqueryscript-use-case-delete-all-but-top-n-records-per-group" rel="bookmark"><time class="entry-date published updated" datetime="2012-02-09T10:33:08+02:00">February 9, 2012</time></a></span>			</div>
			</header>

	
	<div class="entry-content">
		<p>Some administrative tasks can be simplified by using <a href="http://common-schema.googlecode.com/svn/trunk/common_schema/doc/html/query_script.html">common_schema/QueryScript</a>. I’m collecting a bunch of these for documentation. Here’s one for example:</p>
<p>The DBA/developer has the task of retaining only top <strong>3</strong> most populated countries per continent. That is, she has to <strong>DELETE 4th, 5th, 6th</strong>, … most populated counties in each continent.</p>
<p>Is it possible to work out with a single query? Yes. But the query is not pretty. In fact, it is quite complicated, and either involves unintuitive subqueries, or <a href="https://shlomi-noach.github.io/blog/mysql/sql-selecting-top-n-records-per-group">unintuitive hacks</a>. A normal DBA would not want to write, neither maintain this kind of query, unless top-notch-geek, which is fine.</p>
<p>Since this is a one time job, we just need to get it done. And <em>common_schema</em>/QueryScript provide with the intuitive solution: if we read our demand aloud, we realize we want to <strong>delete</strong> <strong>4th, 5th, 6th</strong>, … populated countries <strong>for each</strong> continent.</p>
<p>I present a solution made available by QueryScript, and discuss the ways in which the code overcomes limitations, or simplifies complexity:</p>
<blockquote>
<pre>var $num_countries_to_delete;
foreach($continent, $num_countries: SELECT continent, COUNT(*) FROM world.Country GROUP BY continent)
{
  if ($num_countries > 3)
  {
    set $num_countries_to_delete := $num_countries - 3;
    DELETE FROM world.Country WHERE Continent = $continent ORDER BY Population ASC LIMIT :$num_countries_to_delete;
  }
}</pre>
</blockquote>
<h4>Discussion</h4>
<p>The first thing that should be apparent from the above is that this is a <em>programmatic</em> solution. Queries are declarative, which is why complex ones sometimes look incomprehensible. The above is more straightforward. <a href="https://shlomi-noach.github.io/blog/mysql/mysqlqueryscript-use-case-delete-all-but-top-n-records-per-group#more-4588" class="more-link">Continue reading »<span class="screen-reader-text"> “MySQL/QueryScript use case: DELETE all but top N records per group”</span></a></p>
	</div>

	<footer class="entry-footer">
		<span class="comments-link"><a href="https://shlomi-noach.github.io/blog/mysql/mysqlqueryscript-use-case-delete-all-but-top-n-records-per-group#comments">1 Comment<span class="screen-reader-text"> on MySQL/QueryScript use case: DELETE all but top N records per group</span></a></span>	</footer>
</article>

<article id="post-4526" class="post-4526 post type-post status-publish format-standard hentry category-mysql tag-administration tag-common_schema tag-development tag-open-source tag-queryscript tag-scripts">
	<header class="entry-header">
		<h2 class="entry-title"><a href="https://shlomi-noach.github.io/blog/mysql/common_schema-rev-218-queryscript-throttling-processes-documentation" rel="bookmark">common_schema rev. 218: QueryScript, throttling, processes, documentation</a></h2>			<div class="entry-meta">
				<span class="cat-links"><a href="https://shlomi-noach.github.io/blog/category/mysql" rel="category tag">MySQL</a></span><span class="tags-links"><a href="https://shlomi-noach.github.io/blog/tag/administration" rel="tag">Administration</a><a href="https://shlomi-noach.github.io/blog/tag/common_schema" rel="tag">common_schema</a><a href="https://shlomi-noach.github.io/blog/tag/development" rel="tag">Development</a><a href="https://shlomi-noach.github.io/blog/tag/open-source" rel="tag">Open Source</a><a href="https://shlomi-noach.github.io/blog/tag/queryscript" rel="tag">QueryScript</a><a href="https://shlomi-noach.github.io/blog/tag/scripts" rel="tag">scripts</a></span><span class="posted-on alignright"><a href="https://shlomi-noach.github.io/blog/mysql/common_schema-rev-218-queryscript-throttling-processes-documentation" rel="bookmark"><time class="entry-date published updated" datetime="2012-02-08T11:53:30+02:00">February 8, 2012</time></a></span>			</div>
			</header>

	
	<div class="entry-content">
		<p><a href="http://code.google.com/p/common-schema/">common_schema</a>, revision <strong>218</strong> is released, with major new features, top one being <em>server side scripting</em>. Here are the highlights:</p>
<ul>
<li><a href="http://www.queryscript.com/"><strong>QueryScript</strong></a>: server side scripting is now supported by <em>common_schema</em>, which acts as an interpreter for QueryScript code.</li>
<li>Throttling for queries is now made available via the <strong>throttle()</strong> function.</li>
<li>Enhancements to processlist-related views, including the new <strong>slave_hosts</strong> view.</li>
<li>Inline documentation/help is available via the <strong>help()</strong> routine.</li>
<li>more…</li>
</ul>
<h4>QueryScript</h4>
<p><em>common_schema</em> makes for a QueryScript implementation for MySQL. You can run server side scripts, interpreted by <em>common_schema</em>, which allow for easy syntax and greater power than was otherwise previously available on the MySQL server. For example:</p>
<blockquote>
<pre>foreach($table, $schema, $engine: table like '%')
  if ($engine = 'ndbcluster')
    ALTER ONLINE TABLE :$schema.:$table REORGANIZE PARTITION;</pre>
</blockquote>
<p>QueryScript includes flow control, conditional branching, variables & variable expansion, script throttling and more.</p>
<p>Read more on <a href="http://common-schema.googlecode.com/svn/trunk/common_schema/doc/html/query_script.html">common_schema’s QueryScript implementation</a>.</p>
<h4> <a href="https://shlomi-noach.github.io/blog/mysql/common_schema-rev-218-queryscript-throttling-processes-documentation#more-4526" class="more-link">Continue reading »<span class="screen-reader-text"> “common_schema rev. 218: QueryScript, throttling, processes, documentation”</span></a></h4>
	</div>

	<footer class="entry-footer">
		<span class="comments-link"><a href="https://shlomi-noach.github.io/blog/mysql/common_schema-rev-218-queryscript-throttling-processes-documentation#respond">Leave a Comment<span class="screen-reader-text"> on common_schema rev. 218: QueryScript, throttling, processes, documentation</span></a></span>	</footer>
</article>

<article id="post-4596" class="post-4596 post type-post status-publish format-standard hentry category-mysql tag-administration tag-common_schema tag-development tag-open-source tag-queryscript tag-scripts">
	<header class="entry-header">
		<h2 class="entry-title"><a href="https://shlomi-noach.github.io/blog/mysql/queryscript-sql-scripting-language" rel="bookmark">QueryScript: SQL scripting language</a></h2>			<div class="entry-meta">
				<span class="cat-links"><a href="https://shlomi-noach.github.io/blog/category/mysql" rel="category tag">MySQL</a></span><span class="tags-links"><a href="https://shlomi-noach.github.io/blog/tag/administration" rel="tag">Administration</a><a href="https://shlomi-noach.github.io/blog/tag/common_schema" rel="tag">common_schema</a><a href="https://shlomi-noach.github.io/blog/tag/development" rel="tag">Development</a><a href="https://shlomi-noach.github.io/blog/tag/open-source" rel="tag">Open Source</a><a href="https://shlomi-noach.github.io/blog/tag/queryscript" rel="tag">QueryScript</a><a href="https://shlomi-noach.github.io/blog/tag/scripts" rel="tag">scripts</a></span><span class="posted-on alignright"><a href="https://shlomi-noach.github.io/blog/mysql/queryscript-sql-scripting-language" rel="bookmark"><time class="entry-date published updated" datetime="2012-02-08T11:43:19+02:00">February 8, 2012</time></a></span>			</div>
			</header>

	
	<div class="entry-content">
		<p>Introducing <strong><a href="http://www.queryscript.com/">QueryScript</a></strong>: a programming language aimed for SQL scripting, seamlessly combining scripting power such as flow control & variables with standard SQL statements or RDBMS-specific commands.</p>
<p>QueryScript is available fro MySQL via <a href="http://code.google.com/p/common-schema">common_schema</a>, which adds MySQL-specific usage.</p>
<p><em>What does QueryScript look like?</em> Here are a few code samples:</p>
<p>Turn a bulk DELETE operation into smaller tasks. Throttle in between.</p>
<blockquote>
<pre>while (DELETE FROM archive.events WHERE ts < CURDATE() LIMIT 1000)
{
  throttle 2;
}</pre>
</blockquote>
<p>Convert all InnoDB tables in the ‘sakila’ database to compressed format:</p>
<blockquote>
<pre>foreach ($table, $schema, $engine: table in sakila)
{
  if ($engine = 'InnoDB')
    ALTER TABLE :$schema.:$table ENGINE=InnoDB ROW_FORMAT=COMPRESSED KEY_BLOCK_SIZE=8;
}</pre>
</blockquote>
<p>Shard your data across multiple schemata:</p>
<blockquote>
<pre>foreach($shard: {USA, GBR, JAP, FRA})
{
  CREATE DATABASE db_:$shard;
  CREATE TABLE db_:$shard.city LIKE world.City;
  INSERT INTO db_:$shard.city SELECT * FROM world.City WHERE CountryCode = $shard;
}</pre>
</blockquote>
<p> <a href="https://shlomi-noach.github.io/blog/mysql/queryscript-sql-scripting-language#more-4596" class="more-link">Continue reading »<span class="screen-reader-text"> “QueryScript: SQL scripting language”</span></a></p>
	</div>

	<footer class="entry-footer">
		<span class="comments-link"><a href="https://shlomi-noach.github.io/blog/mysql/queryscript-sql-scripting-language#comments">9 Comments<span class="screen-reader-text"> on QueryScript: SQL scripting language</span></a></span>	</footer>
</article>

<article id="post-4647" class="post-4647 post type-post status-publish format-standard hentry category-mysql tag-opinions">
	<header class="entry-header">
		<h2 class="entry-title"><a href="https://shlomi-noach.github.io/blog/mysql/mysql-command-line-vs-visual-editors-reflections" rel="bookmark">MySQL command line vs. visual editors – reflections</a></h2>			<div class="entry-meta">
				<span class="cat-links"><a href="https://shlomi-noach.github.io/blog/category/mysql" rel="category tag">MySQL</a></span><span class="tags-links"><a href="https://shlomi-noach.github.io/blog/tag/opinions" rel="tag">Opinions</a></span><span class="posted-on alignright"><a href="https://shlomi-noach.github.io/blog/mysql/mysql-command-line-vs-visual-editors-reflections" rel="bookmark"><time class="entry-date published updated" datetime="2012-02-01T10:19:12+02:00">February 1, 2012</time></a></span>			</div>
			</header>

	
	<div class="entry-content">
		<p>My <a href="https://shlomi-noach.github.io/blog/mysql/mysql-command-line-vs-visual-editors">previous post</a> drew some attention, and in particular two comments I wish to relate to. I also wish to make a more fine-grained observation on visual editors.</p>
<p>One comment is by <em><a href="http://www.webyog.com/">Peter Laursen</a></em>, who rejected the generalization in my post, and another by <em>wlad</em>, who was harsher (but to the point), suggesting my post translated to <em>“I don’t know it, therefore it sucks”</em>.</p>
<p>I must have delivered the wrong message, since apparently people read my post as “don’t use visual editors, they are bad for you”, which is not what I intended to say, nor is it what I actually <em>think</em>. I took a very specific aspect of visual editors and commented on that. My comment should not extrapolate to “anything about visual editors is bad”.</p>
<p>I don’t think people should only be using the command line, and am not in the least interested in vi/emacs/eclipse/netbeans kind of wars. Of course everyone should be using whatever works best for them in terms of productivity and ease of use. And of course visual editors have great advantages over command line.</p>
<p> <a href="https://shlomi-noach.github.io/blog/mysql/mysql-command-line-vs-visual-editors-reflections#more-4647" class="more-link">Continue reading »<span class="screen-reader-text"> “MySQL command line vs. visual editors – reflections”</span></a></p>
	</div>

	<footer class="entry-footer">
		<span class="comments-link"><a href="https://shlomi-noach.github.io/blog/mysql/mysql-command-line-vs-visual-editors-reflections#comments">3 Comments<span class="screen-reader-text"> on MySQL command line vs. visual editors – reflections</span></a></span>	</footer>
</article>

	</main>


	<footer id="colophon" class="site-footer">
		<div class="site-info">
			<a href="https://wordpress.org/">
				Powered by WordPress			</a>
			<span class="sep"> | </span>
				Theme: <a href="http://openark.org">openark-primer</a> by <a href="http://underscores.me/">Underscores.me</a>.		</div>
	</footer>
</div>

	<div style="display:none">
	</div>
<script>
var pollsL10n = {"ajax_url":"https:\/\/shlomi-noach.github.io\/blog\/wp-admin\/admin-ajax.php","text_wait":"Your last request is still being processed. Please wait a while ...","text_valid":"Please choose a valid poll answer.","text_multiple":"Maximum number of choices allowed: ","show_loading":"1","show_fading":"1"};
</script>
<script src="https://shlomi-noach.github.io/blog/wp-content/plugins/wp-polls/polls-js.js"></script>
<script src="https://secure.gravatar.com/js/gprofiles.js?ver=2020Junaa"></script>
<script>
var WPGroHo = {"my_hash":""};
</script>
<script src="https://shlomi-noach.github.io/blog/wp-content/plugins/jetpack/modules/wpgroho.js"></script>
<script src="https://shlomi-noach.github.io/blog/wp-content/themes/openark-primer/js/navigation.js"></script>
<script src="https://shlomi-noach.github.io/blog/wp-content/themes/openark-primer/js/skip-link-focus-fix.js"></script>
<script type="text/javascript" src="https://stats.wp.com/e-202024.js" async="async" defer></script>
<script type="text/javascript">
	_stq = window._stq || [];
	_stq.push([ 'view', {v:'ext',j:'1:8.2.1',blog:'32412571',post:'0',tz:'2',srv:'code.openark.org'} ]);
	_stq.push([ 'clickTrackerInit', '32412571', '0' ]);
</script>

</body>
</html>
