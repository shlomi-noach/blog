<!DOCTYPE html>
<html lang="en">

<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="">
  <meta name="generator" content="Hugo 0.16" />

  <title>code.openark.org</title>

  
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/0.6.0/pure-min.css">

  <!--[if lte IE 8]>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/0.6.0/grids-responsive-old-ie-min.css">
  <![endif]-->
  <!--[if gt IE 8]><!-->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/0.6.0/grids-responsive-min.css">
  <!--<![endif]-->

  <!--[if lte IE 8]>
  <link rel="stylesheet" href="/css/side-menu-old-ie.css">
  <![endif]-->
  <!--[if gt IE 8]><!-->
  <link rel="stylesheet" href="/blog/css/side-menu.css">
  <!--<![endif]-->

  <link rel="stylesheet" href="/blog/css/blackburn.css">

  
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">

  
  <link href="https://fonts.googleapis.com/css?family=Raleway" rel="stylesheet" type="text/css">

  
  
  <link rel="alternate" type="application/rss+xml" title="code.openark.org" href="/blog/index.xml" />
  

  
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.1.0/styles/androidstudio.min.css">
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.1.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
  

  <link rel="shortcut icon" href="/blogimg/favicon.ico" type="image/x-icon" />

  
  

</head>


<body>
<div id="layout">

  
<a href="#menu" id="menuLink" class="menu-link">
  
  <span></span>
</a>
<div id="menu">

  

  <a class="pure-menu-heading brand" href="/blog">openark.org</a>


  <div class="pure-menu">
    <ul class="pure-menu-list">
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="/blog/"><i class='fa fa-home fa-fw'></i>Home</a>
      
        </li>
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="/blog/post/"><i class='fa fa-list fa-fw'></i>Posts</a>
      
        </li>
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="/blog/page/about"><i class='fa fa-user fa-fw'></i>About</a>
      
        </li>
      
      
      <li class="pure-menu-item">
        <a class="pure-menu-link" href="/blog/index.xml"><i class="fa fa-rss fa-fw"></i>RSS</a>
      </li>
      
    </ul>
  </div>

  <div class="pure-menu social">
  <ul class="pure-menu-list">
    <li class="pure-menu-item">
      <a class="pure-menu-link">
        Shlomi Noach
        
          <div class="avatar-container">
        	  <div class="avatar-img-border">
                <img class="avatar-img" src="/blog/images/shlomi-noach.png" alt="code.openark.org" />
        	  </div>
        	</div>
        
      </a>
    </li>

    
    <li class="pure-menu-item">
      <a class="pure-menu-link" href="https://github.com/shlomi-noach" target="_blank"><i class="fa fa-github-square fa-fw"></i>GitHub</a>
    </li>
    

    

    
    <li class="pure-menu-item">
      <a class="pure-menu-link" href="https://twitter.com/ShlomiNoach" target="_blank"><i class="fa fa-twitter-square fa-fw"></i>Twitter</a>
    </li>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
    <li class="pure-menu-item">
      <a class="pure-menu-link" href="https://linkedin.com/in/shlominoach" target="_blank"><i class="fa fa-linkedin-square fa-fw"></i>LinkedIn</a>
    </li>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

  </ul>
</div>





  <div>
  <div class="small-print">
    <small>&copy; 2016. All rights reserved.</small>
  </div>
  <div class="small-print">
    <small>Built with&nbsp;<a href="https://gohugo.io/" target="_blank">Hugo</a></small>
    <small>Theme&nbsp;<a href="https://github.com/yoshiharuyamashita/blackburn" target="_blank">Blackburn</a></small>
  </div>
</div>

</div>


  <div id="main">


<div class="header">
  <h1>code.openark.org</h1>
  <h2>Software musings by Shlomi Noach</h2>
</div>

<div class="content">
  
    <article>
  <header>
    <h2><a href="/blog/2014/02/09/mysql-community-awards-2014-call-for-nominations/">MySQL Community Awards 2014: Call for Nominations!</a></h2>

    <div class="post-meta">

  <div>

    <time>09 Feb 2014</time>
  </div>

  

  

  <div>
    
      
      
        <span>
          
            <a class="post-taxonomy-category" href="/blogcategories/mysql">MySQL</a>
          
        </span>
      
    

    
      
      
        <span>
          <i class="fa fa-tags fa-fw"></i>
          
            <a class="post-taxonomy-tag" href="/blogtags/community">community</a>&nbsp;&#47;
          
            <a class="post-taxonomy-tag" href="/blogtags/perconalive">PerconaLive</a>
          
        </span>
      
    
  </div>

</div>


  </header>

  <p>
  <p><p>The <strong>2014</strong> MySQL Community Awards event will take place, as usual, in Santa Clara, April 2014, during the Percona Live MySQL Conference &amp; Expo (currently scheduled at <a href="http://www.percona.com/live/mysql-conference-2014/program/schedule/sessions-day-2">Thursday, April 3rd 2014</a>).</p>
<p>The MySQL Community Awards is a community based initiative. The idea is to publicly recognize contributors to the MySQL ecosystem. The entire process of discussing, voting and awarding is controlled by an independent group of community members, typically based of past winners or their representatives, as well as known contributors.</p>
<p>It is a self-appointed, self-declared, self-making-up-the-rules-as-it-goes committee. It is also very aware of the importance of the community; a no-nonsense, non-political, adhering to tradition, self criticizing committee.</p>
<p>The Call for Nominations is open. We are seeking the community’s assistance in nominating candidates in the following categories:</p>
<h4>MySQL Community Awards: Community Contributor of the year 2014</h4>
<p>This is a personal award; a winner would a person who has made contribution to the MySQL ecosystem. This could be via development, advocating, blogging, speaking, supporting, etc. All things go.</p>
<h4>MySQL Community Awards: Application of the year 2014</h4>
<p>An application, project, product etc. which supports the MySQL ecosystem by either contributing code, complementing its behaviour, supporting its use, etc. This could range from a one man open source project to a large scale social service.</p>
<h4>MySQL Community Awards: Corporate Contributor of the year 2013</h4>
<p>A company who made contribution to the MySQL ecosystem. This might be a corporate which released major open source code; one that advocates for MySQL; one that help out community members by&hellip; anything.</p>
<p></p>

  </p>

  
  <footer>
    <a href="/blog/2014/02/09/mysql-community-awards-2014-call-for-nominations/">Read more<i class="fa fa-angle-double-right fa-fw"></i></a>
  </footer>
  
</article>

  
    <article>
  <header>
    <h2><a href="/blog/2014/02/06/why-delegating-code-to-mysql-stored-routines-is-poor-engineering-practice/">Why delegating code to MySQL Stored Routines is poor engineering practice</a></h2>

    <div class="post-meta">

  <div>

    <time>06 Feb 2014</time>
  </div>

  

  

  <div>
    
      
      
        <span>
          
            <a class="post-taxonomy-category" href="/blogcategories/mysql">MySQL</a>
          
        </span>
      
    

    
      
      
        <span>
          <i class="fa fa-tags fa-fw"></i>
          
            <a class="post-taxonomy-tag" href="/blogtags/common_schema">common_schema</a>&nbsp;&#47;
          
            <a class="post-taxonomy-tag" href="/blogtags/development">Development</a>&nbsp;&#47;
          
            <a class="post-taxonomy-tag" href="/blogtags/opinions">Opinions</a>&nbsp;&#47;
          
            <a class="post-taxonomy-tag" href="/blogtags/queryscript">QueryScript</a>&nbsp;&#47;
          
            <a class="post-taxonomy-tag" href="/blogtags/stored-routines">Stored routines</a>
          
        </span>
      
    
  </div>

</div>


  </header>

  <p>
  <p><p>I happen to use stored routines with MySQL. In fact, my open source project <a href="http://code.google.com/p/common-schema/">common_schema</a> heavily utilizes them. DBA-wise, I think they provide with a lot of power (alas, the ANSI:SQL 2003 syntax feels more like COBOL than a sane programming language, which is why I use <a href="http://common-schema.googlecode.com/svn/trunk/common_schema/doc/html/query_script.html">QueryScript</a> instead).</p>
<p>However I wish to discuss the use of stored routines as integral part of your application code, which I discourage.</p>
<p>The common discussion on whether to user or not use stored routines typically revolves around data transfer (with stored routines you transfer less data since it&rsquo;s being processed on server side), security (with stored routines you can obfuscate/hide internal datasets, and provide with limited and expected API) and performance (with MySQL this is not what you would expect, as routines are interpreted &amp; their queries re-evaluated, as opposed to other RDBMS you may be used to).</p>
<p>But I wish to discuss the use of stored routines from an engineering standpoint. The first couple of points I raise are cultural/behavioural.</p>
<h4>2nd grade citizens</h4>
<p>Your stored routines are not likely to integrate well with your IDE. While your Java/Scala/PHP/Ruby/whatnot code comfortably lies within your home directory, the stored routines live in their own space: a database container. They&rsquo;re not as visible to you as your standard code. Your IDE is unaware of their existence and is unlikely to have the necessary plugin/state of mind to be able to view these.</p>
<p>This leads to difficulty in maintaining the code. People typically resort to using some SQL-oriented GUI tool such as MySQL Workbench, SequelPro or other, commercial tools. But these tools, while make it easy to edit your routine code, do not integrate (well?) with your source control. I can&rsquo;t say I&rsquo;ve used all GUI tools; but how many of them will have Git/SVN/Mercurial connectors? How many of them will keep local history changes once you edit a routine? I&rsquo;m happy to get introduced to such a tool.</p>
<p>Even with such integration, you&rsquo;re split between two IDEs. And if you&rsquo;re the command line enthusiast, well, you can&rsquo;t just <strong>svn ci -m &ldquo;fixed my stored procedure bug&rdquo;</strong>. Your code is simply not in your trunk directory.</p>
<p>It <em>can</em> be done. You <em>could</em> maintain the entire routine code from within your source tree, and hats off to all those who do it. Most will not. See later on about deployments for more on this.</p>

  </p>

  
  <footer>
    <a href="/blog/2014/02/06/why-delegating-code-to-mysql-stored-routines-is-poor-engineering-practice/">Read more<i class="fa fa-angle-double-right fa-fw"></i></a>
  </footer>
  
</article>

  
    <article>
  <header>
    <h2><a href="/blog/2014/01/24/seconds_behind_master-vs-absolute-slave-lag/">Seconds_behind_master vs. Absolute slave lag</a></h2>

    <div class="post-meta">

  <div>

    <time>24 Jan 2014</time>
  </div>

  

  

  <div>
    
      
      
        <span>
          
            <a class="post-taxonomy-category" href="/blogcategories/mysql">MySQL</a>
          
        </span>
      
    

    
      
      
        <span>
          <i class="fa fa-tags fa-fw"></i>
          
            <a class="post-taxonomy-tag" href="/blogtags/monitoring">Monitoring</a>&nbsp;&#47;
          
            <a class="post-taxonomy-tag" href="/blogtags/replication">Replication</a>
          
        </span>
      
    
  </div>

</div>


  </header>

  <p>
  <p><p>I am unable to bring myself to trust the <strong>Seconds_behind_master</strong> value on <strong>SHOW SLAVE STATUS</strong>. Even with MySQL <strong>5.5</strong>&rsquo;s <strong>CHANGE MASTER TO &hellip; MASTER_HEARTBEAT_PERIOD</strong> (good thing, applied when no traffic goes from master to slave) it&rsquo;s easy and common to find fluctuations in <strong>Seconds_behind_master</strong> value.</p>
<p>And, when sampled by your favourite monitoring tool, this often leads to <em>many</em> false negatives.</p>
<p>At Outbrain we use HAProxy as proxy to our slaves, on multiple clusters. More about that in a future post. What&rsquo;s important here is that our decision whether a slave enters or leaves a certain pool (i.e. gets UP or DOWN status in HAProxy) is based on replication lag. Taking slaves out when they are actually replicating well is bad, since this reduces the amount of serving instances. Putting slaves in the pool when they are actually lagging too much is bad as they contain invalid, irrelevant data.</p>
<p>To top it all, even when correct, the <strong>Seconds_behind_master</strong> value is practically irrelevant on <strong>2nd</strong> level slaves. In a <em>Master -&gt; Slave1 -&gt; Slave2</em> setup, what does it mean that <em>Slave2</em> has <strong>Seconds_behind_master = 0</strong>? Nothing much to the application: <em>Slave1</em> might be lagging an hour behind the master, or may not be replicating at all. <em>Slave2</em> might have an hour&rsquo;s data missing even though it says its own replication is fine.</p>
<p>None of the above is news, and yet many fall in this pitfall. The solution is quite old as well; it is also very simple: do your own heartbeat mechanism, at your favourite time resolution, and measure slave lag by timestamp you yourself updated on the master.</p>
<p><strong>Maatkit</strong>/<strong>percona-toolkit</strong> did this long time ago with <strong>mk-heartbeat</strong>/<strong><a href="http://www.percona.com/doc/percona-toolkit/2.2/pt-heartbeat.html">pt-heartbeat</a></strong>. We&rsquo;re doing it in a very similar manner. The benefit is obvious. Consider the following two graphs; the first shows <strong>Seconds_behind_master</strong>, the seconds shows our own <strong>Absolute_slave_lag</strong> measurement.</p>

  </p>

  
  <footer>
    <a href="/blog/2014/01/24/seconds_behind_master-vs-absolute-slave-lag/">Read more<i class="fa fa-angle-double-right fa-fw"></i></a>
  </footer>
  
</article>

  
    <article>
  <header>
    <h2><a href="/blog/2014/01/16/percona-live-2014-schedule-released-bof-and-lightning-talks-call-for-papers-continues/">Percona Live 2014 schedule released; BoF and Lightning Talks Call for Papers continues</a></h2>

    <div class="post-meta">

  <div>

    <time>16 Jan 2014</time>
  </div>

  

  

  <div>
    
      
      
        <span>
          
            <a class="post-taxonomy-category" href="/blogcategories/mysql">MySQL</a>
          
        </span>
      
    

    
      
      
        <span>
          <i class="fa fa-tags fa-fw"></i>
          
            <a class="post-taxonomy-tag" href="/blogtags/community">community</a>&nbsp;&#47;
          
            <a class="post-taxonomy-tag" href="/blogtags/perconalive">PerconaLive</a>&nbsp;&#47;
          
            <a class="post-taxonomy-tag" href="/blogtags/speaking">Speaking</a>
          
        </span>
      
    
  </div>

</div>


  </header>

  <p>
  The complete tutorial &amp; session schedule for Percona Live MySQL Conference &amp; Expo 2014 is released. This schedule offers both a sense of achievement as well as a sense of regret; for I believe the schedule is very good, and yet some good proposals had to be left out. This is an inevitable result of a conference that is popular and receives far more proposals than can fit within the time frames.
  </p>

  
  <footer>
    <a href="/blog/2014/01/16/percona-live-2014-schedule-released-bof-and-lightning-talks-call-for-papers-continues/">Read more<i class="fa fa-angle-double-right fa-fw"></i></a>
  </footer>
  
</article>

  
    <article>
  <header>
    <h2><a href="/blog/2013/12/19/bash-script-report-largest-innodb-files/">Bash script: report largest InnoDB files</a></h2>

    <div class="post-meta">

  <div>

    <time>19 Dec 2013</time>
  </div>

  

  

  <div>
    
      
      
        <span>
          
            <a class="post-taxonomy-category" href="/blogcategories/mysql">MySQL</a>
          
        </span>
      
    

    
      
      
        <span>
          <i class="fa fa-tags fa-fw"></i>
          
            <a class="post-taxonomy-tag" href="/blogtags/analysis">Analysis</a>&nbsp;&#47;
          
            <a class="post-taxonomy-tag" href="/blogtags/monitoring">Monitoring</a>&nbsp;&#47;
          
            <a class="post-taxonomy-tag" href="/blogtags/scripts">scripts</a>
          
        </span>
      
    
  </div>

</div>


  </header>

  <p>
  The following script will report the largest InnoDB tables under the data directory: schema, table &amp; length in bytes. The tables could be non-partitioned, in which case this is simply the size of the corresponding .ibd file, or they can be partitioned, in which case the reported size is the sum of all partition files. It is assumed tables reside in their own tablespace files, i.e. created with innodb_file_per_table=1. ( mysql_datadir=$(grep datadir /etc/my.cnf | cut -d "=" -f 2) cd $mysql_datadir for frm_file in $(find .
  </p>

  
  <footer>
    <a href="/blog/2013/12/19/bash-script-report-largest-innodb-files/">Read more<i class="fa fa-angle-double-right fa-fw"></i></a>
  </footer>
  
</article>

  
    <article>
  <header>
    <h2><a href="/blog/2013/12/14/why-a-professional-conference-must-have-a-committee-and-what-that-committee-does/">Why a professional conference must have a committee, and what that committee does</a></h2>

    <div class="post-meta">

  <div>

    <time>14 Dec 2013</time>
  </div>

  

  

  <div>
    
      
      
        <span>
          
            <a class="post-taxonomy-category" href="/blogcategories/mysql">MySQL</a>
          
        </span>
      
    

    
      
      
        <span>
          <i class="fa fa-tags fa-fw"></i>
          
            <a class="post-taxonomy-tag" href="/blogtags/community">community</a>&nbsp;&#47;
          
            <a class="post-taxonomy-tag" href="/blogtags/opinions">Opinions</a>&nbsp;&#47;
          
            <a class="post-taxonomy-tag" href="/blogtags/perconalive">PerconaLive</a>
          
        </span>
      
    
  </div>

</div>


  </header>

  <p>
  <p><p>What exactly is it that a conference committee does? This post comes as response to a comment on <a href="http://www.mysqlperformanceblog.com/2013/12/11/percona-live-2014-conference-sneak-peek/">A sneak peek at the Percona Live MySQL Conference &amp; Expo 2014</a>, reading:</p>
<blockquote>Why the same committee each year? Community should vote on proposals and committee should just work schedule,etc.</blockquote>
<p>I&rsquo;ll pick the glove and shed some light into the work of the committee. While this specific comment related to the Percona Live conference, I trust that my opinions expressed below apply just as well to any (technical?) professional conference; the point below can equally apply to conferences from Oracle MySQL Connect, O&rsquo;Reilly Velocity to FOSDEM &amp; PyCon.</p>
<p>I can sum up the entire answer with one word: &ldquo;Discussion&rdquo;. For a breakdown, please read through.</p>
<h4>First, what&rsquo;s not feasible with community-based voting, and what looks very wrong</h4>
<p>So why not open up a voting system and let the community do the rating? I always disliked the &ldquo;send an SMS to this number to vote for X&rdquo; approach. It is so unbalanced and unreliable: if I were to submit a proposal describing how my company invented/develops/uses X to do great things, I can expect my co-workers to vote for me. In fact, my company would possibly ask my co-workers to do so. I stand a better chance if I work in a large company; less so in a small company.</p>
<p>Anonymous votes tend to be touched by politics. I could vote for my company, against a competing product, for my friends, against people I dislike, and none the wiser. We can take away anonymity, which means my votes will be public, which means they are visible to all. In which case my ranking will be affected by what people I rate would think of me; which means my rating would not be based on strictly professional/technical grounds.</p>
<p>But before we drop into this endless pit, let&rsquo;s consider: will I, as a KMyPyVelocirails community member, really engage in reviewing over 300 submissions? How many members of my community would take so many hours of their time to do so? Let me clarify, this is a part-time job. It requires time, and it requires a mindset. I&rsquo;m guessing here that you cannot count on everyone rating all talks. Some more prominent talks will be reviewed by more people, others may be left little to not reviewed in the first place.</p>
<p>The idea of a purely community based rating is romantic and beautiful, but not feasible.</p>
<p>And then there&rsquo;s the <em>discussion</em>. Let&rsquo;s look at some of the things the committee is engaged in to clarify.</p>
<h4>Duties, responsibility and actions of a conference committee</h4>
<p>The following discussion cannot be an exhaustive description of a committee&rsquo;s work, but it can give a good glimpse into its scope. We begin with the commitment the members take upon themselves: to invest their time and will in the committee&rsquo;s duties. Once you join in, you are expected to work and deliver.</p>

  </p>

  
  <footer>
    <a href="/blog/2013/12/14/why-a-professional-conference-must-have-a-committee-and-what-that-committee-does/">Read more<i class="fa fa-angle-double-right fa-fw"></i></a>
  </footer>
  
</article>

  
    <article>
  <header>
    <h2><a href="/blog/2013/11/14/percona-live-mysql-conference-expo-2014-call-for-papers-guidelines/">Percona Live: MySQL Conference &amp; Expo 2014: call for papers &amp; guidelines</a></h2>

    <div class="post-meta">

  <div>

    <time>14 Nov 2013</time>
  </div>

  

  

  <div>
    
      
      
        <span>
          
            <a class="post-taxonomy-category" href="/blogcategories/mysql">MySQL</a>
          
        </span>
      
    

    
      
      
        <span>
          <i class="fa fa-tags fa-fw"></i>
          
            <a class="post-taxonomy-tag" href="/blogtags/perconalive">PerconaLive</a>
          
        </span>
      
    
  </div>

</div>


  </header>

  <p>
  <p><p>Call for papers for <a href="https://www.percona.com/live/mysql-conference-2014/">Percona Live MySQL Conference &amp; Expo 2014</a> is open. As in previous year, I have the honour of being conference committee chairman, which means I&rsquo;m in particular part of the reviewing committee. I wish to add to <a href="http://datacharmer.blogspot.co.il/2013/11/call-for-papers-with-lightning-talks.html">Giuseppe&rsquo;s fine observations and suggestions</a>. On submitting a talk, please consider the following:</p>
<ul>
<li>Make it right the first time (an old advice by Baron). We will not be able to review your proposal more than once. We will not be iterating the proposals again and again to see what&rsquo;s changed, nor will we have a feed for updated content. We will not be able to diff any changes you made to your proposal. Get it right the first time, this is the one time we will read your proposal.</li>
</ul>
<p>On <em>rare occasions</em> we may think your proposal is just too important to be thrown just for bad description/grammar/language, and we may contact you to refine.</p>
<ul>
<li>The proposal must be as clear to us as for your target audience. Good proposals are easy to understand. Make it clear.</li>
</ul>
<p>Being super-famous does not grant you immediate approval. It helps if you&rsquo;ve given the talk <strong>10</strong> times in the past, and we&rsquo;ve all seen it and it was widely acknowledged as one of the best talks ever. But then again, if that&rsquo;s the kind of speaker you are, you probably know how to write a good proposal.</p>
<p>The committee seeks the audience&rsquo;s best interest. We assume the audience&rsquo;s common sense is similar, via extrapolation, to our own. We therefore assume that if we think a proposal is bad, so will the audience.</p>
<ul>
<li>If you&rsquo;re a commercial vendor and you want to make a proposal, that&rsquo;s fine.
<ul>
<li>I suppose the best way would be through the sponsor program</li>
<li>But otherwise we actually accept talks on commercial/closed source solutions. Be advised, however, that the committee members will typically wish to promote open source &amp; free solutions, and so commercial/closed source talks are at some disadvantage.</li>
</ul>
</li>
<li>If you are owner/employee of commercial/closed source solution, and you&rsquo;re going to speak on a subject that is related to your product, please be very explicit:
<ul>
<li>either note (in private notes, if you like) that you will be, say, comparing your own product along with other products, and provide full disclosure</li>
<li>or let us know you will in fact <em>not</em> speak about your own product, and make us sigh in relief.</li>
<li>In short, don&rsquo;t let us suspect this is going to be a sales pitch in disguise. It is one of the quickest ways to get your proposal rejected.</li>
</ul>
</li>
</ul>
<p>You might be interested to learn that last year, a proposal made by an influential and a well known speaker was turned down for that exact reason. Even if he had no intention of doing a sales pitch, that&rsquo;s what it looked like to us, and by extrapolation to the audience.</p>

  </p>

  
  <footer>
    <a href="/blog/2013/11/14/percona-live-mysql-conference-expo-2014-call-for-papers-guidelines/">Read more<i class="fa fa-angle-double-right fa-fw"></i></a>
  </footer>
  
</article>

  
    <article>
  <header>
    <h2><a href="/blog/2013/11/04/common_schema-speaking-at-percona-live-london-nov-2013/">common_schema: speaking at Percona Live London, Nov. 2013</a></h2>

    <div class="post-meta">

  <div>

    <time>04 Nov 2013</time>
  </div>

  

  

  <div>
    
      
      
        <span>
          
            <a class="post-taxonomy-category" href="/blogcategories/mysql">MySQL</a>
          
        </span>
      
    

    
      
      
        <span>
          <i class="fa fa-tags fa-fw"></i>
          
            <a class="post-taxonomy-tag" href="/blogtags/common_schema">common_schema</a>&nbsp;&#47;
          
            <a class="post-taxonomy-tag" href="/blogtags/perconalive">PerconaLive</a>&nbsp;&#47;
          
            <a class="post-taxonomy-tag" href="/blogtags/speaking">Speaking</a>
          
        </span>
      
    
  </div>

</div>


  </header>

  <p>
  <p><p>In one week&rsquo;s time I&rsquo;ll be presenting <a href="http://www.percona.com/live/london-2013/sessions/commonschema-dbas-framework-mysql">common_schema: DBA&rsquo;s framework for MySQL</a> at Percona Live, London.</p>
<p>This talk introduces the rich toolset known as <a href="http://code.google.com/p/common-schema/">common_schema</a>. It is free, open source, extremely useful in solving DBA &amp; developer tasks, and is the next best thing ever invented next to SQL pie charts.</p>
<p>I&rsquo;ll introduce:</p>
<ul>
<li>Views, with which you can detect and terminate idle transactions, blocking transactions; roll your range partitions; find duplicate keys; block/unblock accounts; get fine grained privileges per account; find AUTO_ICNREMENT free space; &hellip;</li>
<li>Routines: do meta executions such as eval(); get query checksums; duplicating accounts; killing suspicious connections; security auditing; parsing JSON data; &hellip;</li>
<li>QueryScript: if you&rsquo;re not using it, you&rsquo;re missing on a powerful scripting language tightly integrated with SQL/MySQL. We&rsquo;ll see the basic constructs, variables, loops; the more sophisticated MySQL/locks/overhead/danger aware constructs such as foreach &amp; split; throttling, exceptions, it&rsquo;s all in there. I&rsquo;ll present real scripts that saved the day and challenge you to implement them in another scripting language.</li>
<li>Briefly introducing rdebug: stored routine debugger and debugging API</li>
<li>Roadmap (some cool things coming along)</p>

  </p>

  
  <footer>
    <a href="/blog/2013/11/04/common_schema-speaking-at-percona-live-london-nov-2013/">Read more<i class="fa fa-angle-double-right fa-fw"></i></a>
  </footer>
  
</article>

  
    <article>
  <header>
    <h2><a href="/blog/2013/10/23/tokudb-configuration-variables-of-interest/">TokuDB configuration variables of interest</a></h2>

    <div class="post-meta">

  <div>

    <time>23 Oct 2013</time>
  </div>

  

  

  <div>
    
      
      
        <span>
          
            <a class="post-taxonomy-category" href="/blogcategories/mysql">MySQL</a>
          
        </span>
      
    

    
      
      
        <span>
          <i class="fa fa-tags fa-fw"></i>
          
            <a class="post-taxonomy-tag" href="/blogtags/configuration">Configuration</a>&nbsp;&#47;
          
            <a class="post-taxonomy-tag" href="/blogtags/innodb">InnoDB</a>&nbsp;&#47;
          
            <a class="post-taxonomy-tag" href="/blogtags/performance">Performance</a>&nbsp;&#47;
          
            <a class="post-taxonomy-tag" href="/blogtags/tokudb">TokuDB</a>
          
        </span>
      
    
  </div>

</div>


  </header>

  <p>
  <p><p>During our experiments I came upon a few TokuDB variables of interest; if you are using TokuDB you might want to look into these:</p>
<ul>
<li>
<h4>tokudb_analyze_time</h4>
</li>
</ul>
<p style="padding-left: 30px;">This is a boundary on the number of seconds an <strong>ANALYZE TABLE</strong> will operate on each index on each partition on a TokuDB table.</p>
<p style="padding-left: 30px;">That is, if <strong>tokudb_analyze_time = 5</strong>, and your table has <strong>4</strong> indexes (including <strong>PRIMARY</strong>) and <strong>7</strong> partitions, then the total runtime is limited to <strong>5*4*7 = 140</strong> seconds.</p>
<p style="padding-left: 30px;">Default in <strong>7.1.0</strong>: <strong>5</strong> seconds</p>
<ul>
<li>
<h4>tokudb_cache_size</h4>
</li>
</ul>
<p style="padding-left: 30px;">Similar to <strong>innodb_buffer_pool_size</strong>, this variable sets the amount of memory allocated by TokuDB for caching pages. Like InnoDB the table is clustered within the index, so the cache includes pages for both indexes and data.</p>
<p style="padding-left: 30px;">Default: <strong>50%</strong> of total memory</p>
<ul>
<li>
<h4>tokudb_directio</h4>
</li>
</ul>
<p style="padding-left: 30px;">Boolean, values are <strong>0/1</strong>. Setting <strong>tokudb_directio = 1</strong> is like specifying <strong>innodb_flush_method = O_DIRECT</strong>. Which in turn means the OS should not cache pages requested by TokuDB. Default: <strong>0</strong>.</p>
<p style="padding-left: 30px;">Now here&rsquo;s the interesting part: we are used to tell InnoDB to get the most memory we can provide (because we want it to cache as much as it can) and to avoid OS caching (because that would mean a page would appear both in the buffer pool and in OS memory, which is a waste). So the following setup is common:</p>

  </p>

  
  <footer>
    <a href="/blog/2013/10/23/tokudb-configuration-variables-of-interest/">Read more<i class="fa fa-angle-double-right fa-fw"></i></a>
  </footer>
  
</article>

  
    <article>
  <header>
    <h2><a href="/blog/2013/10/22/5-years-of-blogging/">5 years of blogging</a></h2>

    <div class="post-meta">

  <div>

    <time>22 Oct 2013</time>
  </div>

  

  

  <div>
    
      
      
        <span>
          
            <a class="post-taxonomy-category" href="/blogcategories/mysql">MySQL</a>
          
        </span>
      
    

    
      
      
        <span>
          <i class="fa fa-tags fa-fw"></i>
          
            <a class="post-taxonomy-tag" href="/blogtags/opinions">Opinions</a>
          
        </span>
      
    
  </div>

</div>


  </header>

  <p>
  openark.org blog is now five years old. Hurrah! Throughout these five years I posted almost exclusively MySQL oriented blogs, though I had every intention of writing on various engineering topics. I still see blogging as one of the most important forms of knowledge sharing, and indeed for me the blogs aggregated at Planet MySQL are my main source of MySQL information. I especially like to read technical content straight from the developer; but am also keen on being updated with news on conferences, releases, distributions and some insightful opinions.
  </p>

  
  <footer>
    <a href="/blog/2013/10/22/5-years-of-blogging/">Read more<i class="fa fa-angle-double-right fa-fw"></i></a>
  </footer>
  
</article>

  

  


<nav class="pagination" role="pagination">
  
  <a href="/page/7/"><i class="fa fa-chevron-left"></i></a>
  
  <span>&nbsp;8 / 38&nbsp;</span>
  
  <a href="/page/9/"><i class="fa fa-chevron-right"></i></a>
  
</nav>



</div>

</div>
</div>
<script src="/blogjs/ui.js"></script>


<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'Your Google Analytics tracking ID', 'auto');
  ga('send', 'pageview');

</script>



</body>
</html>

