<!DOCTYPE html>
<html lang="en-US">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	

	<title>September 2015 – code.openark.org</title>
<link rel="dns-prefetch" href="//secure.gravatar.com">
<link rel="dns-prefetch" href="//s.w.org">


<link rel="stylesheet" id="wp-block-library-css" href="https://shlomi-noach.github.io/blog/wp-includes/css/dist/block-library/style.min.css" media="all">
<style id="wp-block-library-inline-css">
.has-text-align-justify{text-align:justify;}
</style>
<link rel="stylesheet" id="wp-polls-css" href="https://shlomi-noach.github.io/blog/wp-content/plugins/wp-polls/polls-css.css" media="all">
<style id="wp-polls-inline-css">
.wp-polls .pollbar {
	margin: 1px;
	font-size: 6px;
	line-height: 8px;
	height: 8px;
	background-image: url('https://shlomi-noach.github.io/blog/wp-content/plugins/wp-polls/images/default/pollbg.gif');
	border: 1px solid #c8c8c8;
}

</style>
<link rel="stylesheet" id="openark-primer-style-css" href="https://shlomi-noach.github.io/blog/wp-content/themes/openark-primer/style.css" media="all">
<link rel="stylesheet" id="jetpack_css-css" href="https://shlomi-noach.github.io/blog/wp-content/plugins/jetpack/css/jetpack.css" media="all">
<script src="https://shlomi-noach.github.io/blog/wp-includes/js/jquery/jquery.js"></script>
<script src="https://shlomi-noach.github.io/blog/wp-includes/js/jquery/jquery-migrate.min.js"></script>



<style data-context="foundation-flickity-css">/*! Flickity v2.0.2
http://flickity.metafizzy.co
---------------------------------------------- */.flickity-enabled{position:relative}.flickity-enabled:focus{outline:0}.flickity-viewport{overflow:hidden;position:relative;height:100%}.flickity-slider{position:absolute;width:100%;height:100%}.flickity-enabled.is-draggable{-webkit-tap-highlight-color:transparent;tap-highlight-color:transparent;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.flickity-enabled.is-draggable .flickity-viewport{cursor:move;cursor:-webkit-grab;cursor:grab}.flickity-enabled.is-draggable .flickity-viewport.is-pointer-down{cursor:-webkit-grabbing;cursor:grabbing}.flickity-prev-next-button{position:absolute;top:50%;width:44px;height:44px;border:none;border-radius:50%;background:#fff;background:hsla(0,0%,100%,.75);cursor:pointer;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.flickity-prev-next-button:hover{background:#fff}.flickity-prev-next-button:focus{outline:0;box-shadow:0 0 0 5px #09f}.flickity-prev-next-button:active{opacity:.6}.flickity-prev-next-button.previous{left:10px}.flickity-prev-next-button.next{right:10px}.flickity-rtl .flickity-prev-next-button.previous{left:auto;right:10px}.flickity-rtl .flickity-prev-next-button.next{right:auto;left:10px}.flickity-prev-next-button:disabled{opacity:.3;cursor:auto}.flickity-prev-next-button svg{position:absolute;left:20%;top:20%;width:60%;height:60%}.flickity-prev-next-button .arrow{fill:#333}.flickity-page-dots{position:absolute;width:100%;bottom:-25px;padding:0;margin:0;list-style:none;text-align:center;line-height:1}.flickity-rtl .flickity-page-dots{direction:rtl}.flickity-page-dots .dot{display:inline-block;width:10px;height:10px;margin:0 8px;background:#333;border-radius:50%;opacity:.25;cursor:pointer}.flickity-page-dots .dot.is-selected{opacity:1}</style><style data-context="foundation-slideout-css">.slideout-menu{position:fixed;left:0;top:0;bottom:0;right:auto;z-index:0;width:256px;overflow-y:auto;-webkit-overflow-scrolling:touch;display:none}.slideout-menu.pushit-right{left:auto;right:0}.slideout-panel{position:relative;z-index:1;will-change:transform}.slideout-open,.slideout-open .slideout-panel,.slideout-open body{overflow:hidden}.slideout-open .slideout-menu{display:block}.pushit{display:none}</style>
<link rel="dns-prefetch" href="//v0.wordpress.com">


<meta property="og:type" content="website">
<meta property="og:title" content="September 2015 – code.openark.org">
<meta property="og:site_name" content="code.openark.org">
<meta property="og:image" content="https://s0.wp.com/i/blank.jpg">
<meta property="og:locale" content="en_US">


<style>.ios7.web-app-mode.has-fixed header{ background-color: rgba(242,101,34,.88);}</style></head>

<body class="archive date hfeed no-sidebar">
<div id="page" class="site">
	<a class="skip-link screen-reader-text" href="#primary">Skip to content</a>

	<header id="masthead" class="site-header">
		<div class="site-branding">
							<p class="site-title"><a href="https://shlomi-noach.github.io/blog/" rel="home">code.openark.org</a></p>
								<p class="site-description">Blog by Shlomi Noach</p>
			
			<nav id="site-navigation" class="main-navigation">
				<button class="menu-toggle" aria-controls="primary-menu" aria-expanded="false">primary-menu</button>
				<div class="menu-primary-menu-container"><ul id="menu-primary-menu" class="menu"><li id="menu-item-8109" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-8109"><a href="https://shlomi-noach.github.io/blog/archives">archives</a></li>
<li id="menu-item-8050" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-8050"><a href="https://shlomi-noach.github.io/blog/presentations">presentations</a></li>
<li id="menu-item-8055" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-8055"><a href="https://shlomi-noach.github.io/blog/about">about</a></li>
<li id="menu-item-8071" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-8071"><a href="https://github.com/shlomi-noach"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewbox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"></path></svg></a></li>
<li id="menu-item-8074" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-8074"><a href="https://www.linkedin.com/in/shlominoach"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewbox="0 0 24 24"><path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"></path></svg></a></li>
<li id="menu-item-8072" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-8072"><a href="https://twitter.com/ShlomiNoach"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewbox="0 0 24 24"><path d="M12 0c-6.627 0-12 5.373-12 12s5.373 12 12 12 12-5.373 12-12-5.373-12-12-12zm6.066 9.645c.183 4.04-2.83 8.544-8.164 8.544-1.622 0-3.131-.476-4.402-1.291 1.524.18 3.045-.244 4.252-1.189-1.256-.023-2.317-.854-2.684-1.995.451.086.895.061 1.298-.049-1.381-.278-2.335-1.522-2.304-2.853.388.215.83.344 1.301.359-1.279-.855-1.641-2.544-.889-3.835 1.416 1.738 3.533 2.881 5.92 3.001-.419-1.796.944-3.527 2.799-3.527.825 0 1.572.349 2.096.907.654-.128 1.27-.368 1.824-.697-.215.671-.67 1.233-1.263 1.589.581-.07 1.135-.224 1.649-.453-.384.578-.87 1.084-1.433 1.489z"></path></svg></a></li>
<li id="menu-item-8073" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-8073"><a href="https://shlomi-noach.github.io/blog/feed"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewbox="0 0 24 24"><path d="M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-12.832 20c-1.197 0-2.168-.969-2.168-2.165s.971-2.165 2.168-2.165 2.167.969 2.167 2.165-.97 2.165-2.167 2.165zm5.18 0c-.041-4.029-3.314-7.298-7.348-7.339v-3.207c5.814.041 10.518 4.739 10.561 10.546h-3.213zm5.441 0c-.021-7.063-5.736-12.761-12.789-12.792v-3.208c8.83.031 15.98 7.179 16 16h-3.211z"></path></svg></a></li>
</ul></div>			</nav>
		</div>
	</header>

	<main id="primary" class="site-main">

		
			<header class="page-header">
				<h1 class="page-title">Month: September 2015</h1>			</header>

			
<article id="post-7409" class="post-7409 post type-post status-publish format-standard hentry category-mysql tag-community tag-perconalive">
	<header class="entry-header">
		<h2 class="entry-title"><a href="https://shlomi-noach.github.io/blog/mysql/percona-live-amsterdam-community-dinner-last-updates" rel="bookmark">Percona Live Amsterdam: Community Dinner, last updates</a></h2>			<div class="entry-meta">
				<span class="cat-links"><a href="https://shlomi-noach.github.io/blog/category/mysql" rel="category tag">MySQL</a></span><span class="tags-links"><a href="https://shlomi-noach.github.io/blog/tag/community" rel="tag">community</a><a href="https://shlomi-noach.github.io/blog/tag/perconalive" rel="tag">PerconaLive</a></span><span class="posted-on alignright"><a href="https://shlomi-noach.github.io/blog/mysql/percona-live-amsterdam-community-dinner-last-updates" rel="bookmark"><time class="entry-date published" datetime="2015-09-18T14:14:58+02:00">September 18, 2015</time><time class="updated" datetime="2015-09-18T15:10:12+02:00">September 18, 2015</time></a></span>			</div>
			</header>

	
	<div class="entry-content">
		<p>Registration for the Percona Live Amsterdam conference <a href="https://www.eventbrite.com/e/community-dinner-bookingcom-tickets-17901675393">community dinner at Booking.com</a> is ongoing. Please note the following:</p>
<ul>
<li>By Monday noon the kitchen will make the necessary purchasing. At this time we will have to give them a number, which we will not exceed.</li>
<li>The number we will give them is <strong>$(number of registrants Monday 12:00) + X</strong>, <strong>X</strong> being a constant</li>
<li>Those <strong>X</strong> tickets will be available until <strong>Tuesday 12:00</strong></li>
<li>After which the registration is closed. We wish to avoid throwing away food, on one hand, as well as respect those who have reserved place and avoid running out of food, on the other.</li>
</ul>
<p>Entry to the <a href="https://goo.gl/maps/06oOA">Booking.com building</a> will be made available via Security personnel to those people who will be listed by the eventbrite registration. We will not be able to have last moment registrants; we will not collect money at the entrance; no credit cards accepted at the doorway.</p>
<p>If you’d like to attend the community dinner, please <a href="https://www.eventbrite.com/e/community-dinner-bookingcom-tickets-17901675393">register</a> now!</p>
<p>FYI Percona has arranged for boats to make the travel from the conference venue to Booking.com (no registration required, but room limited on those boats as well).</p>
<p>Now ain’t I being dramatic here. <em>So happy</em> to see everyone here in Amsterdam in a few days!</p>
	</div>

	<footer class="entry-footer">
		<span class="comments-link"><a href="https://shlomi-noach.github.io/blog/mysql/percona-live-amsterdam-community-dinner-last-updates#respond">Leave a Comment<span class="screen-reader-text"> on Percona Live Amsterdam: Community Dinner, last updates</span></a></span>	</footer>
</article>

<article id="post-7396" class="post-7396 post type-post status-publish format-standard hentry category-mysql tag-orchestrator tag-perconalive">
	<header class="entry-header">
		<h2 class="entry-title"><a href="https://shlomi-noach.github.io/blog/mysql/speaking-at-percona-live-amsterdam-orchestrator" rel="bookmark">Speaking at Percona Live Amsterdam: Orchestrator</a></h2>			<div class="entry-meta">
				<span class="cat-links"><a href="https://shlomi-noach.github.io/blog/category/mysql" rel="category tag">MySQL</a></span><span class="tags-links"><a href="https://shlomi-noach.github.io/blog/tag/orchestrator" rel="tag">orchestrator</a><a href="https://shlomi-noach.github.io/blog/tag/perconalive" rel="tag">PerconaLive</a></span><span class="posted-on alignright"><a href="https://shlomi-noach.github.io/blog/mysql/speaking-at-percona-live-amsterdam-orchestrator" rel="bookmark"><time class="entry-date published" datetime="2015-09-15T09:27:38+02:00">September 15, 2015</time><time class="updated" datetime="2015-09-26T21:42:43+02:00">September 26, 2015</time></a></span>			</div>
			</header>

	
	<div class="entry-content">
		<p>In a week’s time I’ll be speaking at <a href="https://www.percona.com/live/europe-amsterdam-2015/">Percona Live Amsterdam</a>. I will be presenting:</p>
<blockquote><p><a href="https://www.percona.com/live/europe-amsterdam-2015/sessions/managing-and-visualizing-your-replication-topologies-orchestrator">Managing and Visualizing your replication topologies with Orchestrator<br>
</a>23 September 4:20PM<a href="https://www.percona.com/live/europe-amsterdam-2015/sessions/managing-and-visualizing-your-replication-topologies-orchestrator"><br>
</a></p></blockquote>
<p>This talk will present <strong><a href="https://github.com/outbrain/orchestrator">orchestrator</a></strong>, on which I’ve been working for the last year and a half, originally at <a href="http://www.outbrain.com">Outbrain</a> and now at <a href="https://workingatbooking.com/">Booking.com</a>.</p>
<p>I will show off what <em>orchestrator</em> can do to manage your replication topologies. From visualization, through topology refactoring to automated crash recoveries, <em>orchestrator</em> today plays a key role at Booking.com infrastructure, at scale (oh I love using these words).</p>
<p>You can expect an outrageous demo, a visual walkthrough, some command line examples, and a lot on the logic and mechanisms behind <em>orchestrator</em>. I will present the difficult problems <em>orchestrator</em> covers.</p>
<p><em>orchestrator</em> is free and open source, and is built to be as generic as possible; it is known to be used by multiple well known companies these days, so please join the party.</p>
<p>With that, I conclude with the almighty motto: <a href="https://shlomi-noach.github.io/blog/mysql/speaking-at-percona-live-amsterdam-orchestrator#more-7396" class="more-link">Continue reading »<span class="screen-reader-text"> “Speaking at Percona Live Amsterdam: Orchestrator”</span></a></p>
	</div>

	<footer class="entry-footer">
		<span class="comments-link"><a href="https://shlomi-noach.github.io/blog/mysql/speaking-at-percona-live-amsterdam-orchestrator#comments">6 Comments<span class="screen-reader-text"> on Speaking at Percona Live Amsterdam: Orchestrator</span></a></span>	</footer>
</article>

<article id="post-7392" class="post-7392 post type-post status-publish format-standard hentry category-mysql">
	<header class="entry-header">
		<h2 class="entry-title"><a href="https://shlomi-noach.github.io/blog/mysql/three-wishes-for-a-new-year-2015" rel="bookmark">Three wishes for a new year</a></h2>			<div class="entry-meta">
				<span class="cat-links"><a href="https://shlomi-noach.github.io/blog/category/mysql" rel="category tag">MySQL</a></span><span class="posted-on alignright"><a href="https://shlomi-noach.github.io/blog/mysql/three-wishes-for-a-new-year-2015" rel="bookmark"><time class="entry-date published updated" datetime="2015-09-14T08:43:20+02:00">September 14, 2015</time></a></span>			</div>
			</header>

	
	<div class="entry-content">
		<div>
<p>Another new year by Jewish calendar. What do I wish for the following year?</p>
<ol>
<li>World peace</li>
<li>Good health to all</li>
<li>Decent, operations friendly built in online table refactoring</li>
</ol>
<p>The existing online ALTER TABLE solution is still not there. It does not take into consideration the load on the server. In replication stream it’s serialized just as any other statement. It’s not easy to stop/revert in case of problem.</p>
<p>The existing online-schema-change scripts are still based on <a href="https://shlomi-noach.github.io/blog/mysql/online-alter-table-now-available-in-openark-kit">my 6-year old original solution</a>, I’m proud to say, but the technology used, i.e. triggers, hasn’t really evolved since then. We are still fighting deadlocks induced by the use of triggers and/or concurrent copying of data. There are still limitations on use of foreign keys.</p>
<p>None of my wishes in previous years [<a href="https://shlomi-noach.github.io/blog/mysql/three-wishes-for-a-new-year">2010</a>], [<a href="https://shlomi-noach.github.io/blog/mysql/three-wishes-for-a-new-year-2">2011</a>], [<a href="https://shlomi-noach.github.io/blog/mysql/three-wishes-for-a-new-year-201">2012</a>], [<a href="https://shlomi-noach.github.io/blog/mysql/three-wished-for-a-new-year-2013">2013</a>], <a href="https://shlomi-noach.github.io/blog/mysql/three-wishes-for-a-new-year-3">[2014]</a> came true (and mostly gone worse). I’m still willing to settle for two out of three.</p>
</div>
<div class="sharedaddy sd-sharing-enabled"></div>
	</div>

	<footer class="entry-footer">
		<span class="comments-link"><a href="https://shlomi-noach.github.io/blog/mysql/three-wishes-for-a-new-year-2015#comments">1 Comment<span class="screen-reader-text"> on Three wishes for a new year</span></a></span>	</footer>
</article>

<article id="post-7347" class="post-7347 post type-post status-publish format-standard hentry category-mysql tag-open-source tag-orchestrator tag-pseudo-gtid tag-replication">
	<header class="entry-header">
		<h2 class="entry-title"><a href="https://shlomi-noach.github.io/blog/mysql/orchestrator-visual-cheatsheet-tldr-the-smart-way" rel="bookmark">Orchestrator visual cheatsheet, TL;DR the “smart” way</a></h2>			<div class="entry-meta">
				<span class="cat-links"><a href="https://shlomi-noach.github.io/blog/category/mysql" rel="category tag">MySQL</a></span><span class="tags-links"><a href="https://shlomi-noach.github.io/blog/tag/open-source" rel="tag">Open Source</a><a href="https://shlomi-noach.github.io/blog/tag/orchestrator" rel="tag">orchestrator</a><a href="https://shlomi-noach.github.io/blog/tag/pseudo-gtid" rel="tag">Pseudo GTID</a><a href="https://shlomi-noach.github.io/blog/tag/replication" rel="tag">Replication</a></span><span class="posted-on alignright"><a href="https://shlomi-noach.github.io/blog/mysql/orchestrator-visual-cheatsheet-tldr-the-smart-way" rel="bookmark"><time class="entry-date published updated" datetime="2015-09-02T09:14:05+02:00">September 2, 2015</time></a></span>			</div>
			</header>

	
	<div class="entry-content">
		<p><strong><a href="https://github.com/outbrain/orchestrator">Orchestrator</a></strong> is <em>really</em> growing. And the amount of users (DBAs, sys admins) using it is growing. Which gives me a lot of immediate feedback in the form of <em>“Look, there’s just too many options to move slaves around! Which ones should we use?”</em></p>
<h3>TL;DR look at the two visualized commands below</h3>
<p>They are enough</p>
<h3>The “smart” commands to end all commands</h3>
<p>So all relocation commands are important, and give you fine-grained, pin-pointed control of the method of topology refactoring. However, most of the time you <em>just want to move those servers around</em>. Which is why there’s a new “smart” mode which support these two commands, which you should be happy using:</p>
<ul>
<li><strong>relocate</strong>: move a single slave to another position</li>
<li><strong>relocate-slaves</strong>: move all/some slaves of some server to another position.</li>
</ul>
<p>What makes these commands Smart? You can move slaves around from <em>anywhere</em> to <em>anywhere</em>. And <em>orchestrator</em> figures out the bast execution path. If possible, it uses GTID. Not possible? Is Pseudo-GTID available? Great, using Pseudo-GTID. Oh, are there binlog servers involved? Really simple, use them. None of the above? <em>Orchestrator</em> will use “standard” binlog file:pos math (with limitations). <em>Orchestrator</em> will even figure out if multiple steps are necessary and will combine any of the above.</p>
<p>So you don’t have to remember all the possible ways and options. The visual cheatsheet now boils down to these two:</p>
<blockquote><p><a href="https://shlomi-noach.github.io/blog/wp-content/uploads/2015/08/orchestrator-cheatsheet-visualized-relocate.png"><img class="alignnone size-full wp-image-7357" src="https://shlomi-noach.github.io/blog/wp-content/uploads/2015/08/orchestrator-cheatsheet-visualized-relocate.png" alt="orchestrator-cheatsheet-visualized-relocate" width="720" height="405" srcset="https://shlomi-noach.github.io/blog/wp-content/uploads/2015/08/orchestrator-cheatsheet-visualized-relocate.png 720w,https://shlomi-noach.github.io/blog/wp-content/uploads/2015/08/orchestrator-cheatsheet-visualized-relocate-300x169.png 300w" sizes="(max-width: 720px) 100vw, 720px"></a></p>
<p><a href="https://shlomi-noach.github.io/blog/wp-content/uploads/2015/08/orchestrator-cheatsheet-visualized-relocate-slaves.png"><img class="alignnone size-full wp-image-7350" src="https://shlomi-noach.github.io/blog/wp-content/uploads/2015/08/orchestrator-cheatsheet-visualized-relocate-slaves.png" alt="orchestrator-cheatsheet-visualized-relocate-slaves" width="720" height="405" srcset="https://shlomi-noach.github.io/blog/wp-content/uploads/2015/08/orchestrator-cheatsheet-visualized-relocate-slaves.png 720w,https://shlomi-noach.github.io/blog/wp-content/uploads/2015/08/orchestrator-cheatsheet-visualized-relocate-slaves-300x169.png 300w" sizes="(max-width: 720px) 100vw, 720px"></a></p></blockquote>
<p>Let’s take a slightly deeper look <a href="https://shlomi-noach.github.io/blog/mysql/orchestrator-visual-cheatsheet-tldr-the-smart-way#more-7347" class="more-link">Continue reading »<span class="screen-reader-text"> “Orchestrator visual cheatsheet, TL;DR the “smart” way”</span></a></p>
	</div>

	<footer class="entry-footer">
		<span class="comments-link"><a href="https://shlomi-noach.github.io/blog/mysql/orchestrator-visual-cheatsheet-tldr-the-smart-way#respond">Leave a Comment<span class="screen-reader-text"> on Orchestrator visual cheatsheet, TL;DR the “smart” way</span></a></span>	</footer>
</article>

<article id="post-7360" class="post-7360 post type-post status-publish format-standard hentry category-mysql tag-open-source tag-orchestrator tag-pseudo-gtid tag-replication">
	<header class="entry-header">
		<h2 class="entry-title"><a href="https://shlomi-noach.github.io/blog/mysql/orchestrator-1-4-340-gtid-binlog-servers-smart-mode-failovers-and-lots-of-goodies" rel="bookmark">Orchestrator 1.4.340: GTID, binlog servers, Smart Mode, failovers and lots of goodies</a></h2>			<div class="entry-meta">
				<span class="cat-links"><a href="https://shlomi-noach.github.io/blog/category/mysql" rel="category tag">MySQL</a></span><span class="tags-links"><a href="https://shlomi-noach.github.io/blog/tag/open-source" rel="tag">Open Source</a><a href="https://shlomi-noach.github.io/blog/tag/orchestrator" rel="tag">orchestrator</a><a href="https://shlomi-noach.github.io/blog/tag/pseudo-gtid" rel="tag">Pseudo GTID</a><a href="https://shlomi-noach.github.io/blog/tag/replication" rel="tag">Replication</a></span><span class="posted-on alignright"><a href="https://shlomi-noach.github.io/blog/mysql/orchestrator-1-4-340-gtid-binlog-servers-smart-mode-failovers-and-lots-of-goodies" rel="bookmark"><time class="entry-date published" datetime="2015-09-01T12:10:15+02:00">September 1, 2015</time><time class="updated" datetime="2015-09-11T13:15:28+02:00">September 11, 2015</time></a></span>			</div>
			</header>

	
	<div class="entry-content">
		<p><a href="https://github.com/outbrain/orchestrator/releases"><strong>Orchestrator</strong> 1.4.340 is released</a>. Not quite competing with the MySQL latest changelog, and as I haven’t blogged about <em>orchestrator</em> featureset in a while, this is a quick listing of <em>orchestrator</em> features available since my last publication:</p>
<ul>
<li>Supports <strong>GTID</strong> (Oracle & MariaDB)
<ul>
<li>GTID still not being used in automated recovery — in progress.</li>
<li><strong>enable-gtid</strong>, <strong>disable-gtid</strong>, <strong>skip-query</strong> for GTID commands</li>
</ul>
</li>
<li>Supports <strong>binlog servers</strong> (MaxScale)
<ul>
<li>Discovery & operations on binlog servers</li>
<li>Understanding slave repositioning in a binlog-server architecture</li>
</ul>
</li>
<li><strong>Smart mode</strong>: relocate & relocate-below commands (or Web/GUI drag-n-drop) let <em>orchestrator</em> figure out the best way of slave repositioning. <em>Orchestrator</em> picks from GTID, Pseudo GTID, binlog servers, binlog file:pos math (and more) options, or combinations of the above. Fine grained commands still there, but mostly you won’t need them.</li>
<li><strong>Crash recoveries</strong> (did you know <em>orchestrator</em> does that?):
<ul>
<li>For intermediate master recovery: improved logic in picking the best recovery plan (prefer in-DC, prefer promoting local slave, supporting binlog server topologies, …)</li>
<li>For master recovery: even better slave promotion; supports <em>candidate slaves </em>(prefer promoting such slaves); supports binlog server shared topologies</li>
<li>Better auditing and logging of recovery cases</li>
<li>Better analysis of crash scenarios, also in the event of lost VIPs, hanging connections; emergent checks in crash suspected scenarios</li>
<li>recover-lite: do all topology-only recovery steps, without invoking external processes</li>
</ul>
</li>
<li><strong>Better browser support</strong>: used to only work on Firefox and Chrome (and the latter has had issues), the Web UI should now work well on all browsers, at the cost of reduced <strong>d3</strong> animation. More work still in progress.</li>
<li><strong>Faster</strong>, more parallel, less blocking operations on all counts; removed a lots of serialized code; less locks.</li>
<li><strong>Web enhancements</strong>
<ul>
<li>More verbose drag-n-drop (operation hint; color hints)</li>
<li>Drag-n-drop for <em>slaves-of-a-server</em></li>
<li>Replication/crash analysis dashboard</li>
</ul>
</li>
<li><strong>Pools</strong>: <em>orchestrator</em> can be <em>told</em> about instance-to-pool association (<strong>submit-pool-instances</strong> command)
<ul>
<li>And can then present pool status (web)</li>
<li>Or pool hints within topologies (web)</li>
<li>Or queried for all pools (<strong>cluster-pool-instances</strong> command)</li>
</ul>
</li>
<li>Other:
<ul>
<li>Supports MySQL <strong>5.7</strong> (tested with <strong>5.7.8</strong>)</li>
<li>Configurable graphite path for metrics</li>
<li><strong>–noop</strong> flag; does all the work except for actually changing master on slaves. Shows intentions.</li>
<li>Web (or cli <strong>which-cluster-osc-slaves</strong> command) provide list of control slaves to use in <strong>pt-osc</strong> operation</li>
<li><strong>hostname-unresolve</strong>: force <em>orchestrator</em> to unresolve a fqdn into VIP/CNAME/… when issuing a CHANGE MASTER TO</li>
</ul>
</li>
<li>3rd party contributions (hey, thanks!) include:
<ul>
<li>More & better SSL support</li>
<li>Vagrant templates</li>
</ul>
</li>
<li>For developers:
<ul>
<li><em>Orchestrator</em> now go-gettable. Just <strong>go get github.com/outbrain/orchestrator</strong></li>
<li>Improved build script; supports more architectures</li>
</ul>
</li>
</ul>
<p> <a href="https://shlomi-noach.github.io/blog/mysql/orchestrator-1-4-340-gtid-binlog-servers-smart-mode-failovers-and-lots-of-goodies#more-7360" class="more-link">Continue reading »<span class="screen-reader-text"> “Orchestrator 1.4.340: GTID, binlog servers, Smart Mode, failovers and lots of goodies”</span></a></p>
	</div>

	<footer class="entry-footer">
		<span class="comments-link"><a href="https://shlomi-noach.github.io/blog/mysql/orchestrator-1-4-340-gtid-binlog-servers-smart-mode-failovers-and-lots-of-goodies#respond">Leave a Comment<span class="screen-reader-text"> on Orchestrator 1.4.340: GTID, binlog servers, Smart Mode, failovers and lots of goodies</span></a></span>	</footer>
</article>

	</main>


	<footer id="colophon" class="site-footer">
		<div class="site-info">
			<a href="https://wordpress.org/">
				Powered by WordPress			</a>
			<span class="sep"> | </span>
				Theme: <a href="http://openark.org">openark-primer</a> by <a href="http://underscores.me/">Underscores.me</a>.		</div>
	</footer>
</div>

	<div style="display:none">
	</div>
<script>
var pollsL10n = {"ajax_url":"https:\/\/shlomi-noach.github.io\/blog\/wp-admin\/admin-ajax.php","text_wait":"Your last request is still being processed. Please wait a while ...","text_valid":"Please choose a valid poll answer.","text_multiple":"Maximum number of choices allowed: ","show_loading":"1","show_fading":"1"};
</script>
<script src="https://shlomi-noach.github.io/blog/wp-content/plugins/wp-polls/polls-js.js"></script>
<script src="https://secure.gravatar.com/js/gprofiles.js?ver=2020Junaa"></script>
<script>
var WPGroHo = {"my_hash":""};
</script>
<script src="https://shlomi-noach.github.io/blog/wp-content/plugins/jetpack/modules/wpgroho.js"></script>
<script src="https://shlomi-noach.github.io/blog/wp-content/themes/openark-primer/js/navigation.js"></script>
<script src="https://shlomi-noach.github.io/blog/wp-content/themes/openark-primer/js/skip-link-focus-fix.js"></script>
<script type="text/javascript" src="https://stats.wp.com/e-202024.js" async="async" defer></script>
<script type="text/javascript">
	_stq = window._stq || [];
	_stq.push([ 'view', {v:'ext',j:'1:8.2.1',blog:'32412571',post:'0',tz:'2',srv:'code.openark.org'} ]);
	_stq.push([ 'clickTrackerInit', '32412571', '0' ]);
</script>

</body>
</html>
